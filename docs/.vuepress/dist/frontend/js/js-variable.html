<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JS深入：var、let、const | 一苇</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/blog/icons/favicon.ico">
    <link rel="manifest" href="/blog/js/mainfest.json">
    <link rel="stylesheet" href="/blog/styles/css/style.css">
    <script type="utf-8" src="/blog/js/disable-user-zoom.js"></script>
    <meta name="description" content="这是阿沐的博客哦~">
    <meta name="Author" content="一苇">
    <meta rel="keywords" content="verneyzhou,阿沐,一苇,前端,docs.verneyzhou-code.cn,博客,fe,IT,技术">
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
    <meta name="viewport" content="width=device-width,width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <link rel="preload" href="/blog/assets/css/0.styles.61668f40.css" as="style"><link rel="preload" href="/blog/assets/js/app.7a9bf9ca.js" as="script"><link rel="preload" href="/blog/assets/js/3.a2a245ac.js" as="script"><link rel="preload" href="/blog/assets/js/59.0e8d9edb.js" as="script"><link rel="preload" href="/blog/assets/js/4.245b4373.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.0b6c1152.js"><link rel="prefetch" href="/blog/assets/js/100.ad35b061.js"><link rel="prefetch" href="/blog/assets/js/101.2c204f60.js"><link rel="prefetch" href="/blog/assets/js/102.e63617be.js"><link rel="prefetch" href="/blog/assets/js/103.57dc8e76.js"><link rel="prefetch" href="/blog/assets/js/104.7ac803db.js"><link rel="prefetch" href="/blog/assets/js/105.a5dd02c7.js"><link rel="prefetch" href="/blog/assets/js/106.4b828c0e.js"><link rel="prefetch" href="/blog/assets/js/107.536ef4fd.js"><link rel="prefetch" href="/blog/assets/js/108.26952ee4.js"><link rel="prefetch" href="/blog/assets/js/109.ade204dd.js"><link rel="prefetch" href="/blog/assets/js/11.b6d6a28f.js"><link rel="prefetch" href="/blog/assets/js/110.0ec777cb.js"><link rel="prefetch" href="/blog/assets/js/111.24d515de.js"><link rel="prefetch" href="/blog/assets/js/112.971dbd5c.js"><link rel="prefetch" href="/blog/assets/js/113.6a60abb8.js"><link rel="prefetch" href="/blog/assets/js/114.aeb7bf59.js"><link rel="prefetch" href="/blog/assets/js/115.9d6fffad.js"><link rel="prefetch" href="/blog/assets/js/116.404ee8fe.js"><link rel="prefetch" href="/blog/assets/js/117.5de970f4.js"><link rel="prefetch" href="/blog/assets/js/118.65952bd9.js"><link rel="prefetch" href="/blog/assets/js/119.279123d1.js"><link rel="prefetch" href="/blog/assets/js/12.06f5d794.js"><link rel="prefetch" href="/blog/assets/js/120.ac179ef5.js"><link rel="prefetch" href="/blog/assets/js/121.16c8dae5.js"><link rel="prefetch" href="/blog/assets/js/122.9b2a45ef.js"><link rel="prefetch" href="/blog/assets/js/123.62d44726.js"><link rel="prefetch" href="/blog/assets/js/124.31dee079.js"><link rel="prefetch" href="/blog/assets/js/125.e3ee58e3.js"><link rel="prefetch" href="/blog/assets/js/126.3b9de265.js"><link rel="prefetch" href="/blog/assets/js/127.fb01aa61.js"><link rel="prefetch" href="/blog/assets/js/128.dbb4cefd.js"><link rel="prefetch" href="/blog/assets/js/129.f9aa995b.js"><link rel="prefetch" href="/blog/assets/js/13.b8ba6830.js"><link rel="prefetch" href="/blog/assets/js/130.688da74c.js"><link rel="prefetch" href="/blog/assets/js/131.fb54f08d.js"><link rel="prefetch" href="/blog/assets/js/132.919938b3.js"><link rel="prefetch" href="/blog/assets/js/133.3f6d490e.js"><link rel="prefetch" href="/blog/assets/js/134.eb0a3df8.js"><link rel="prefetch" href="/blog/assets/js/135.8975e738.js"><link rel="prefetch" href="/blog/assets/js/136.2a5f1b57.js"><link rel="prefetch" href="/blog/assets/js/137.dddee539.js"><link rel="prefetch" href="/blog/assets/js/138.7e622d6d.js"><link rel="prefetch" href="/blog/assets/js/139.8e1cd38c.js"><link rel="prefetch" href="/blog/assets/js/14.af682e8e.js"><link rel="prefetch" href="/blog/assets/js/140.dcfcea46.js"><link rel="prefetch" href="/blog/assets/js/141.5db3d0fd.js"><link rel="prefetch" href="/blog/assets/js/142.0fc081a7.js"><link rel="prefetch" href="/blog/assets/js/143.6173330a.js"><link rel="prefetch" href="/blog/assets/js/144.787621bc.js"><link rel="prefetch" href="/blog/assets/js/145.7b6066da.js"><link rel="prefetch" href="/blog/assets/js/146.e3ee450e.js"><link rel="prefetch" href="/blog/assets/js/147.a0e43641.js"><link rel="prefetch" href="/blog/assets/js/148.3af7dab1.js"><link rel="prefetch" href="/blog/assets/js/149.00af2f32.js"><link rel="prefetch" href="/blog/assets/js/15.e0f3979f.js"><link rel="prefetch" href="/blog/assets/js/150.dfc8c76e.js"><link rel="prefetch" href="/blog/assets/js/151.94cc1ffb.js"><link rel="prefetch" href="/blog/assets/js/152.9de0de57.js"><link rel="prefetch" href="/blog/assets/js/153.0093d1a8.js"><link rel="prefetch" href="/blog/assets/js/154.6c8bb449.js"><link rel="prefetch" href="/blog/assets/js/155.7cc4c594.js"><link rel="prefetch" href="/blog/assets/js/156.2e1d8281.js"><link rel="prefetch" href="/blog/assets/js/157.2913d6f4.js"><link rel="prefetch" href="/blog/assets/js/158.81c2f578.js"><link rel="prefetch" href="/blog/assets/js/159.ae0624a2.js"><link rel="prefetch" href="/blog/assets/js/16.3ee40a8a.js"><link rel="prefetch" href="/blog/assets/js/160.e1fef25c.js"><link rel="prefetch" href="/blog/assets/js/161.9815acee.js"><link rel="prefetch" href="/blog/assets/js/162.c39e1156.js"><link rel="prefetch" href="/blog/assets/js/163.6a2640c8.js"><link rel="prefetch" href="/blog/assets/js/164.9debc8b1.js"><link rel="prefetch" href="/blog/assets/js/165.b5960db8.js"><link rel="prefetch" href="/blog/assets/js/166.27aee961.js"><link rel="prefetch" href="/blog/assets/js/167.cef166c7.js"><link rel="prefetch" href="/blog/assets/js/168.6f2dc582.js"><link rel="prefetch" href="/blog/assets/js/169.6e0d4ed3.js"><link rel="prefetch" href="/blog/assets/js/17.81f8937d.js"><link rel="prefetch" href="/blog/assets/js/170.0dd9b304.js"><link rel="prefetch" href="/blog/assets/js/171.afc51d13.js"><link rel="prefetch" href="/blog/assets/js/172.80ba3673.js"><link rel="prefetch" href="/blog/assets/js/173.266d932b.js"><link rel="prefetch" href="/blog/assets/js/174.4a3422cf.js"><link rel="prefetch" href="/blog/assets/js/175.66b55b92.js"><link rel="prefetch" href="/blog/assets/js/176.e636d590.js"><link rel="prefetch" href="/blog/assets/js/177.aa5ec99c.js"><link rel="prefetch" href="/blog/assets/js/178.0843a28c.js"><link rel="prefetch" href="/blog/assets/js/179.14636bc3.js"><link rel="prefetch" href="/blog/assets/js/18.58a7b3ca.js"><link rel="prefetch" href="/blog/assets/js/180.e6310c19.js"><link rel="prefetch" href="/blog/assets/js/181.97a20ed5.js"><link rel="prefetch" href="/blog/assets/js/182.b2f91c08.js"><link rel="prefetch" href="/blog/assets/js/183.e7f41afd.js"><link rel="prefetch" href="/blog/assets/js/184.94ed31ce.js"><link rel="prefetch" href="/blog/assets/js/185.819cc891.js"><link rel="prefetch" href="/blog/assets/js/186.f5172db2.js"><link rel="prefetch" href="/blog/assets/js/187.391f3147.js"><link rel="prefetch" href="/blog/assets/js/188.1e02d185.js"><link rel="prefetch" href="/blog/assets/js/189.411f899a.js"><link rel="prefetch" href="/blog/assets/js/19.4facbfcd.js"><link rel="prefetch" href="/blog/assets/js/190.531eddd1.js"><link rel="prefetch" href="/blog/assets/js/191.df36b0bb.js"><link rel="prefetch" href="/blog/assets/js/192.aa4ad892.js"><link rel="prefetch" href="/blog/assets/js/193.2634429f.js"><link rel="prefetch" href="/blog/assets/js/194.11092fca.js"><link rel="prefetch" href="/blog/assets/js/195.a4f0d47c.js"><link rel="prefetch" href="/blog/assets/js/196.dabf1015.js"><link rel="prefetch" href="/blog/assets/js/197.e9ad0ceb.js"><link rel="prefetch" href="/blog/assets/js/198.f1abb7d4.js"><link rel="prefetch" href="/blog/assets/js/199.6561e896.js"><link rel="prefetch" href="/blog/assets/js/20.c69c50ee.js"><link rel="prefetch" href="/blog/assets/js/200.02925058.js"><link rel="prefetch" href="/blog/assets/js/21.d36db816.js"><link rel="prefetch" href="/blog/assets/js/22.aa826409.js"><link rel="prefetch" href="/blog/assets/js/23.fdb82899.js"><link rel="prefetch" href="/blog/assets/js/24.9c7a84ee.js"><link rel="prefetch" href="/blog/assets/js/25.aef2c75d.js"><link rel="prefetch" href="/blog/assets/js/26.3e3cbaca.js"><link rel="prefetch" href="/blog/assets/js/27.09b82b4f.js"><link rel="prefetch" href="/blog/assets/js/28.47f73845.js"><link rel="prefetch" href="/blog/assets/js/29.db7b1409.js"><link rel="prefetch" href="/blog/assets/js/30.954c9b5b.js"><link rel="prefetch" href="/blog/assets/js/31.c1600861.js"><link rel="prefetch" href="/blog/assets/js/32.cc2bcb14.js"><link rel="prefetch" href="/blog/assets/js/33.aefdd21a.js"><link rel="prefetch" href="/blog/assets/js/34.4db629ab.js"><link rel="prefetch" href="/blog/assets/js/35.fccd851c.js"><link rel="prefetch" href="/blog/assets/js/36.a670e319.js"><link rel="prefetch" href="/blog/assets/js/37.977fcc61.js"><link rel="prefetch" href="/blog/assets/js/38.29752a9f.js"><link rel="prefetch" href="/blog/assets/js/39.75cc18af.js"><link rel="prefetch" href="/blog/assets/js/40.28c2824c.js"><link rel="prefetch" href="/blog/assets/js/41.0ae365fb.js"><link rel="prefetch" href="/blog/assets/js/42.9aef1cd5.js"><link rel="prefetch" href="/blog/assets/js/43.852390ad.js"><link rel="prefetch" href="/blog/assets/js/44.0614b2ba.js"><link rel="prefetch" href="/blog/assets/js/45.6e20dec4.js"><link rel="prefetch" href="/blog/assets/js/46.db7ce530.js"><link rel="prefetch" href="/blog/assets/js/47.80689722.js"><link rel="prefetch" href="/blog/assets/js/48.c1ec286d.js"><link rel="prefetch" href="/blog/assets/js/49.5f7d1823.js"><link rel="prefetch" href="/blog/assets/js/5.f9c6355e.js"><link rel="prefetch" href="/blog/assets/js/50.02654870.js"><link rel="prefetch" href="/blog/assets/js/51.0f955cff.js"><link rel="prefetch" href="/blog/assets/js/52.0ee75a8b.js"><link rel="prefetch" href="/blog/assets/js/53.d4dfcf3e.js"><link rel="prefetch" href="/blog/assets/js/54.8b8108fa.js"><link rel="prefetch" href="/blog/assets/js/55.f7c88592.js"><link rel="prefetch" href="/blog/assets/js/56.19f31c13.js"><link rel="prefetch" href="/blog/assets/js/57.ca16f4ae.js"><link rel="prefetch" href="/blog/assets/js/58.525bc0b8.js"><link rel="prefetch" href="/blog/assets/js/6.9db196de.js"><link rel="prefetch" href="/blog/assets/js/60.38c8cb52.js"><link rel="prefetch" href="/blog/assets/js/61.5963b434.js"><link rel="prefetch" href="/blog/assets/js/62.f3cfdb27.js"><link rel="prefetch" href="/blog/assets/js/63.ff19c69b.js"><link rel="prefetch" href="/blog/assets/js/64.26d67f5b.js"><link rel="prefetch" href="/blog/assets/js/65.6e8e7aa8.js"><link rel="prefetch" href="/blog/assets/js/66.3e2cae67.js"><link rel="prefetch" href="/blog/assets/js/67.2cfcde6b.js"><link rel="prefetch" href="/blog/assets/js/68.ebdc035d.js"><link rel="prefetch" href="/blog/assets/js/69.19ed83bc.js"><link rel="prefetch" href="/blog/assets/js/7.2475bca8.js"><link rel="prefetch" href="/blog/assets/js/70.2d3ebaaf.js"><link rel="prefetch" href="/blog/assets/js/71.3124cbd5.js"><link rel="prefetch" href="/blog/assets/js/72.e6d9b2fc.js"><link rel="prefetch" href="/blog/assets/js/73.ae2d45f2.js"><link rel="prefetch" href="/blog/assets/js/74.815bc7f6.js"><link rel="prefetch" href="/blog/assets/js/75.4ea22c59.js"><link rel="prefetch" href="/blog/assets/js/76.40c8dece.js"><link rel="prefetch" href="/blog/assets/js/77.30b215ff.js"><link rel="prefetch" href="/blog/assets/js/78.f2237bc4.js"><link rel="prefetch" href="/blog/assets/js/79.485cd74b.js"><link rel="prefetch" href="/blog/assets/js/8.d78a4d9a.js"><link rel="prefetch" href="/blog/assets/js/80.94762545.js"><link rel="prefetch" href="/blog/assets/js/81.aa751cd2.js"><link rel="prefetch" href="/blog/assets/js/82.1e5f3e1b.js"><link rel="prefetch" href="/blog/assets/js/83.8faaa0e0.js"><link rel="prefetch" href="/blog/assets/js/84.32d718f5.js"><link rel="prefetch" href="/blog/assets/js/85.0d2abee5.js"><link rel="prefetch" href="/blog/assets/js/86.52ab8df1.js"><link rel="prefetch" href="/blog/assets/js/87.838e1edc.js"><link rel="prefetch" href="/blog/assets/js/88.07766a18.js"><link rel="prefetch" href="/blog/assets/js/89.2627c1c2.js"><link rel="prefetch" href="/blog/assets/js/9.ec25f2ab.js"><link rel="prefetch" href="/blog/assets/js/90.fe1560dd.js"><link rel="prefetch" href="/blog/assets/js/91.eeeec2f9.js"><link rel="prefetch" href="/blog/assets/js/92.9d15d879.js"><link rel="prefetch" href="/blog/assets/js/93.d2402e60.js"><link rel="prefetch" href="/blog/assets/js/94.c6605ea1.js"><link rel="prefetch" href="/blog/assets/js/95.9ed397d2.js"><link rel="prefetch" href="/blog/assets/js/96.4965baf2.js"><link rel="prefetch" href="/blog/assets/js/97.971caaa4.js"><link rel="prefetch" href="/blog/assets/js/98.37a41b54.js"><link rel="prefetch" href="/blog/assets/js/99.1c2ec226.js"><link rel="prefetch" href="/blog/assets/js/vendors~flowchart.381052ad.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.61668f40.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/icons/apple-touch-icon.png" alt="一苇" class="logo"> <span class="site-name can-hide">一苇</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/archives/" class="nav-link">时间轴</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><!----> <span class="title" style="display:;">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/frontend/js/" class="nav-link router-link-active">JS</a></li><li class="dropdown-item"><!----> <a href="/blog/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/blog/frontend/css/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><!----> <span class="title" style="display:;">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/skills/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/blog/skills/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/blog/code/" class="nav-link">源码</a></li><li class="dropdown-item"><!----> <a href="/blog/more/web3/" class="nav-link">Web3</a></li><li class="dropdown-item"><!----> <a href="/blog/more/" class="nav-link">更多</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><!----> <span class="title" style="display:;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>PC端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/project/vue-node-admin/" class="nav-link">vue-node-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-vite-admin.html" class="nav-link">vue3-vite-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-cli-admin.html" class="nav-link">vue3-cli-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-webpack5-admin.html" class="nav-link">vue3-webpack5-admin</a></li><li class="dropdown-subitem"><a href="/blog/project/mono-react-project.html" class="nav-link">teach-react-mono</a></li></ul></li><li class="dropdown-item"><h4>移动端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/project/mobile-h5/" class="nav-link">微信h5</a></li><li class="dropdown-subitem"><a href="/blog/project/mini-program/" class="nav-link">微信小程序</a></li><li class="dropdown-subitem"><a href="/blog/project/mobile/" class="nav-link">移动端开发笔记</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blog/tool/" class="nav-link">其他</a></div><div class="nav-item"><a href="https://github.com/verneyZhou" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><!----> <span class="title" style="display:;">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/about/" class="nav-link">ME</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="images/poster03.jpeg"> <div class="blogger-info"><h3></h3> <span>光阴缝隙，时间盛典。</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/archives/" class="nav-link">时间轴</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><!----> <span class="title" style="display:;">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/frontend/js/" class="nav-link router-link-active">JS</a></li><li class="dropdown-item"><!----> <a href="/blog/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/blog/frontend/css/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><!----> <span class="title" style="display:;">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/skills/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/blog/skills/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/blog/code/" class="nav-link">源码</a></li><li class="dropdown-item"><!----> <a href="/blog/more/web3/" class="nav-link">Web3</a></li><li class="dropdown-item"><!----> <a href="/blog/more/" class="nav-link">更多</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><!----> <span class="title" style="display:;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>PC端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/project/vue-node-admin/" class="nav-link">vue-node-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-vite-admin.html" class="nav-link">vue3-vite-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-cli-admin.html" class="nav-link">vue3-cli-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-webpack5-admin.html" class="nav-link">vue3-webpack5-admin</a></li><li class="dropdown-subitem"><a href="/blog/project/mono-react-project.html" class="nav-link">teach-react-mono</a></li></ul></li><li class="dropdown-item"><h4>移动端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/project/mobile-h5/" class="nav-link">微信h5</a></li><li class="dropdown-subitem"><a href="/blog/project/mini-program/" class="nav-link">微信小程序</a></li><li class="dropdown-subitem"><a href="/blog/project/mobile/" class="nav-link">移动端开发笔记</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blog/tool/" class="nav-link">其他</a></div><div class="nav-item"><a href="https://github.com/verneyZhou" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><!----> <span class="title" style="display:;">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/about/" class="nav-link">ME</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JS深入：var、let、const</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/frontend/js/js-variable.html#简介" class="sidebar-link">简介</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/frontend/js/js-variable.html#var" class="sidebar-link">var</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/js/js-variable.html#变量提升-hoisted" class="sidebar-link">变量提升（hoisted）</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/js/js-variable.html#作用域规则" class="sidebar-link">作用域规则</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/js/js-variable.html#let" class="sidebar-link">let</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/js/js-variable.html#块级作用域" class="sidebar-link">块级作用域{}</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/js/js-variable.html#作用域规则-2" class="sidebar-link">作用域规则</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/js/js-variable.html#暂时性死区-tdz" class="sidebar-link">暂时性死区（TDZ）</a></li><li class="sidebar-sub-header"><a href="/blog/frontend/js/js-variable.html#const" class="sidebar-link">const</a></li></ul></li><li><a href="/blog/frontend/js/js-variable.html#对比" class="sidebar-link">对比</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/frontend/js/js-variable.html#几个例子" class="sidebar-link">几个例子</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/frontend/js/js-variable.html#参考" class="sidebar-link">参考</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/blog/" title="首页" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><a href="/blog/categories/?category=frontend" title="分类" data-v-0c557b5e>frontend</a></li><li data-v-0c557b5e><a href="/blog/categories/?category=js" title="分类" data-v-0c557b5e>js</a></li></ul> <div class="info" data-v-0c557b5e><div title="作者" class="author iconfont icon-touxiang" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>阿沐</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2021-03-31</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">JS深入：var、let、const<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="js深入-var、let、const"><a href="#js深入-var、let、const" class="header-anchor">#</a> JS深入：var、let、const</h1> <p>这里对js最基本、常用的<code>var、let、const</code>进行简单地梳理~</p> <h2 id="简介"><a href="#简介" class="header-anchor">#</a> 简介</h2> <p>在<code>ES6</code>之前我们都是通过<code>var</code>关键字定义<code>JavaScript</code>变量。<code>ES6</code>才新增了<code>let</code>和<code>const</code>关键字。</p> <h3 id="var"><a href="#var" class="header-anchor">#</a> var</h3> <p><code>var</code>声明语句声明一个变量，并可选地将其初始化为一个值。详见<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/var" target="_blank" rel="noopener noreferrer">MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p><code>ECMAScript</code>的变量是松散类型的，所谓松散类型就是可以用来保存任何类型的数据。换句话说，每个变量仅仅是一个用于保存值的占位符而已。定义变量时要使用<code>var</code>操作符(注意var是一个关键字)，后跟变量名(即一个标识符)，如下所示：</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 这行代码定义了一个名为 message 的变量，该变量可以用来保存任何值(像这样未经过初始化的 变量，会保存一个特殊的值：：undefined</span>
<span class="token keyword">var</span> a<span class="token punctuation">;</span>

<span class="token comment">// 1.在全局作用域下使用 var 声明一个变量，默认它是挂载在顶层对象 window 对象下（Node 是 global）</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span>window<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 1</span>


<span class="token comment">// 2.用 var 声明的变量的作用域是它当前的执行上下文，可以是函数也可以是全局</span>
<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span> <span class="token comment">// 声明在全局作用域下</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment">// 声明在 foo 函数作用域下</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">// 2</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>  <span class="token comment">// 1</span>


<span class="token comment">// 3.如果赋值给未声明的变量，该变量会被隐式地创建为全局变量（它将成为顶层对象的属性）</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    b <span class="token operator">=</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>b<span class="token punctuation">)</span> <span class="token comment">// 3</span>
</code></pre></div><blockquote><p>变量声明，无论发生在何处，都在执行任何代码之前进行处理。用<code>var</code>声明的变量的作用域是它当前的执行上下文，它可以是嵌套的函数，或者对于声明在任何函数外的变量来说是全局。</p></blockquote> <h4 id="变量提升-hoisted"><a href="#变量提升-hoisted" class="header-anchor">#</a> 变量提升（hoisted）</h4> <p>由于变量声明（以及其他声明）总是在代码执行之前处理的，所以在代码中的任意位置声明变量总是等效于在代码开头声明。这意味着变量可以在声明之前使用，这个行为叫做“hoisting”。“hoisting”就像是把所有的变量声明移动到函数或者全局代码的开头位置。</p> <blockquote><p>关于为什么会发生变量提升和函数提升，在我的另一篇博文<a href="./closure">js深入：从执行上下文到闭包</a>中有更细致的分析，这里不再赘述~</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">3</span>

<span class="token comment">// 上面代码可以隐式的理解为：</span>
<span class="token keyword">var</span> b
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
b <span class="token operator">=</span> <span class="token number">3</span>
</code></pre></div><blockquote><p>建议始终在作用域顶部声明变量（全局代码的顶部和函数代码的顶部），这可以清楚知道哪些变量在函数作用域内，哪些变量是在全局作用域内。</p></blockquote> <ul><li>看一个例子：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> x <span class="token operator">=</span> y<span class="token punctuation">,</span> y <span class="token operator">=</span> <span class="token string">'A'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefinedA</span>
</code></pre></div><p>在这里，x 和 y 在代码执行前就已经创建了，而赋值操作发生在创建之后。当&quot;x = y&quot;执行时，y 已经存在，所以不抛出ReferenceError，并且它的值是'undefined'。所以 x 被赋予 undefined 值。然后，y 被赋予'A'。于是，在执行完第一行之后，x === undefined &amp;&amp; y === 'A' 才出现了这样的结果。</p> <h4 id="作用域规则"><a href="#作用域规则" class="header-anchor">#</a> 作用域规则</h4> <blockquote><p><code>var</code>只能在全局作用域和函数作用域内声明变量，多次声明同一个变量并不会报错。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// a. 里层的 for 循环会覆盖变量 i，因为所有 i 都引用相同的函数作用域内的变量；这些问题可能在代码审查时漏掉，引发无穷的麻烦。</span>
<span class="token keyword">function</span> <span class="token function">sumArr</span><span class="token punctuation">(</span><span class="token parameter">arrList</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arrList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> arr <span class="token operator">=</span> arrList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            sum <span class="token operator">+=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// b. 用来计数的循环变量泄露为全局变量</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
a<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span>


<span class="token comment">// c. 内层变量可能会覆盖外层变量</span>
<span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token string">'hello world'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefiend</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">注意</p> <ol><li>所有未声明直接赋值的变量都会自动挂在顶层对象下，这样容易造成全局环境变量不可控、混乱</li> <li>允许多次声明同一变量而不报错，造成代码不容易维护</li></ol></div> <h3 id="let"><a href="#let" class="header-anchor">#</a> let</h3> <p>let 语句声明一个块级作用域的本地变量，并且可选的将其初始化为一个值。详见<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/let" target="_blank" rel="noopener noreferrer">MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 2</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre></div><blockquote><p><code>let</code>允许你声明一个作用域被限制在块级中的变量、语句或者表达式。与<code>var</code>关键字不同的是， <code>var</code>声明的变量只能是全局或者整个函数块的。<code>var</code>和<code>let</code>的不同之处在于后者是在编译时才初始化。</p></blockquote> <h4 id="块级作用域"><a href="#块级作用域" class="header-anchor">#</a> 块级作用域<code>{}</code></h4> <blockquote><p>JS中作用域有：全局作用域、函数作用域。没有块作用域的概念。ECMAScript 6(简称ES6)中新增了块级作用域。
块作用域由<code>{ }</code>包括，if语句和for语句里面的<code>{}</code>也属于块作用域。</p></blockquote> <p>ES6的块级作用域必须有大括号，如果没有大括号，JavaScript引擎就认为不存在块级作用域；块级作用域的出现，实际上使得获得广泛应用的匿名立即执行函数表达式（匿名 IIFE）不再必要了：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// IIFE 写法</span>
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> tmp <span class="token operator">=</span> <span class="token operator">...</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 块级作用域写法</span>
<span class="token punctuation">{</span>
  <span class="token keyword">let</span> tmp <span class="token operator">=</span> <span class="token operator">...</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="作用域规则-2"><a href="#作用域规则-2" class="header-anchor">#</a> 作用域规则</h4> <blockquote><p>let声明的变量只在其声明的块或子块中可用，这一点，与var相似。二者之间最主要的区别在于var声明的变量的作用域是整个封闭函数。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">varTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token comment">// 同样的变量!</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">letTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token comment">// 不同的变量</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 1</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="暂时性死区-tdz"><a href="#暂时性死区-tdz" class="header-anchor">#</a> 暂时性死区（TDZ）</h4> <blockquote><p><strong>所谓暂时性死区（Temporal Dead Zone），指<code>let</code>声明的变量在被声明之前不能被访问</strong>。与通过<code>var</code>声明的有初始化值<code>undefined</code>的变量不同，通过<code>let</code>声明的变量直到它们的定义被执行时才初始化。在变量初始化前访问该变量会导致<code>ReferenceError</code>。该变量处在一个自块顶部到初始化处理的“暂存死区”中。</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">// Uncaught ReferenceError: x is not defined</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span>
</code></pre></div><blockquote><p>为了减少运行时错误，防止在变量声明前就使用这个变量，从而导致意料之外的行为。这样的错误在 ES5 是很常见的，现在有了这种规定，避免此类错误就很容易了。</p></blockquote> <p>暂时性死区的本质就是，只要一进入当前作用域，所要使用的变量就已经存在了，但是不可获取，只有等到声明变量的那一行代码出现，才可以获取和使用该变量。</p> <p>与通过var声明的变量, 有初始化值 undefined和只是未声明的变量不同的是，如果使用typeof检测在暂存死区中的变量, 会抛出ReferenceError异常：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// results in a 'ReferenceError'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><strong>特点</strong></li></ul> <ol><li>使用<code>let</code>在全局作用域下声明的变量也不是顶层对象的属性</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">2</span>
window<span class="token punctuation">.</span>b <span class="token comment">// undefined</span>
</code></pre></div><blockquote><p>在全局作用域中，用 let 和 const 声明的全局变量没有在全局对象中，只是一个块级作用域（Script）中。</p></blockquote> <ol start="2"><li>不允许同一块中重复声明</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">let</span> x <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment">// Uncaught SyntaxError: Identifier 'x' has already been declared</span>
</code></pre></div><ol start="3"><li>关于let有没有变量提升可以参考这篇博文:<a href="https://zhuanlan.zhihu.com/p/28140450" target="_blank" rel="noopener noreferrer">我用了两个月的时间才理解 let
<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>；里面讲的大致意思就是，变量主要有<strong>创建、初始化（声明）、赋值</strong>三个阶段，而let只是在创建阶段提升了，而初始化和赋值阶段没有提升：
<ul><li>let 的「创建」过程被提升了，但是初始化没有提升。</li> <li>var 的「创建」和「初始化」都被提升了。</li> <li>function 的「创建」「初始化」和「赋值」都被提升了。</li></ul></li></ol> <h3 id="const"><a href="#const" class="header-anchor">#</a> const</h3> <p>const声明一个只读的常量。一旦声明，常量的值就不能改变。const的作用域与let命令相同：只在声明所在的块级作用域内有效。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span>
a <span class="token operator">=</span> <span class="token number">2</span> <span class="token comment">// Uncaught TypeError: Assignment to constant variable.</span>

<span class="token keyword">const</span> s <span class="token comment">// 声明未赋值</span>
<span class="token comment">// Uncaught SyntaxError: Missing initializer in const declaration</span>
</code></pre></div><blockquote><p>const实际上保证的，<strong>并不是变量的值不得改动，而是变量指向的那个内存地址所保存的数据不得改动</strong>。对于简单类型的数据（数值、字符串、布尔值），值就保存在变量指向的那个内存地址，因此等同于常量。但对于复合类型的数据（主要是对象和数组），变量指向的内存地址，保存的只是一个指向实际数据的指针，const只能保证这个指针是固定的（即总是指向另一个固定的地址），至于它指向的数据结构是不是可变的，就完全不能控制了。</p></blockquote> <h2 id="对比"><a href="#对比" class="header-anchor">#</a> 对比</h2> <ol><li>var会污染全局对象，let/const不会</li> <li>var是可以重复申明</li> <li>var存在变量提升</li> <li>let、const可以形成块级作用域，var不会形成块级作用域</li> <li>let、const会形成一个暂时性死区，var不会</li> <li>指针的变化：let、const都是ES6新增声明的变量的语法，区别是let创建的变量是可以更改指针指向，也就是可以重新赋值，但是const申明的变量是不允许改变指针指向的。</li></ol> <h2 id="几个例子"><a href="#几个例子" class="header-anchor">#</a> 几个例子</h2> <ol><li></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">111</span>
<span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span>
    a <span class="token operator">=</span> <span class="token number">222</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span>
    <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>window<span class="token punctuation">.</span>a<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>打印顺序为：</p> <div class="language- extra-class"><pre class="language-text"><code>ƒ a(){} 111
222 111
222 222
</code></pre></div><ol start="2"><li></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

    window<span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
    window<span class="token punctuation">.</span>b <span class="token operator">=</span> b<span class="token punctuation">;</span>

    a <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
    b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    
    window<span class="token punctuation">.</span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>
    window<span class="token punctuation">.</span>b <span class="token operator">=</span> b<span class="token punctuation">;</span>

    a <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
    b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 20</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre></div><p>函数<code>a</code>是存在于<code>Block</code>作用域中，刚开始执行<code>window.a = a</code>时，window下的a被赋值为函数；之后又被赋值为<code>20</code>；所以最后打印<code>20</code>；而<code>var</code>没有块级作用域，<code>全局的{}</code>中声明的变量会自动挂载到<code>window</code>下面作为全局变量，所以最后打印<code>3</code>。</p> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ol><li><a href="https://es6.ruanyifeng.com/#docs/let" target="_blank" rel="noopener noreferrer">es6入门-let 和 const 命令<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/6844903747617832973" target="_blank" rel="noopener noreferrer">【译】终极指南：变量提升、作用域和闭包<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://mp.weixin.qq.com/s/0YEcZEMIsVn5d7uPO68WXQ" target="_blank" rel="noopener noreferrer">var、let、const 有什么区别<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ol> <a href="/frontend/js/depth.html" class="fix-link" data-v-84d70020>Back</a></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/blog/tags/?tag=js" title="标签">#js</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">1/24/2022, 5:38:42 PM</span></div></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/blog/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/blog/more/github-actions.html"><div>
            Github Actions自动部署
            <!----></div></a> <span class="date">09-17</span></dt></dl><dl><dd>02</dd> <dt><a href="/blog/project/mono-react-project.html"><div>
            MonoRepo——React项目实践
            <!----></div></a> <span class="date">09-11</span></dt></dl><dl><dd>03</dd> <dt><a href="/blog/more/jenkins-deploy.html"><div>
            Jenkins前端自动化部署
            <!----></div></a> <span class="date">08-10</span></dt></dl> <dl><dd></dd> <dt><a href="/blog/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2023
    <span>一苇 | <a href="https://beian.miit.gov.cn/" target="_blank" style="font-weight:normal"><img src="/blog/images/icp.png" width="20" height="20" alt="公网备案"/>京ICP备2021006935号-2</a> </span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----><!----><!----><div></div></div></div>
    <script src="/blog/assets/js/app.7a9bf9ca.js" defer></script><script src="/blog/assets/js/3.a2a245ac.js" defer></script><script src="/blog/assets/js/59.0e8d9edb.js" defer></script><script src="/blog/assets/js/4.245b4373.js" defer></script>
  </body>
</html>
