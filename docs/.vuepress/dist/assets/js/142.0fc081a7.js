(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{735:function(t,s,e){"use strict";e.r(s);var a=e(8),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"vue3-webpack5-ts-项目搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue3-webpack5-ts-项目搭建"}},[t._v("#")]),t._v(" vue3+webpack5+ts 项目搭建")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("技术栈")]),t._v(" "),e("p",[t._v("vue3、webpack5、typescript、element-plus、vuex4、vue-router4")])]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://github.com/verneyZhou/vue3-webpack5-admin",target:"_blank",rel:"noopener noreferrer"}},[t._v("项目Github地址"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.verneyzhou-code.cn/vue3-webpack5-admin",target:"_blank",rel:"noopener noreferrer"}},[t._v("项目线上地址"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备"}},[t._v("#")]),t._v(" 准备")]),t._v(" "),e("p",[t._v("node版本"),e("code",[t._v("v10.x.x")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://v3.cn.vuejs.org/api/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue3官方文档"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://element-plus.gitee.io/zh-CN/guide/quickstart.html#full-import",target:"_blank",rel:"noopener noreferrer"}},[t._v("element-plus官方文档"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://webpack.docschina.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack5官方文档"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.tslang.cn/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("typescript文档"),e("OutboundLink")],1)]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("本项目版本信息说明")]),t._v(" "),e("ul",[e("li",[t._v("webpack: "),e("code",[t._v("5.62.1")]),t._v(",")]),t._v(" "),e("li",[t._v("webpack-cli: "),e("code",[t._v("4.9.1")]),t._v(",")]),t._v(" "),e("li",[t._v("vue: "),e("code",[t._v("3.2.21")])]),t._v(" "),e("li",[t._v("vue-router: "),e("code",[t._v("v4.0.12")])]),t._v(" "),e("li",[t._v("vuex: "),e("code",[t._v("v4.0.2")])]),t._v(" "),e("li",[t._v("element-plus: "),e("code",[t._v("v1.2.0-beta.2")])]),t._v(" "),e("li",[t._v("typescript: "),e("code",[t._v("v4.4.4")])])])]),t._v(" "),e("h2",{attrs:{id:"项目搭建与配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#项目搭建与配置"}},[t._v("#")]),t._v(" 项目搭建与配置")]),t._v(" "),e("h3",{attrs:{id:"搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#搭建"}},[t._v("#")]),t._v(" 搭建")]),t._v(" "),e("ol",[e("li",[t._v("新建项目：")])]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" vue3-webpack5-admin\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" vue3-webpack5-admin\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" init -y "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 生成 package.json 脚本")]),t._v("\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[e("p",[t._v("安装webpack: "),e("code",[t._v("npm i webpack webpack-cli -D")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("npm i webpack-dev-server webpack-merge cross-env -D")])])])]),t._v(" "),e("blockquote",[e("p",[t._v("热更新、合并配置、cross-env: 设置环境变量")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://webpack.docschina.org/configuration/dev-server/",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-dev-server"),e("OutboundLink")],1),t._v(" 可用于快速开发应用程序。")]),t._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[e("code",[t._v("npm i html-webpack-plugin -D")]),t._v("，并新建 "),e("code",[t._v("index.html")])])]),t._v(" "),e("blockquote",[e("p",[t._v("生成html入口")])]),t._v(" "),e("h3",{attrs:{id:"集成-vue3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集成-vue3"}},[t._v("#")]),t._v(" 集成 vue3")]),t._v(" "),e("ol",[e("li",[e("code",[t._v("npm i vue@next -S")])])]),t._v(" "),e("blockquote",[e("p",[t._v("安装"),e("code",[t._v("vue3")])])]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[e("code",[t._v("npm i vue-loader@next @vue/compiler-sfc vue-style-loader -D")])])]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("@vue/compiler-sfc")]),t._v(" 是替换 "),e("code",[t._v("vue2")]),t._v(" 中的 "),e("code",[t._v("vue-template-compiler")])])]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("vue-loader")]),t._v("是基于 "),e("code",[t._v("webpack")]),t._v(" 的一个的"),e("code",[t._v("loader")]),t._v("插件，解析和转换"),e("code",[t._v(".vue")]),t._v("文件，提取出其中的逻辑代码 "),e("code",[t._v("script")]),t._v("、样式代码 "),e("code",[t._v("style")]),t._v("、以及 "),e("code",[t._v("HTML")]),t._v("模版"),e("code",[t._v("template")]),t._v("，再分别把它们交给对应的 "),e("code",[t._v("loader")]),t._v(" 去处理如 "),e("code",[t._v("style-loader 、 less-loader")]),t._v(" 等等，核心的作用，就是"),e("strong",[t._v("提取")]),t._v("。")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://vue-loader.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-loader"),e("OutboundLink")],1)]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[e("code",[t._v("npm i vue-router@4 vuex@next -S")])])]),t._v(" "),e("blockquote",[e("p",[t._v("vuex, vue-router")])]),t._v(" "),e("h3",{attrs:{id:"babel"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#babel"}},[t._v("#")]),t._v(" Babel")]),t._v(" "),e("ol",[e("li",[e("code",[t._v("npm i babel-loader @babel/core @babel/preset-env -D")])])]),t._v(" "),e("blockquote",[e("p",[t._v("babel 配置")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("@babel/core")]),t._v("： babel 的核心库。")]),t._v(" "),e("li",[e("code",[t._v("@babel/preset-env")]),t._v("：babel官方推出的插件，它可以根据开发者的配置，按需加载插件；默认配置的情况下，会加载从es2015开始的所有preset；\n"),e("blockquote",[e("p",[t._v("它提供了更精细化的配置，以提升编译速度，同时减少代码冗余。"),e("a",{attrs:{href:"https://www.cnblogs.com/chyingp/p/understanding-babel-preset-env.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel-preset-env使用指南"),e("OutboundLink")],1)])])]),t._v(" "),e("li",[t._v("babel-loader： webpack 的 loader 插件，用于编译代码，转化成浏览器读得懂的代码")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.base.js")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("test")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token regex"}},[e("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.(t|j)s$")]),e("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// babel: es6 转 es5")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("exclude")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token regex"}},[e("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("node_modules")]),e("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不编译node_modules下的文件")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("use")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("loader")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'babel-loader'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[e("code",[t._v("npm i @babel/plugin-transform-runtime @babel/proposal-class-properties @babel/proposal-object-rest-spread -D")])])]),t._v(" "),e("blockquote",[e("p",[t._v("安装 "),e("code",[t._v("babel")]),t._v(" 插件：抽离babel的一些公共工具类用来减少代码的大小、支持 ts 类的写法、支持三点展开符")])]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[e("p",[e("code",[t._v("npm i @babel/runtime-corejs3 -D")])])]),t._v(" "),e("li",[e("p",[t._v("新建 "),e("code",[t._v(".babelrc")]),t._v(" 文件，添加配置")])])]),t._v(" "),e("blockquote",[e("p",[t._v("Babel的配置文件是 Babel 执行时默认会在当前目录寻找的文件，主要有"),e("code",[t._v(".babelrc，.babelrc.js，babel.config.js")]),t._v("和"),e("code",[t._v("package.json")]),t._v("。它们的配置项都是相同，作用也是一样的，只需要选择其中一种。")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .babelrc")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"presets"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/preset-env"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"modules"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"commonjs"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"targets"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"browsers"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"> 1%"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"last 2 versions"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"not ie <= 8"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"node"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"current"')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/preset-typescript"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引用Typescript插件")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"allExtensions"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 支持所有文件扩展名，否则在vue文件中使用ts会报错")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"plugins"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/plugin-transform-runtime"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// polyfill")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"corejs"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定 corejs 版本 ")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/proposal-class-properties"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 支持 ts 类的写法")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/proposal-object-rest-spread"')]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 支持三点展开符")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \n")])])]),e("h3",{attrs:{id:"loader"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#loader"}},[t._v("#")]),t._v(" Loader")]),t._v(" "),e("ol",[e("li",[e("code",[t._v("npm i style-loader css-loader less less-loader sass-loader node-sass -D")])])]),t._v(" "),e("blockquote",[e("p",[t._v("安装解析样式的loader: 解析 "),e("code",[t._v("css, less, sass/scss")])])]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[e("code",[t._v("npm i url-loader file-loader svg-sprite-loader -D")])])]),t._v(" "),e("blockquote",[e("p",[t._v("安装解析静态资源的loader: 图片，视频，svg 等静态资源")])]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[e("code",[t._v("npm i sass-resources-loader -D")])])]),t._v(" "),e("blockquote",[e("p",[t._v("全局注册less/sass全局变量, "),e("a",{attrs:{href:"https://github.com/shakacode/sass-resources-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),e("OutboundLink")],1)])]),t._v(" "),e("h3",{attrs:{id:"资源模块配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#资源模块配置"}},[t._v("#")]),t._v(" 资源模块配置")]),t._v(" "),e("blockquote",[e("p",[t._v("以图片静态资源解析为例：")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.base.js")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("test")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token regex"}},[e("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.(png|jpe?g|gif|bmp|webp|svg)(\\?.*)?$")]),e("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 解析图片等静态资源")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("dependency")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("not")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 排除来自新 URL 处理的 asset")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("exclude")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" path"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src/assets/svg'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 排除")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// use: {")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     loader: 'url-loader',")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     options: {")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         limit: 1024, // 字节数,意味着当图片大小小于1k的话，打包时会进行base64转换")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//         name: utils.assetsPath('images/[name].[hash:7].[ext]')")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     }")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// },")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("type")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"asset/resource"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("generator")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("filename")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" utils"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("assetsPath")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'images/[name]_[hash:7][ext][query]'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),e("p",[e("a",{attrs:{href:"https://webpack.docschina.org/guides/asset-modules/",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"plugins"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#plugins"}},[t._v("#")]),t._v(" Plugins")]),t._v(" "),e("ol",[e("li",[e("code",[t._v("npm i mini-css-extract-plugin css-minimizer-webpack-plugin terser-webpack-plugin -D")])])]),t._v(" "),e("blockquote",[e("p",[t._v("压缩、分离 "),e("code",[t._v("css")]),t._v(" 文件, 压缩 "),e("code",[t._v("js")]),t._v(" 文件")])]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[e("code",[t._v("npm i clean-webpack-plugin -D")])])]),t._v(" "),e("blockquote",[e("p",[t._v("打包前先清除以前的打包文件")])]),t._v(" "),e("p",[t._v("其实 "),e("code",[t._v("webpack v5.20.0+")]),t._v(" 自带了清理打包目录的功能，无需使用这个插件，只需在生产环境的配置文件中增加一个配置即可：")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("output")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("clean")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),e("p",[e("a",{attrs:{href:"https://webpack.docschina.org/configuration/output/#outputclean",target:"_blank",rel:"noopener noreferrer"}},[t._v("output.clean"),e("OutboundLink")],1)]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[e("code",[t._v("npm i friendly-errors-webpack-plugin webpackbar webpack-dashboard webpack-bundle-analyzer -D")])])]),t._v(" "),e("blockquote",[e("p",[t._v("优化类插件")])]),t._v(" "),e("h3",{attrs:{id:"集成-typescript-环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集成-typescript-环境"}},[t._v("#")]),t._v(" 集成 typescript 环境")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://v3.cn.vuejs.org/guide/typescript-support.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),e("OutboundLink")],1)]),t._v(" "),e("ol",[e("li",[e("code",[t._v("npm i typescript ts-loader -D")])])]),t._v(" "),e("blockquote",[e("p",[t._v("配置 "),e("code",[t._v("ts-loader")]),t._v(" 来解析 "),e("code",[t._v("vue")]),t._v(" 文件里的 "),e("code",[t._v('<script lang="ts">')]),t._v(" 代码块，将 ts 转换为 js 文件")])]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[e("code",[t._v("npm i @babel/preset-typescript -D")])])]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v(".babelrc")]),t._v(" 中引入，支持"),e("code",[t._v("ts")]),t._v("中对 es6 新特性的支持")])]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[e("code",[t._v("tsc -init")])])]),t._v(" "),e("blockquote",[e("p",[t._v("生成 "),e("code",[t._v("tsconfig.json")]),t._v(" 文件")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.tslang.cn/docs/handbook/compiler-options.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("配置参考"),e("OutboundLink")],1)]),t._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[t._v("新建 "),e("code",[t._v("shims-vue.d.ts")]),t._v(" 文件")])]),t._v(" "),e("blockquote",[e("p",[t._v("识别 "),e("code",[t._v(".vue")]),t._v(" 文件")])]),t._v(" "),e("ol",{attrs:{start:"5"}},[e("li",[e("code",[t._v("npm i @types/node @types/webpack-env -D")])])]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("tsconfig.json")]),t._v(" 中添加配置")])]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"compilerOptions"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"types"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack-env"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"element-plus/global"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h3",{attrs:{id:"安装-element-plus"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装-element-plus"}},[t._v("#")]),t._v(" 安装 element-plus")]),t._v(" "),e("ol",[e("li",[e("code",[t._v("npm i @element-plus/icons element-plus -S")])])]),t._v(" "),e("p",[e("code",[t._v("plugins/element-plus.js")]),t._v("中全局引入")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://element-plus.gitee.io/zh-CN/guide/quickstart.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Element-Plus"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://element-plus.gitee.io/zh-CN/component/icon.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("@element-plus/icons"),e("OutboundLink")],1)]),t._v(" "),e("blockquote",[e("p",[t._v("配置跟"),e("code",[t._v("vue-cli")]),t._v("的配置差不多，详细配置可参考 cli 的配置，也可直接参考代码，这里不再赘述，下同~")])]),t._v(" "),e("h3",{attrs:{id:"svg-icon全局配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#svg-icon全局配置"}},[t._v("#")]),t._v(" svg-icon全局配置")]),t._v(" "),e("p",[e("code",[t._v("npm i svg-sprite-loader -D")])]),t._v(" "),e("h3",{attrs:{id:"本地mock模拟"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#本地mock模拟"}},[t._v("#")]),t._v(" 本地Mock模拟")]),t._v(" "),e("p",[e("code",[t._v("npm i mockjs -D")])]),t._v(" "),e("p",[e("a",{attrs:{href:"http://mockjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("mockjs 官网"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"其他配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他配置"}},[t._v("#")]),t._v(" 其他配置")]),t._v(" "),e("p",[e("code",[t._v("npm i axios js-cookie nprogress -S")])]),t._v(" "),e("blockquote",[e("p",[t._v("接口，进度条...")])]),t._v(" "),e("p",[e("code",[t._v("npm i path -S")])]),t._v(" "),e("blockquote",[e("p",[t._v("路径")])]),t._v(" "),e("h2",{attrs:{id:"代码规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#代码规范"}},[t._v("#")]),t._v(" 代码规范")]),t._v(" "),e("h3",{attrs:{id:"eslint"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eslint"}},[t._v("#")]),t._v(" Eslint")]),t._v(" "),e("blockquote",[e("p",[t._v("ESLint 用于检查代码规则，在开发过程中根据你提供的规则做检验，并给出错误提示")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("安装 eslint 依赖："),e("code",[t._v("npm i eslint -D")])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("npm i eslint-webpack-plugin -D")])])])]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("eslint-loader")]),t._v(" 已经被官方放弃了 ; "),e("a",{attrs:{href:"https://webpack.docschina.org/plugins/eslint-webpack-plugin/",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),e("OutboundLink")],1)])]),t._v(" "),e("ul",[e("li",[t._v("支持 ts 和 vue: "),e("code",[t._v("npm i @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint-plugin-vue -D")])])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/typescript-eslint/typescript-eslint",target:"_blank",rel:"noopener noreferrer"}},[t._v("typescript-eslint/eslint-plugin"),e("OutboundLink")],1),t._v(" 是 ts 官方提供的 ESLint 插件；")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://eslint.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("eslint-plugin-vue"),e("OutboundLink")],1),t._v(" 是 vue 官方提供的 ESLint 插件")]),t._v(" "),e("p",[e("code",[t._v("npm i @vue/eslint-config-typescript -D")])]),t._v(" "),e("ul",[e("li",[t._v("新建 "),e("code",[t._v(".eslintrc.js")]),t._v(", "),e("code",[t._v(".eslintignore")]),t._v(" 文件，配置")])]),t._v(" "),e("h3",{attrs:{id:"prettier规范"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prettier规范"}},[t._v("#")]),t._v(" Prettier规范")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("加入 prettier 的支持: "),e("code",[t._v("npm i @vue/eslint-config-prettier eslint-plugin-prettier prettier -D")])])]),t._v(" "),e("li",[e("p",[t._v("新建 "),e("code",[t._v(".prettierrc")]),t._v(" 文件, 添加 "),e("code",[t._v(".prettierignore")]),t._v(" 配置文件;")])])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .prettierrc")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"tabWidth"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"printWidth"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("120")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"useTabs"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"semi"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"singleQuote"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"jsxSingleQuote"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"bracketSpacing"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"jsxBracketSameLine"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .prettierignore 过滤配置")]),t._v("\n\ndist"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\nnode_modules\n")])])]),e("ul",[e("li",[e("code",[t._v(".eslintrc.js")]),t._v(" 中添加配置:")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@typescript-eslint"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"prettier"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:vue/essential'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'airbnb-base'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:prettier/recommended'")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),e("h2",{attrs:{id:"其他"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[t._v("#")]),t._v(" 其他")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("新建 .gitignore 文件")])]),t._v(" "),e("li",[e("p",[e("code",[t._v(".prettierrc")])])])]),t._v(" "),e("blockquote",[e("p",[t._v("Prettier 是一个代码格式化工具。能够按照我们的规则，将我们的代码格式化")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v(".stylelintrc.js")])])]),t._v(" "),e("blockquote",[e("p",[t._v("stylelint 可以帮助我们规范化 css 的书写，风格统一，减少错误")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v(".editorconfig")])])]),t._v(" "),e("blockquote",[e("p",[t._v("editorConfig不是什么软件，而是一个名称为"),e("code",[t._v(".editorconfig")]),t._v("的自定义文件。该文件用来定义项目的编码规范，编辑器的行为会与"),e("code",[t._v(".editorconfig")]),t._v(" 文件中定义的一致，并且其优先级比编辑器自身的设置要高，这在多人合作开发项目时十分有用而且必要")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://blog.csdn.net/biubiu640/article/details/80308105",target:"_blank",rel:"noopener noreferrer"}},[t._v("EditorConfig介绍与安装"),e("OutboundLink")],1)]),t._v(" "),e("ul",[e("li",[e("code",[t._v("postcss.config.js")])])]),t._v(" "),e("blockquote",[e("p",[t._v("移动端 "),e("code",[t._v("rem")]),t._v(" 适配")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v("commitlint.config.js")]),t._v(", "),e("code",[t._v("husky")])])]),t._v(" "),e("blockquote",[e("p",[t._v("前端提交信息规范")])]),t._v(" "),e("ul",[e("li",[e("code",[t._v(".browserslistrc")])])]),t._v(" "),e("blockquote",[e("p",[t._v("支持的浏览器版本。在vue官方脚手架中，browserslist字段会被 @babel/preset-env 和 Autoprefixer 用来确定需要转译的 JavaScript 特性和需要添加的 CSS 浏览器前缀")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/browserslist/browserslist",target:"_blank",rel:"noopener noreferrer"}},[t._v("browserslist"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("可以单独新建文件，也可以在"),e("code",[t._v("package.json")]),t._v("中添加配置:")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"browserslist"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"> 1%"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"last 2 versions"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"not ie <= 8"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n")])])]),e("h2",{attrs:{id:"备注"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#备注"}},[t._v("#")]),t._v(" 备注")]),t._v(" "),e("ul",[e("li",[t._v("purgecss-webpack-plugin 清除无用css")]),t._v(" "),e("li",[t._v("image-webpack-loader 图片压缩")]),t._v(" "),e("li",[t._v("node-notifier 脚本弹窗提示插件")]),t._v(" "),e("li",[t._v("webpack-bundle-analyzer 打包分析插件")]),t._v(" "),e("li",[t._v("copy-webpack-plugin 自动拷贝文件")])]),t._v(" "),e("blockquote",[e("p",[t._v("当某些文件不需要经过 webpack 打包而直接使用，如一些三方脚本 js 文件等等，我们可以使用 copy-webpack-plugin 这个插件直接进行文件的拷贝；"),e("a",{attrs:{href:"https://webpack.docschina.org/plugins/copy-webpack-plugin/",target:"_blank",rel:"noopener noreferrer"}},[t._v("copy-webpack-plugin"),e("OutboundLink")],1)])]),t._v(" "),e("ul",[e("li",[t._v("dotenv  配置环境变量")])]),t._v(" "),e("blockquote",[e("p",[t._v("可以使用 dotenv 来按需加载不同的环境变量，VUE CLI 的环境变量也是使用的这个插件, "),e("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/150549283",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("配置参考：")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1. 下载 ")]),t._v("\nnpm i dotenv "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("\n\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2. 添加命令")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"dev"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cross-env envMode=dev webpack serve --config ./build/webpack.dev.conf.js  --color"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//3. 配置")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" envMode "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("envMode\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dotenv'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("config")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v(".env.")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("envMode"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 正则匹配以 VUE_APP_ 开头的 变量")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" prefixRE "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token regex"}},[e("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),e("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("^VUE_APP_")]),e("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" env "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 只有 NODE_ENV，BASE_URL 和以 VUE_APP_ 开头的变量将通过 webpack.DefinePlugin 静态地嵌入到客户端侧的代码中")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" key "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'NODE_ENV'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" key "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'BASE_URL'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" prefixRE"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tenv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("webpack"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DefinePlugin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义环境变量")]),t._v("\n    \t"),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'process.env'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t\t"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("env\n    \t"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 4.最后就可以跟 vue-cli 一样，新增一个 .env.dev 文件添加环境全局变量配置了~")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'development'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VUE_APP_BASE_API")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VUE_APP_API_USER")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VUE_APP_SHOWCONSOLE")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])]),e("ul",[e("li",[t._v("externals 扩展依赖")])]),t._v(" "),e("blockquote",[e("p",[t._v("防止将某些 import 的包(package)打包到 bundle 中，而是在运行时(runtime)再去从外部获取这些扩展依赖(external dependencies)。")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://webpack.docschina.org/configuration/externals/",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考"),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"报错记录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#报错记录"}},[t._v("#")]),t._v(" 报错记录")]),t._v(" "),e("ol",[e("li",[e("code",[t._v("TS2695: Left side of comma operator is unused and has no side effects.")])])]),t._v(" "),e("blockquote",[e("p",[t._v("ts-loader 配置中 transpileOnly 改为 true")])]),t._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[e("code",[t._v("'main.ts' cannot be compiled under '--isolatedModules' because it is considered a global script file. Add an import, export, or an empty 'export {}' statement to make it a module.")])])]),t._v(" "),e("blockquote",[e("p",[t._v("tsconfig.json 中 isolatedModules 设为 false")])]),t._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[e("code",[t._v("ERROR in Must use import to load ES Module: /Users/admin/my-code/self/byme/vue3-study/vue3-webpack5-admin/node_modules/@eslint/eslintrc/universal.js")])])]),t._v(" "),e("blockquote",[e("p",[t._v("eslint-webpack-plugin 插件的配置问题")])]),t._v(" "),e("h2",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://juejin.cn/post/6979478474620665887",target:"_blank",rel:"noopener noreferrer"}},[t._v("保姆级教程：从零搭建 Webpack5+ts+Vue3 开发环境"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://juejin.cn/post/6989973871663251487",target:"_blank",rel:"noopener noreferrer"}},[t._v("基于 vue3 + webpack 5 + sass+ vw 适配方案+axios 封装，从0构建手机端模板脚手架"),e("OutboundLink")],1)])]),t._v(" "),e("fix-link",{attrs:{label:"Back",href:"/skills/"}})],1)}),[],!1,null,null,null);s.default=n.exports}}]);