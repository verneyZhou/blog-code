<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue3+vue-cli+ts 项目搭建 | 一苇</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/blog/icons/favicon.ico">
    <link rel="manifest" href="/blog/js/mainfest.json">
    <link rel="stylesheet" href="/blog/styles/css/style.css">
    <script type="utf-8" src="/blog/js/disable-user-zoom.js"></script>
    <meta name="description" content="这是阿沐的博客哦~">
    <meta name="Author" content="一苇">
    <meta rel="keywords" content="verneyzhou,阿沐,一苇,前端,docs.verneyzhou-code.cn,博客,fe,IT,技术">
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
    <meta name="viewport" content="width=device-width,width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <link rel="preload" href="/blog/assets/css/0.styles.61668f40.css" as="style"><link rel="preload" href="/blog/assets/js/app.0f95228c.js" as="script"><link rel="preload" href="/blog/assets/js/3.a2a245ac.js" as="script"><link rel="preload" href="/blog/assets/js/140.745cad36.js" as="script"><link rel="preload" href="/blog/assets/js/4.245b4373.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.b54d0f20.js"><link rel="prefetch" href="/blog/assets/js/100.756dbdde.js"><link rel="prefetch" href="/blog/assets/js/101.4166e909.js"><link rel="prefetch" href="/blog/assets/js/102.6d4c2645.js"><link rel="prefetch" href="/blog/assets/js/103.57dc8e76.js"><link rel="prefetch" href="/blog/assets/js/104.3e18ca8e.js"><link rel="prefetch" href="/blog/assets/js/105.59219ef0.js"><link rel="prefetch" href="/blog/assets/js/106.4b828c0e.js"><link rel="prefetch" href="/blog/assets/js/107.878a0660.js"><link rel="prefetch" href="/blog/assets/js/108.26952ee4.js"><link rel="prefetch" href="/blog/assets/js/109.385fafd9.js"><link rel="prefetch" href="/blog/assets/js/11.c503bf7b.js"><link rel="prefetch" href="/blog/assets/js/110.eb935c10.js"><link rel="prefetch" href="/blog/assets/js/111.d5b11fd3.js"><link rel="prefetch" href="/blog/assets/js/112.fdabdec2.js"><link rel="prefetch" href="/blog/assets/js/113.6a60abb8.js"><link rel="prefetch" href="/blog/assets/js/114.e8f5e502.js"><link rel="prefetch" href="/blog/assets/js/115.9d6fffad.js"><link rel="prefetch" href="/blog/assets/js/116.06a088bc.js"><link rel="prefetch" href="/blog/assets/js/117.74f98383.js"><link rel="prefetch" href="/blog/assets/js/118.f6884090.js"><link rel="prefetch" href="/blog/assets/js/119.261d9cce.js"><link rel="prefetch" href="/blog/assets/js/12.68619fb6.js"><link rel="prefetch" href="/blog/assets/js/120.d9e40ad4.js"><link rel="prefetch" href="/blog/assets/js/121.bc47b0a3.js"><link rel="prefetch" href="/blog/assets/js/122.82981b13.js"><link rel="prefetch" href="/blog/assets/js/123.62d44726.js"><link rel="prefetch" href="/blog/assets/js/124.d84e078c.js"><link rel="prefetch" href="/blog/assets/js/125.4dec074a.js"><link rel="prefetch" href="/blog/assets/js/126.0f8f5bcd.js"><link rel="prefetch" href="/blog/assets/js/127.dd9cf3e3.js"><link rel="prefetch" href="/blog/assets/js/128.dbb4cefd.js"><link rel="prefetch" href="/blog/assets/js/129.2296d8f0.js"><link rel="prefetch" href="/blog/assets/js/13.ff968c95.js"><link rel="prefetch" href="/blog/assets/js/130.43e1edce.js"><link rel="prefetch" href="/blog/assets/js/131.c78c2c45.js"><link rel="prefetch" href="/blog/assets/js/132.7dd1c26f.js"><link rel="prefetch" href="/blog/assets/js/133.2cc1367f.js"><link rel="prefetch" href="/blog/assets/js/134.c01f5483.js"><link rel="prefetch" href="/blog/assets/js/135.ab76f652.js"><link rel="prefetch" href="/blog/assets/js/136.d0af8220.js"><link rel="prefetch" href="/blog/assets/js/137.769ddd61.js"><link rel="prefetch" href="/blog/assets/js/138.2cca46fc.js"><link rel="prefetch" href="/blog/assets/js/139.431ebb31.js"><link rel="prefetch" href="/blog/assets/js/14.58e62b1d.js"><link rel="prefetch" href="/blog/assets/js/141.e3329fdf.js"><link rel="prefetch" href="/blog/assets/js/142.a7fda092.js"><link rel="prefetch" href="/blog/assets/js/143.939e54b5.js"><link rel="prefetch" href="/blog/assets/js/144.7c8292e3.js"><link rel="prefetch" href="/blog/assets/js/145.3437fb76.js"><link rel="prefetch" href="/blog/assets/js/146.96bbb72e.js"><link rel="prefetch" href="/blog/assets/js/147.6bfd1681.js"><link rel="prefetch" href="/blog/assets/js/148.a62113e4.js"><link rel="prefetch" href="/blog/assets/js/149.6c8830f7.js"><link rel="prefetch" href="/blog/assets/js/15.046a4928.js"><link rel="prefetch" href="/blog/assets/js/150.f4553ad6.js"><link rel="prefetch" href="/blog/assets/js/151.96f9178a.js"><link rel="prefetch" href="/blog/assets/js/152.5cb2ffb2.js"><link rel="prefetch" href="/blog/assets/js/153.0093d1a8.js"><link rel="prefetch" href="/blog/assets/js/154.554284df.js"><link rel="prefetch" href="/blog/assets/js/155.20296fb5.js"><link rel="prefetch" href="/blog/assets/js/156.a3c58c60.js"><link rel="prefetch" href="/blog/assets/js/157.8ff73c11.js"><link rel="prefetch" href="/blog/assets/js/158.5a6edb29.js"><link rel="prefetch" href="/blog/assets/js/159.60e92b6d.js"><link rel="prefetch" href="/blog/assets/js/16.aad2418a.js"><link rel="prefetch" href="/blog/assets/js/160.21c1a2a3.js"><link rel="prefetch" href="/blog/assets/js/161.8727e7a1.js"><link rel="prefetch" href="/blog/assets/js/162.6950cf71.js"><link rel="prefetch" href="/blog/assets/js/163.3b84b985.js"><link rel="prefetch" href="/blog/assets/js/164.5e24aa17.js"><link rel="prefetch" href="/blog/assets/js/165.08f6be99.js"><link rel="prefetch" href="/blog/assets/js/166.87adcee8.js"><link rel="prefetch" href="/blog/assets/js/167.fc3e6988.js"><link rel="prefetch" href="/blog/assets/js/168.6f2dc582.js"><link rel="prefetch" href="/blog/assets/js/169.64c4fbe6.js"><link rel="prefetch" href="/blog/assets/js/17.cc61cb56.js"><link rel="prefetch" href="/blog/assets/js/170.5224b044.js"><link rel="prefetch" href="/blog/assets/js/171.7695d1ab.js"><link rel="prefetch" href="/blog/assets/js/172.80ba3673.js"><link rel="prefetch" href="/blog/assets/js/173.2cea669f.js"><link rel="prefetch" href="/blog/assets/js/174.97ea86c0.js"><link rel="prefetch" href="/blog/assets/js/175.fcd9dd3a.js"><link rel="prefetch" href="/blog/assets/js/176.69779443.js"><link rel="prefetch" href="/blog/assets/js/177.e9915783.js"><link rel="prefetch" href="/blog/assets/js/178.8c2c452f.js"><link rel="prefetch" href="/blog/assets/js/179.79e26858.js"><link rel="prefetch" href="/blog/assets/js/18.3d26e7a4.js"><link rel="prefetch" href="/blog/assets/js/180.dee04beb.js"><link rel="prefetch" href="/blog/assets/js/181.1e64222a.js"><link rel="prefetch" href="/blog/assets/js/182.1ad3f445.js"><link rel="prefetch" href="/blog/assets/js/183.1aefb498.js"><link rel="prefetch" href="/blog/assets/js/184.d357ee66.js"><link rel="prefetch" href="/blog/assets/js/185.5ad07fc7.js"><link rel="prefetch" href="/blog/assets/js/186.3f8a60e6.js"><link rel="prefetch" href="/blog/assets/js/187.19f86e8d.js"><link rel="prefetch" href="/blog/assets/js/188.75afe9d8.js"><link rel="prefetch" href="/blog/assets/js/189.c46097bc.js"><link rel="prefetch" href="/blog/assets/js/19.a34628b9.js"><link rel="prefetch" href="/blog/assets/js/190.681b28d2.js"><link rel="prefetch" href="/blog/assets/js/191.264f721d.js"><link rel="prefetch" href="/blog/assets/js/192.3b249a12.js"><link rel="prefetch" href="/blog/assets/js/193.24521816.js"><link rel="prefetch" href="/blog/assets/js/194.3d065c35.js"><link rel="prefetch" href="/blog/assets/js/195.0f4c3881.js"><link rel="prefetch" href="/blog/assets/js/196.dabf1015.js"><link rel="prefetch" href="/blog/assets/js/197.e9ad0ceb.js"><link rel="prefetch" href="/blog/assets/js/198.f1abb7d4.js"><link rel="prefetch" href="/blog/assets/js/199.6561e896.js"><link rel="prefetch" href="/blog/assets/js/20.d7300073.js"><link rel="prefetch" href="/blog/assets/js/200.02925058.js"><link rel="prefetch" href="/blog/assets/js/21.a2131c93.js"><link rel="prefetch" href="/blog/assets/js/22.5cb6d5b8.js"><link rel="prefetch" href="/blog/assets/js/23.be1dd041.js"><link rel="prefetch" href="/blog/assets/js/24.fa534a08.js"><link rel="prefetch" href="/blog/assets/js/25.3f3fefdf.js"><link rel="prefetch" href="/blog/assets/js/26.0d85913f.js"><link rel="prefetch" href="/blog/assets/js/27.ee2a790f.js"><link rel="prefetch" href="/blog/assets/js/28.63191c38.js"><link rel="prefetch" href="/blog/assets/js/29.57418bd0.js"><link rel="prefetch" href="/blog/assets/js/30.5a20e92b.js"><link rel="prefetch" href="/blog/assets/js/31.c1600861.js"><link rel="prefetch" href="/blog/assets/js/32.bd925f65.js"><link rel="prefetch" href="/blog/assets/js/33.aefdd21a.js"><link rel="prefetch" href="/blog/assets/js/34.4db629ab.js"><link rel="prefetch" href="/blog/assets/js/35.fccd851c.js"><link rel="prefetch" href="/blog/assets/js/36.4b61e107.js"><link rel="prefetch" href="/blog/assets/js/37.57ec2f3b.js"><link rel="prefetch" href="/blog/assets/js/38.29752a9f.js"><link rel="prefetch" href="/blog/assets/js/39.75cc18af.js"><link rel="prefetch" href="/blog/assets/js/40.28c2824c.js"><link rel="prefetch" href="/blog/assets/js/41.9564a4e6.js"><link rel="prefetch" href="/blog/assets/js/42.fc61156c.js"><link rel="prefetch" href="/blog/assets/js/43.b716e9bd.js"><link rel="prefetch" href="/blog/assets/js/44.12b59335.js"><link rel="prefetch" href="/blog/assets/js/45.67841dea.js"><link rel="prefetch" href="/blog/assets/js/46.db7ce530.js"><link rel="prefetch" href="/blog/assets/js/47.80689722.js"><link rel="prefetch" href="/blog/assets/js/48.8fa637f6.js"><link rel="prefetch" href="/blog/assets/js/49.b343e1d0.js"><link rel="prefetch" href="/blog/assets/js/5.f9c6355e.js"><link rel="prefetch" href="/blog/assets/js/50.7652f697.js"><link rel="prefetch" href="/blog/assets/js/51.3dc4a085.js"><link rel="prefetch" href="/blog/assets/js/52.8587e4b0.js"><link rel="prefetch" href="/blog/assets/js/53.772c2349.js"><link rel="prefetch" href="/blog/assets/js/54.af501cc2.js"><link rel="prefetch" href="/blog/assets/js/55.c66a9bf8.js"><link rel="prefetch" href="/blog/assets/js/56.8a9d9cdf.js"><link rel="prefetch" href="/blog/assets/js/57.10ce37b8.js"><link rel="prefetch" href="/blog/assets/js/58.46bfcefc.js"><link rel="prefetch" href="/blog/assets/js/59.fd423a7c.js"><link rel="prefetch" href="/blog/assets/js/6.9db196de.js"><link rel="prefetch" href="/blog/assets/js/60.31a8d24d.js"><link rel="prefetch" href="/blog/assets/js/61.ab71b7de.js"><link rel="prefetch" href="/blog/assets/js/62.01d86161.js"><link rel="prefetch" href="/blog/assets/js/63.7d893fc9.js"><link rel="prefetch" href="/blog/assets/js/64.24cc5ce1.js"><link rel="prefetch" href="/blog/assets/js/65.1c1de76e.js"><link rel="prefetch" href="/blog/assets/js/66.fd0ee3c5.js"><link rel="prefetch" href="/blog/assets/js/67.46f0cf1d.js"><link rel="prefetch" href="/blog/assets/js/68.ccf3a10f.js"><link rel="prefetch" href="/blog/assets/js/69.19ed83bc.js"><link rel="prefetch" href="/blog/assets/js/7.2475bca8.js"><link rel="prefetch" href="/blog/assets/js/70.d33adeae.js"><link rel="prefetch" href="/blog/assets/js/71.eeb0386e.js"><link rel="prefetch" href="/blog/assets/js/72.7c7f6691.js"><link rel="prefetch" href="/blog/assets/js/73.335f10f0.js"><link rel="prefetch" href="/blog/assets/js/74.c8d29fd8.js"><link rel="prefetch" href="/blog/assets/js/75.43cd5cc8.js"><link rel="prefetch" href="/blog/assets/js/76.6007cc06.js"><link rel="prefetch" href="/blog/assets/js/77.a1998918.js"><link rel="prefetch" href="/blog/assets/js/78.4d3cfee6.js"><link rel="prefetch" href="/blog/assets/js/79.eeb36f42.js"><link rel="prefetch" href="/blog/assets/js/8.b142448f.js"><link rel="prefetch" href="/blog/assets/js/80.5a8fc4ea.js"><link rel="prefetch" href="/blog/assets/js/81.d5890383.js"><link rel="prefetch" href="/blog/assets/js/82.f96e0264.js"><link rel="prefetch" href="/blog/assets/js/83.f855f660.js"><link rel="prefetch" href="/blog/assets/js/84.e8bd6a27.js"><link rel="prefetch" href="/blog/assets/js/85.f15ee1d6.js"><link rel="prefetch" href="/blog/assets/js/86.481ce80f.js"><link rel="prefetch" href="/blog/assets/js/87.61f91bdb.js"><link rel="prefetch" href="/blog/assets/js/88.7071fdf7.js"><link rel="prefetch" href="/blog/assets/js/89.d019b6e9.js"><link rel="prefetch" href="/blog/assets/js/9.d54eac7f.js"><link rel="prefetch" href="/blog/assets/js/90.5d3cfa2c.js"><link rel="prefetch" href="/blog/assets/js/91.5bc1b88b.js"><link rel="prefetch" href="/blog/assets/js/92.7948e720.js"><link rel="prefetch" href="/blog/assets/js/93.e0092b06.js"><link rel="prefetch" href="/blog/assets/js/94.8f37d05a.js"><link rel="prefetch" href="/blog/assets/js/95.25060aa4.js"><link rel="prefetch" href="/blog/assets/js/96.f6b5ebee.js"><link rel="prefetch" href="/blog/assets/js/97.971caaa4.js"><link rel="prefetch" href="/blog/assets/js/98.bf253950.js"><link rel="prefetch" href="/blog/assets/js/99.0d1d725b.js"><link rel="prefetch" href="/blog/assets/js/vendors~flowchart.381052ad.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.61668f40.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/icons/apple-touch-icon.png" alt="一苇" class="logo"> <span class="site-name can-hide">一苇</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/archives/" class="nav-link">时间轴</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><!----> <span class="title" style="display:;">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/frontend/js/" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/blog/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/blog/frontend/css/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><!----> <span class="title" style="display:;">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/skills/vue/" class="nav-link router-link-active">Vue</a></li><li class="dropdown-item"><!----> <a href="/blog/skills/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/blog/code/" class="nav-link">源码</a></li><li class="dropdown-item"><!----> <a href="/blog/more/web3/" class="nav-link">Web3</a></li><li class="dropdown-item"><!----> <a href="/blog/more/" class="nav-link">更多</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><!----> <span class="title" style="display:;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>PC端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/project/vue-node-admin/" class="nav-link">vue-node-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-vite-admin.html" class="nav-link">vue3-vite-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-cli-admin.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">vue3-cli-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-webpack5-admin.html" class="nav-link">vue3-webpack5-admin</a></li><li class="dropdown-subitem"><a href="/blog/project/mono-react-project.html" class="nav-link">teach-react-mono</a></li></ul></li><li class="dropdown-item"><h4>移动端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/project/mobile-h5/" class="nav-link">微信h5</a></li><li class="dropdown-subitem"><a href="/blog/project/mini-program/" class="nav-link">微信小程序</a></li><li class="dropdown-subitem"><a href="/blog/project/mobile/" class="nav-link">移动端开发笔记</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blog/tool/" class="nav-link">其他</a></div><div class="nav-item"><a href="https://github.com/verneyZhou" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><!----> <span class="title" style="display:;">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/about/" class="nav-link">ME</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="images/poster03.jpeg"> <div class="blogger-info"><h3></h3> <span>光阴缝隙，时间盛典。</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/archives/" class="nav-link">时间轴</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><!----> <span class="title" style="display:;">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/frontend/js/" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/blog/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/blog/frontend/css/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><!----> <span class="title" style="display:;">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/skills/vue/" class="nav-link router-link-active">Vue</a></li><li class="dropdown-item"><!----> <a href="/blog/skills/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/blog/code/" class="nav-link">源码</a></li><li class="dropdown-item"><!----> <a href="/blog/more/web3/" class="nav-link">Web3</a></li><li class="dropdown-item"><!----> <a href="/blog/more/" class="nav-link">更多</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><!----> <span class="title" style="display:;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>PC端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/project/vue-node-admin/" class="nav-link">vue-node-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-vite-admin.html" class="nav-link">vue3-vite-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-cli-admin.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">vue3-cli-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-webpack5-admin.html" class="nav-link">vue3-webpack5-admin</a></li><li class="dropdown-subitem"><a href="/blog/project/mono-react-project.html" class="nav-link">teach-react-mono</a></li></ul></li><li class="dropdown-item"><h4>移动端</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/project/mobile-h5/" class="nav-link">微信h5</a></li><li class="dropdown-subitem"><a href="/blog/project/mini-program/" class="nav-link">微信小程序</a></li><li class="dropdown-subitem"><a href="/blog/project/mobile/" class="nav-link">移动端开发笔记</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blog/tool/" class="nav-link">其他</a></div><div class="nav-item"><a href="https://github.com/verneyZhou" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><!----> <span class="title" style="display:;">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/about/" class="nav-link">ME</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>vue3+vue-cli+ts 项目搭建</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/skills/vue/vue3-cli-admin.html#准备" class="sidebar-link">准备</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/skills/vue/vue3-cli-admin.html#创建项目" class="sidebar-link">创建项目</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/skills/vue/vue3-cli-admin.html#配置" class="sidebar-link">配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/vue/vue3-cli-admin.html#配置全局环境变量" class="sidebar-link">配置全局环境变量</a></li><li class="sidebar-sub-header"><a href="/blog/skills/vue/vue3-cli-admin.html#配置vue-config-js" class="sidebar-link">配置vue.config.js</a></li><li class="sidebar-sub-header"><a href="/blog/skills/vue/vue3-cli-admin.html#typescript-支持" class="sidebar-link">Typescript 支持</a></li><li class="sidebar-sub-header"><a href="/blog/skills/vue/vue3-cli-admin.html#引入-element-plus" class="sidebar-link">引入 Element-Plus</a></li><li class="sidebar-sub-header"><a href="/blog/skills/vue/vue3-cli-admin.html#全局配置-variables-less" class="sidebar-link">全局配置 Variables.less</a></li><li class="sidebar-sub-header"><a href="/blog/skills/vue/vue3-cli-admin.html#svg-icon-全局配置" class="sidebar-link">Svg-Icon 全局配置</a></li><li class="sidebar-sub-header"><a href="/blog/skills/vue/vue3-cli-admin.html#本地-mock-模拟" class="sidebar-link">本地 Mock 模拟</a></li></ul></li><li><a href="/blog/skills/vue/vue3-cli-admin.html#其他配置" class="sidebar-link">其他配置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/vue/vue3-cli-admin.html#gitignore" class="sidebar-link">.gitignore</a></li><li class="sidebar-sub-header"><a href="/blog/skills/vue/vue3-cli-admin.html#browserslist" class="sidebar-link">browserslist</a></li><li class="sidebar-sub-header"><a href="/blog/skills/vue/vue3-cli-admin.html#babel-配置" class="sidebar-link">Babel 配置</a></li><li class="sidebar-sub-header"><a href="/blog/skills/vue/vue3-cli-admin.html#eslint-配置" class="sidebar-link">Eslint 配置</a></li></ul></li><li><a href="/blog/skills/vue/vue3-cli-admin.html#vue-config-js" class="sidebar-link">vue.config.js</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/skills/vue/vue3-cli-admin.html#功能" class="sidebar-link">功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/skills/vue/vue3-cli-admin.html#动态路由与权限校验" class="sidebar-link">动态路由与权限校验</a></li><li class="sidebar-sub-header"><a href="/blog/skills/vue/vue3-cli-admin.html#导航" class="sidebar-link">导航</a></li></ul></li><li><a href="/blog/skills/vue/vue3-cli-admin.html#备注" class="sidebar-link">备注</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/skills/vue/vue3-cli-admin.html#报错记录" class="sidebar-link">报错记录</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/skills/vue/vue3-cli-admin.html#参考" class="sidebar-link">参考</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/blog/" title="首页" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><a href="/blog/categories/?category=skills" title="分类" data-v-0c557b5e>skills</a></li><li data-v-0c557b5e><a href="/blog/categories/?category=vue" title="分类" data-v-0c557b5e>vue</a></li></ul> <div class="info" data-v-0c557b5e><div title="作者" class="author iconfont icon-touxiang" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>阿沐</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2021-11-14</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">vue3+vue-cli+ts 项目搭建<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="vue3-vue-cli-ts-项目搭建"><a href="#vue3-vue-cli-ts-项目搭建" class="header-anchor">#</a> vue3+vue-cli+ts 项目搭建</h1> <div class="custom-block tip"><p class="custom-block-title">技术栈</p> <p>vue3、@vue/cli、typescript、element-plus、vuex4、vue-router4</p></div> <ul><li><a href="https://github.com/verneyZhou/vue3-cli-admin" target="_blank" rel="noopener noreferrer">项目Github地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.verneyzhou-code.cn/vue3-cli-admin" target="_blank" rel="noopener noreferrer">项目线上地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="准备"><a href="#准备" class="header-anchor">#</a> 准备</h2> <p><code>Vue CLI 4.x</code> 需要 <code>Node.js v8.9</code> 或更高版本 (推荐 <code>v10</code> 以上)。</p> <p><a href="https://v3.cn.vuejs.org/api/" target="_blank" rel="noopener noreferrer">vue3官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://element-plus.gitee.io/zh-CN/guide/quickstart.html#full-import" target="_blank" rel="noopener noreferrer">element-plus官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>vue-cli：<a href="https://cli.vuejs.org/zh/guide/" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://www.npmjs.com/package/@vue/cli" target="_blank" rel="noopener noreferrer">npm地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://www.tslang.cn/index.html" target="_blank" rel="noopener noreferrer">typescript文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="custom-block tip"><p class="custom-block-title">本项目版本信息说明</p> <ul><li>@vue/cli: <code>v4.5.15</code></li> <li>vue: <code>3.2.21</code></li> <li>vue-router: <code>v4.0.12</code></li> <li>vuex: <code>v4.0.2</code></li> <li>element-plus: <code>v1.2.0-beta.1</code></li> <li>typescript: <code>v4.1.5</code></li></ul></div> <p><a href="12345">项目预览</a></p> <h2 id="创建项目"><a href="#创建项目" class="header-anchor">#</a> 创建项目</h2> <ol><li>全局安装 @vue/cli : <code>npm install -g @vue/cli</code></li></ol> <blockquote><p>已安装直接更新：<code>npm update -g @vue/cli</code>；查看版本：<code>vue --version</code></p></blockquote> <ol start="2"><li>创建项目：<code>vue create vue3-cli-admin</code>，选择手动配置：</li></ol> <div class="language-shell extra-class"><pre class="language-shell"><code>Vue CLI v4.5.15
? Please pick a preset: Manually <span class="token keyword">select</span> features
? Check the features needed <span class="token keyword">for</span> your project: Choose Vue version, Babel, TS, Router, Vuex, CSS Pre-processors, Linter, Unit
? Choose a version of Vue.js that you want to start the project with <span class="token number">3</span>.x
? Use class-style component syntax? Yes
? Use Babel alongside TypeScript <span class="token punctuation">(</span>required <span class="token keyword">for</span> modern mode, auto-detected polyfills, transpiling JSX<span class="token punctuation">)</span>? Yes
? Use <span class="token function">history</span> mode <span class="token keyword">for</span> router? <span class="token punctuation">(</span>Requires proper server setup <span class="token keyword">for</span> index fallback <span class="token keyword">in</span> production<span class="token punctuation">)</span> Yes
? Pick a CSS pre-processor <span class="token punctuation">(</span>PostCSS, Autoprefixer and CSS Modules are supported by default<span class="token punctuation">)</span>: Sass/SCSS <span class="token punctuation">(</span>with node-sass<span class="token punctuation">)</span>
? Pick a linter / formatter config: Prettier
? Pick additional lint features: Lint on save
? Pick a unit testing solution: Jest
? Where <span class="token keyword">do</span> you prefer placing config <span class="token keyword">for</span> Babel, ESLint, etc.? In dedicated config files
? Save this as a preset <span class="token keyword">for</span> future projects? <span class="token punctuation">(</span>y/N<span class="token punctuation">)</span> n
</code></pre></div><ol start="3"><li>之后等待安装，安装完成，本地即生成一个 <code>vue3-cli-admin</code> 项目。</li></ol> <h2 id="配置"><a href="#配置" class="header-anchor">#</a> 配置</h2> <h3 id="配置全局环境变量"><a href="#配置全局环境变量" class="header-anchor">#</a> 配置全局环境变量</h3> <ol><li>在根目录下新建<code>.env.dev/.env.prod</code>等文件</li></ol> <div class="language- extra-class"><pre class="language-text"><code>&lt;!-- .env.dev --&gt;

NODE_ENV = 'development'
VUE_APP_ENV = 'dev'
BASE_URL = '/'
VUE_APP_PUBLIC_PATH = '/'
VUE_APP_API = 'https://www.baidu.com/'
</code></pre></div><blockquote><p>只有以 <code>VUE_APP</code> 开头的变量会被 <code>webpack.DefinePlugin</code> 静态嵌入到客户端侧的包中，代码中可以通过 <code>process.env.VUE_APP_XXX</code> 访问；<code>NODE_ENV</code> 和 <code>BASE_URL</code> 是两个特殊变量，在代码中始终可用</p></blockquote> <ol start="2"><li><code>package.json</code>中修改命令:</li></ol> <div class="language- extra-class"><pre class="language-text"><code>&quot;dev&quot;: &quot;vue-cli-service serve --mode dev&quot;
</code></pre></div><p>环境变量的配置跟<code>vite</code>的配置很类似，配置参考：<a href="https://cli.vuejs.org/zh/guide/mode-and-env.html" target="_blank" rel="noopener noreferrer">mode-and-env<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="配置vue-config-js"><a href="#配置vue-config-js" class="header-anchor">#</a> 配置vue.config.js</h3> <p><a href="https://cli.vuejs.org/zh/config/#vue-config-js" target="_blank" rel="noopener noreferrer">官方配置参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://github.com/staven630/vue-cli4-config/tree/vue-cli3#top" target="_blank" rel="noopener noreferrer">详细配置参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ol><li>新建 <code>vue.config.js</code></li></ol> <blockquote><p><code>vue.config.js</code> 是一个可选的配置文件，如果项目的 (和 <code>package.json</code> 同级的) 根目录中存在这个文件，那么它会被 <code>@vue/cli-service</code> 自动加载。</p></blockquote> <ol start="2"><li>配置</li></ol> <ul><li>configureWebpack</li></ul> <blockquote><p>如果这个值是一个对象，则会通过 webpack-merge 合并到最终的配置中</p></blockquote> <p><a href="https://cli.vuejs.org/zh/config/#configurewebpack" target="_blank" rel="noopener noreferrer">configurewebpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>chainWebpack</li></ul> <blockquote><p>链式操作 (高级), 是一个函数，会接收一个基于 webpack-chain 的 ChainableConfig 实例。允许对内部的 webpack 配置进行更细粒度的修改。</p></blockquote> <p><a href="https://cli.vuejs.org/zh/config/#chainwebpack" target="_blank" rel="noopener noreferrer">chainwebpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="typescript-支持"><a href="#typescript-支持" class="header-anchor">#</a> Typescript 支持</h3> <blockquote><p>TypeScript 可以通过 <code>tsconfig.json</code> 来配置。</p></blockquote> <p><code>vue-cli</code>中主要通过<a href="https://cli.vuejs.org/zh/config/#typescript" target="_blank" rel="noopener noreferrer">@vue/cli-plugin-typescript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来支持。</p> <ul><li><code>tsconfig.json</code></li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;preserve&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;importHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;experimentalDecorators&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;skipLibCheck&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;allowSyntheticDefaultImports&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;webpack-env&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;jest&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;element-plus/global&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;@/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;src/*&quot;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dom.iterable&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;scripthost&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;src/**/*.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;src/**/*.tsx&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;src/**/*.vue&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;tests/**/*.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;tests/**/*.tsx&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;node_modules&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="https://www.tslang.cn/docs/handbook/compiler-options.html" target="_blank" rel="noopener noreferrer">tsconfig.json配置参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>shims-vue.d.ts</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// src/shims-vue.d.ts</span>

<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'*.vue'</span> <span class="token punctuation">{</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> DefineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
  <span class="token keyword">const</span> component<span class="token operator">:</span> DefineComponent<span class="token operator">&lt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> component
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'*.gif'</span> <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">const</span> gif<span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>

<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">'*.svg'</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> content<span class="token operator">:</span> <span class="token builtin">any</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> content
<span class="token punctuation">}</span>

</code></pre></div><h3 id="引入-element-plus"><a href="#引入-element-plus" class="header-anchor">#</a> 引入 Element-Plus</h3> <p><a href="https://element-plus.gitee.io/zh-CN/guide/quickstart.html" target="_blank" rel="noopener noreferrer">Element-Plus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://element-plus.gitee.io/zh-CN/component/icon.html" target="_blank" rel="noopener noreferrer">@element-plus/icons<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>全局引入</strong></p> <ol><li>新建：<code>src/plugins/element-plus.js</code>:</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 全局引入 elment-plus</span>
<span class="token keyword">import</span> ElementPlus <span class="token keyword">from</span> <span class="token string">&quot;element-plus&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;element-plus/dist/index.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> zhCn <span class="token keyword">from</span> <span class="token string">&quot;element-plus/es/locale/lang/zh-cn&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 全局注册elment-icon</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> ElIconModules <span class="token keyword">from</span> <span class="token string">'@element-plus/icons'</span>

<span class="token keyword">function</span> <span class="token function">registerElementPlus</span><span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementPlus<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token string">&quot;mini&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">locale</span><span class="token operator">:</span> zhCn <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// 统一注册el-icon图标</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> iconName <span class="token keyword">in</span> ElIconModules<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">let</span> comp <span class="token operator">=</span> ElIconModules<span class="token punctuation">[</span>iconName<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        comp <span class="token operator">&amp;&amp;</span> app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>comp<span class="token punctuation">.</span>name<span class="token punctuation">,</span> comp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> registerElementPlus<span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li><code>src/main.ts</code>中引入：</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

<span class="token comment">// 全局引入 elment-plus 和 icon</span>
<span class="token comment">// 这里用require引入，是因为用es6引入会报ts的语法错误...</span>
<span class="token keyword">const</span> registerElementPlus <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'@/plugins/element-plus'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">;</span>
<span class="token function">registerElementPlus</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="3"><li><code>tsconfig.json</code>中添加配置：</li></ol> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// tsconfig.json</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;element-plus/global&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="4"><li>最后直接在项目中使用即可~</li></ol> <p><strong>按需加载</strong></p> <blockquote><p>待完善~</p></blockquote> <p><strong>国际化: 中英文切换配置</strong></p> <blockquote><p>待完善~</p></blockquote> <h3 id="全局配置-variables-less"><a href="#全局配置-variables-less" class="header-anchor">#</a> 全局配置 Variables.less</h3> <ol><li><p>安装插件：<code>npm i style-resources-loader vue-cli-plugin-style-resources-loader -D</code></p></li> <li><p>配置：</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// vue.config.js</span>

<span class="token literal-property property">pluginOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">'style-resources-loader'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">preProcessor</span><span class="token operator">:</span> <span class="token string">'scss'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">patterns</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/styles/variables.scss'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 配置全局 variables 变量</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><blockquote><p><code>.scss</code>文件中变量的使用：</p></blockquote> <ol><li><code>$name</code></li> <li><code>height: calc(100vh - #{$navBarHeight});</code></li></ol> <h3 id="svg-icon-全局配置"><a href="#svg-icon-全局配置" class="header-anchor">#</a> Svg-Icon 全局配置</h3> <ol><li><p>安装插件：<code>npm i svg-sprite-loader -D</code></p></li> <li><p>配置：</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// vite.config.js</span>

<span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">///////// 配置svg规则</span>
      <span class="token keyword">const</span> dir <span class="token operator">=</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/assets/svg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 指定路径</span>
      config<span class="token punctuation">.</span>module<span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">'svg-icons'</span><span class="token punctuation">)</span> <span class="token comment">// 给 module 添加名为 icons 的 rule</span>
      <span class="token punctuation">.</span>uses<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 清除已有的loader, 如果不这样做会添加在此loader之后</span>
			<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(svg)(\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span> <span class="token comment">// 正则匹配 svg 文件</span>
      <span class="token punctuation">.</span>include<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 包括哪些目录</span>
      <span class="token punctuation">.</span>exclude<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// // 正则匹配排除node_modules目录</span>
			<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'svg-sprite-loader'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">'svg-sprite-loader'</span><span class="token punctuation">)</span> <span class="token comment">// 加载loader</span>
      <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">symbolId</span><span class="token operator">:</span> <span class="token string">'icon-[name]'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 参数</span>
      config<span class="token punctuation">.</span>module<span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">'svg'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>exclude<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span> <span class="token comment">// 默认svg配置排除指定路径</span>
      <span class="token comment">////////</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><ol start="3"><li><p><code>src/components</code>中新建<code>svg-icon.g.vue</code>文件；</p></li> <li><p><code>src/assets/svg/</code>中添加所有需要全局导入的<code>svg</code>文件，<code>src/assets/index.ts</code>中全局导入：</p></li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// src/assets/index.ts</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> SvgIcon <span class="token keyword">from</span> <span class="token string">'@/components/svg-icon.g.vue'</span> <span class="token comment">// svg component</span>

<span class="token comment">// 自动导入所有.svg 文件</span>
<span class="token keyword">const</span> <span class="token function-variable function">requireAll</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>requireContext<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> requireContext<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> requireContext<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>requireContext<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> req <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">'./svg'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.svg$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>

<span class="token function">requireAll</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span><span class="token punctuation">(</span>app<span class="token operator">:</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> createApp<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">'SvgIcon'</span><span class="token punctuation">,</span> SvgIcon<span class="token punctuation">)</span> <span class="token comment">// 注册 svg-icon.vue 组件</span>
<span class="token punctuation">}</span>

</code></pre></div><ol start="5"><li><code>src/main.ts</code>中引入即可~</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>

<span class="token comment">// 引入svg-icon组件</span>
<span class="token keyword">import</span> loadSvg <span class="token keyword">from</span> <span class="token string">'@/assets'</span><span class="token punctuation">;</span>
<span class="token function">loadSvg</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="本地-mock-模拟"><a href="#本地-mock-模拟" class="header-anchor">#</a> 本地 Mock 模拟</h3> <ol><li>安装 mockjs: <code>npm i mockjs -D</code></li></ol> <blockquote><p><a href="http://mockjs.com/" target="_blank" rel="noopener noreferrer">mockjs 官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <ol start="2"><li>添加接口：</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// src/mock/index.ts</span>

<span class="token keyword">const</span> Mock <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'mockjs'</span><span class="token punctuation">)</span>

<span class="token comment">// 获取用户信息</span>
Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token function">RegExp</span><span class="token punctuation">(</span><span class="token string">'/api/user/info'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'get'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>options<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        code<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        flag<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">{</span>
            username<span class="token operator">:</span> <span class="token string">'admin'</span><span class="token punctuation">,</span>
            password<span class="token operator">:</span> <span class="token string">'123456'</span><span class="token punctuation">,</span>
            avatar<span class="token operator">:</span> <span class="token string">'https://img2.bosszhipin.com/boss/avatar/avatar_15.png'</span><span class="token punctuation">,</span>
            roles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'admin'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol start="3"><li><code>src/main.ts</code>中引入：</li></ol> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// mock接口模拟</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_ENV</span> <span class="token operator">===</span> <span class="token string">'mock'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 当执行 npm run mock 时，执行该文件</span>
    <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">'./mock'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="其他配置"><a href="#其他配置" class="header-anchor">#</a> 其他配置</h2> <h3 id="gitignore"><a href="#gitignore" class="header-anchor">#</a> .gitignore</h3> <div class="language- extra-class"><pre class="language-text"><code>.DS_Store
node_modules
/dist


# local env files
.env.local
.env.*.local

# Log files
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*

# Editor directories and files
.idea
.vscode
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?

</code></pre></div><h3 id="browserslist"><a href="#browserslist" class="header-anchor">#</a> browserslist</h3> <p>你会发现有 <code>package.json</code> 文件里的 <code>browserslist</code> 字段 (或一个单独的 <code>.browserslistrc</code> 文件)，指定了项目的目标浏览器的范围。这个值会被 <code>@babel/preset-env</code> 和 <code>Autoprefixer</code> 用来确定需要转译的 <code>JavaScript</code> 特性和需要添加的 <code>CSS</code> 浏览器前缀。</p> <h3 id="babel-配置"><a href="#babel-配置" class="header-anchor">#</a> Babel 配置</h3> <blockquote><p>Babel 可以通过 <code>babel.config.js</code> 进行配置。</p></blockquote> <p>Vue CLI 使用了 Babel 7 中的新配置格式 babel.config.js。和 .babelrc 或 package.json 中的 babel 字段不同，这个配置文件不会使用基于文件位置的方案，而是会一致地运用到项目根目录以下的所有文件，包括 node_modules 内部的依赖。我们推荐在 Vue CLI 项目中始终使用 babel.config.js 取代其它格式。</p> <p>所有的 Vue CLI 应用都使用 <code>@vue/babel-preset-app</code>，它包含了 <code>babel-preset-env、JSX</code> 支持以及为最小化包体积优化过的配置。</p> <p><a href="https://cli.vuejs.org/zh/config/#babel" target="_blank" rel="noopener noreferrer">参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://cli.vuejs.org/zh/guide/browser-compatibility.html" target="_blank" rel="noopener noreferrer">浏览器的兼容性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><a href="https://github.com/vuejs/vue-docs-zh-cn/blob/master/vue-cli-plugin-babel/README.md" target="_blank" rel="noopener noreferrer">@vue/cli-plugin-babel<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="eslint-配置"><a href="#eslint-配置" class="header-anchor">#</a> Eslint 配置</h3> <blockquote><p><code>ESLint</code> 可以通过 <code>.eslintrc</code> 或 <code>package.json</code> 中的 <code>eslintConfig</code> 字段来配置。</p></blockquote> <p>更多细节可查阅 <a href="https://cli.vuejs.org/zh/config/#eslint" target="_blank" rel="noopener noreferrer">@vue/cli-plugin-eslint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h2 id="vue-config-js"><a href="#vue-config-js" class="header-anchor">#</a> vue.config.js</h2> <blockquote><p>配置详情~</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token constant">IS_PROD</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span>
<span class="token keyword">const</span> WebpackBar <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpackbar'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CompressionWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'compression-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> TerserPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'terser-webpack-plugin'</span><span class="token punctuation">)</span>


<span class="token keyword">const</span> <span class="token function-variable function">resolve</span> <span class="token operator">=</span> <span class="token parameter">dir</span> <span class="token operator">=&gt;</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> dir<span class="token punctuation">)</span>


module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token constant">IS_PROD</span> <span class="token operator">?</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_PUBLIC_PATH</span> <span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token comment">// 默认'/'，部署应用包时的基本 URL</span>

  <span class="token comment">// outputDir: process.env.outputDir || 'dist', // 默认dist, 生产环境构建文件的目录</span>

  <span class="token literal-property property">assetsDir</span><span class="token operator">:</span> <span class="token string">&quot;static&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 相对于outputDir的静态资源(js、css、img、fonts)目录</span>

  <span class="token comment">// indexPath: 'index.html', // 指定生成的 index.html 的输出路径 (相对于 outputDir); 默认index.html</span>

  <span class="token comment">// pages: utils.entries(), // 构建多页面应用，每个“page”应该有一个对应的 JavaScript 入口文件</span>

  <span class="token literal-property property">lintOnSave</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 默认true；是否在开发环境下通过 eslint-loader 在每次保存时 lint 代码。这个值会在 @vue/cli-plugin-eslint 被安装之后生效。</span>
  <span class="token literal-property property">productionSourceMap</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 不输出 map 文件，以加速生产环境构建</span>

  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'mock'</span><span class="token punctuation">,</span> <span class="token string">'dev'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_ENV</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">'8097'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// proxy配置</span>
      <span class="token string-property property">'/mock'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string-property property">'target'</span><span class="token operator">:</span> <span class="token string">'http://60.205.222.230:3000/mock/'</span><span class="token punctuation">,</span>
        <span class="token string-property property">'pathRewrite'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token string-property property">'^/mock'</span><span class="token operator">:</span> <span class="token string">''</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 该对象将会被 webpack-merge 合并入最终的 webpack 配置，允许我们更细粒度的控制其内部配置。</span>
  <span class="token function-variable function">configureWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token comment">// devtool: 'source-map',</span>
        <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 设置目录别名alias</span>
                <span class="token string-property property">'@'</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src'</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.ts'</span><span class="token punctuation">,</span> <span class="token string">'.jsx'</span><span class="token punctuation">,</span> <span class="token string">'.tsx'</span><span class="token punctuation">,</span> <span class="token string">'.json'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.mjs'</span><span class="token punctuation">]</span> <span class="token comment">// 导入时想要省略的扩展名列表</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// 插件</span>
            <span class="token keyword">new</span> <span class="token class-name">WebpackBar</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token comment">// 编译进度条</span>
                <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'vue3-cli-admin'</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">IS_PROD</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        config<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
            <span class="token comment">// gzip</span>
            <span class="token keyword">new</span> <span class="token class-name">CompressionWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">'[path].gz[query]'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'\\.('</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token string">'js'</span><span class="token punctuation">,</span> <span class="token string">'css'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'|'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">')$'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token literal-property property">threshold</span><span class="token operator">:</span> <span class="token number">10240</span><span class="token punctuation">,</span>
                <span class="token literal-property property">minRatio</span><span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span>
                <span class="token literal-property property">deleteOriginalAssets</span><span class="token operator">:</span> <span class="token boolean">false</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span>

        <span class="token comment">// 生产环境清除 console.log</span>
        config<span class="token punctuation">.</span>optimization <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token keyword">new</span> <span class="token class-name">TerserPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token literal-property property">terserOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">mangle</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">warnings</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">drop_console</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">drop_debugger</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">pure_funcs</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'console.log'</span><span class="token punctuation">]</span> <span class="token comment">// 清除 console.log</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> config<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token comment">// 移除 preload 插件</span>
    config<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'preload'</span><span class="token punctuation">)</span>
    <span class="token comment">// 移除 prefetch 插件, 当有很多页面时，它会导致太多毫无意义的请求</span>
    config<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'prefetch'</span><span class="token punctuation">)</span>
    <span class="token comment">// 开发环境 sourcemap 不包含列信息</span>
    config<span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">IS_PROD</span><span class="token punctuation">,</span><span class="token parameter">config</span> <span class="token operator">=&gt;</span> config<span class="token punctuation">.</span><span class="token function">devtool</span><span class="token punctuation">(</span><span class="token string">'cheap-source-map'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>



      <span class="token comment">///////// 配置svg规则</span>
      <span class="token keyword">const</span> dir <span class="token operator">=</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/assets/svg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 指定路径</span>
      config<span class="token punctuation">.</span>module<span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">'svg-icons'</span><span class="token punctuation">)</span> <span class="token comment">// 给 module 添加名为 icons 的 rule</span>
      <span class="token punctuation">.</span>uses<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 清除已有的loader, 如果不这样做会添加在此loader之后</span>
			<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(svg)(\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span> <span class="token comment">// 正则匹配 svg 文件</span>
      <span class="token punctuation">.</span>include<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 包括哪些目录</span>
      <span class="token punctuation">.</span>exclude<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// // 正则匹配排除node_modules目录</span>
			<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'svg-sprite-loader'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">'svg-sprite-loader'</span><span class="token punctuation">)</span> <span class="token comment">// 加载loader</span>
      <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">symbolId</span><span class="token operator">:</span> <span class="token string">'icon-[name]'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 参数</span>
      config<span class="token punctuation">.</span>module<span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">'svg'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>exclude<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span> <span class="token comment">// 默认svg配置排除指定路径</span>
      
      <span class="token comment">////////</span>


      <span class="token comment">//////// 打包分析 npm i webpack-bundle-analyzer -D</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">VUE_APP_ENV</span> <span class="token operator">===</span> <span class="token string">'analyze'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span>BundleAnalyzerPlugin<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-bundle-analyzer'</span><span class="token punctuation">)</span>
        config<span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">'webpack-report'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>BundleAnalyzerPlugin<span class="token punctuation">,</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">analyzerMode</span><span class="token operator">:</span> <span class="token string">'static'</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pluginOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">'style-resources-loader'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">preProcessor</span><span class="token operator">:</span> <span class="token string">'scss'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">patterns</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'src/styles/variables.scss'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 配置全局 variables 变量</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">css</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">loaderOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// // 向预处理器 Loader 传递选项</span>
      <span class="token comment">// less: {</span>
      <span class="token comment">//   javascriptEnabled: true</span>
      <span class="token comment">// },</span>
      <span class="token comment">// postcss: {</span>
      <span class="token comment">//   // 这里的选项会传递给 postcss-loader</span>
      <span class="token comment">// }</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">/**
   * transpileDependencies配置默认为[], babel-loader 会忽略所有 node_modules 中的文件。如果你想要通过 Babel 显式转译一个依赖，可以在这个选项中列出来。配置需要转译的第三方库。
   */</span>
  <span class="token literal-property property">transpileDependencies</span><span class="token operator">:</span><span class="token punctuation">[</span> 
    <span class="token string">'swiper'</span><span class="token punctuation">,</span>
    <span class="token string">'dom7'</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>

<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><h2 id="功能"><a href="#功能" class="header-anchor">#</a> 功能</h2> <h3 id="动态路由与权限校验"><a href="#动态路由与权限校验" class="header-anchor">#</a> 动态路由与权限校验</h3> <h3 id="导航"><a href="#导航" class="header-anchor">#</a> 导航</h3> <p>面包屑导航、tags-view</p> <h2 id="备注"><a href="#备注" class="header-anchor">#</a> 备注</h2> <ol><li>终端输入 <code>vue inspect --rules</code>，查看规则配置的列表；</li> <li><code>vue inspect --rule svg-icons</code>: 单独查看 svg-icons 的配置规则</li> <li><code>vue inspect &gt; output.js</code> 输出所有 webpack 配置到指定文件</li></ol> <blockquote><p><a href="https://cli.vuejs.org/zh/guide/webpack.html#%E4%BF%AE%E6%94%B9%E6%8F%92%E4%BB%B6%E9%80%89%E9%A1%B9" target="_blank" rel="noopener noreferrer">参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="报错记录"><a href="#报错记录" class="header-anchor">#</a> 报错记录</h2> <ol><li><code>ERROR Invalid options in vue.config.js: &quot;linOnSave&quot; is not allowed</code></li></ol> <blockquote><p>添加 <code>lintOnSave</code> 配置</p></blockquote> <ol start="2"><li><code>Syntax Error: TypeError: this.getOptions is not a function</code></li></ol> <blockquote><p><code>&lt;style lang=&quot;less&quot;&gt;</code>引起的报错，改为<code>scss</code></p></blockquote> <ol start="3"><li><code>svg-sprite-loader</code> 报错</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">404</span><span class="token punctuation">.</span>svg<span class="token operator">:</span><span class="token number">1</span> Uncaught Error<span class="token operator">:</span> Module build <span class="token function">failed</span> <span class="token punctuation">(</span>from <span class="token punctuation">.</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>svg<span class="token operator">-</span>sprite<span class="token operator">-</span>loader<span class="token operator">/</span>lib<span class="token operator">/</span>loader<span class="token punctuation">.</span>js<span class="token punctuation">)</span><span class="token operator">:</span>
<span class="token literal-property property">InvalidSvg</span><span class="token operator">:</span> svg<span class="token operator">-</span>sprite<span class="token operator">-</span>loader exception<span class="token punctuation">.</span> 
</code></pre></div><ul><li>先检查<code>svg</code>文件是否正常，svg文件为空可能导致此类报错；</li> <li>然后检查<code>svg</code>的配置, 正确配置如下：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
         <span class="token comment">///////// 配置svg规则</span>
        <span class="token keyword">const</span> dir <span class="token operator">=</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'src/assets/svg'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 指定路径</span>
        config<span class="token punctuation">.</span>module<span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">'svg-icons'</span><span class="token punctuation">)</span> <span class="token comment">// 给 module 添加名为 icons 的 rule</span>
        <span class="token punctuation">.</span>uses<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 清除已有的loader, 如果不这样做会添加在此loader之后</span>
                <span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(svg)(\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span> <span class="token comment">// 正则匹配 svg 文件</span>
        <span class="token punctuation">.</span>include<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 包括哪些目录</span>
        <span class="token punctuation">.</span>exclude<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// // 正则匹配排除node_modules目录</span>
                <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'svg-sprite-loader'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">'svg-sprite-loader'</span><span class="token punctuation">)</span> <span class="token comment">// 加载loader</span>
        <span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">symbolId</span><span class="token operator">:</span> <span class="token string">'icon-[name]'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 参数</span>
        config<span class="token punctuation">.</span>module<span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">'svg'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>exclude<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>dir<span class="token punctuation">)</span> <span class="token comment">// 默认svg配置排除指定路径</span>
      <span class="token comment">////////</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>终端输入 <code>vue inspect --rule svg-icons</code>后可查看配置规则：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* config.module.rule('svg-icons') */</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(svg)(\?.*)?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">'/Users/admin/my-code/self/byme/vue3-study/vue3-cli-admin/src/assets/svg'</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">'svg-sprite-loader'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">symbolId</span><span class="token operator">:</span> <span class="token string">'icon-[name]'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>跟 <code>webpack</code> 中的配置差不多~</p> <ol start="4"><li><code>nprogress</code> 和 <code>js-cookie</code> 报错</li></ol> <blockquote><p>安装： <code>npm i @types/nprogress @types/js-cookie -D</code></p></blockquote> <ol start="5"><li><code>element-plus</code>的<code>icon</code>显示不了：</li></ol> <div class="language-js extra-class"><pre class="language-js"><code> Failed to resolve component<span class="token operator">:</span> alarm<span class="token operator">-</span>clock
If <span class="token keyword">this</span> is a native custom element<span class="token punctuation">,</span> make sure to exclude it from component resolution via compilerOptions<span class="token punctuation">.</span>isCustomElement<span class="token punctuation">.</span> 
</code></pre></div><p>这是因为<code>elment-plus</code>的<code>icon</code>图标，需要单独引入，引入方法见<code>src/plugins/element-plus.js</code></p> <ol start="6"><li><code>element-plus.js?d2e6:21 Uncaught TypeError: Cannot assign to read only property 'exports' of object '#&lt;Object&gt;'</code></li></ol> <blockquote><p>webpack不允许混用<code>import</code>和<code>module.exports</code>,统一用法即可~</p></blockquote> <ol start="7"><li><code>ERROR TypeError: Cannot read property 'tapPromise' of undefined</code></li></ol> <blockquote><p><code>compression-webpack-plugin</code> 版本问题，降至<code>v5.0.1</code></p></blockquote> <p><a href="https://blog.csdn.net/weixin_38401146/article/details/115308825" target="_blank" rel="noopener noreferrer">参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ol start="8"><li><code>ERROR TypeError: Cannot read property 'javascript' of undefined</code></li></ol> <blockquote><p>terser-webpack-plugin 版本问题，降至<code>v4.2.3</code></p></blockquote> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li><a href="https://github.com/un-pany/v3-admin" target="_blank" rel="noopener noreferrer">v3-admin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/buqiyuan/vue3-antd-admin" target="_blank" rel="noopener noreferrer">vue3-antd-admin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <a href="/skills/" class="fix-link" data-v-84d70020>Back</a></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/blog/tags/?tag=vue3" title="标签">#vue3</a><a href="/blog/tags/?tag=vue-cli" title="标签">#vue-cli</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">1/25/2022, 1:41:43 AM</span></div></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/blog/archives" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/blog/more/github-actions.html"><div>
            Github Actions自动部署
            <!----></div></a> <span class="date">09-17</span></dt></dl><dl><dd>02</dd> <dt><a href="/blog/project/mono-react-project.html"><div>
            MonoRepo——React项目实践
            <!----></div></a> <span class="date">09-11</span></dt></dl><dl><dd>03</dd> <dt><a href="/blog/more/jenkins-deploy.html"><div>
            Jenkins前端自动化部署
            <!----></div></a> <span class="date">08-10</span></dt></dl> <dl><dd></dd> <dt><a href="/blog/archives" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2023
    <span>一苇 | <a href="https://beian.miit.gov.cn/" target="_blank" style="font-weight:normal"><img src="/blog/images/icp.png" width="20" height="20" alt="公网备案"/>京ICP备2021006935号-2</a> </span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----><!----><!----><div></div></div></div>
    <script src="/blog/assets/js/app.0f95228c.js" defer></script><script src="/blog/assets/js/3.a2a245ac.js" defer></script><script src="/blog/assets/js/140.745cad36.js" defer></script><script src="/blog/assets/js/4.245b4373.js" defer></script>
  </body>
</html>
