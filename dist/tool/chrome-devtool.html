<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chrome-DevToolsä½¿ç”¨ç¬”è®° | ä¸€è‘¦</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/blog/icons/favicon.ico">
    <link rel="manifest" href="/blog/js/mainfest.json">
    <link rel="stylesheet" href="/blog/styles/css/style.css">
    <script type="utf-8" src="/blog/js/disable-user-zoom.js"></script>
    <meta name="description" content="è¿™æ˜¯ä¸€è‹‡çš„å‰ç«¯æŠ€æœ¯åšå®¢å“¦~">
    <meta name="Author" content="ä¸€è‹‡">
    <meta rel="keywords" content="verneyzhou,é˜¿æ²,ä¸€è‹‡,å‰ç«¯,docs.verneyzhou-code.cn,åšå®¢,fe,IT,æŠ€æœ¯">
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
    <meta name="viewport" content="width=device-width,width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <link rel="preload" href="/blog/assets/css/0.styles.61668f40.css" as="style"><link rel="preload" href="/blog/assets/js/app.76fa57e6.js" as="script"><link rel="preload" href="/blog/assets/js/3.a2a245ac.js" as="script"><link rel="preload" href="/blog/assets/js/170.b70b623c.js" as="script"><link rel="preload" href="/blog/assets/js/4.245b4373.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.2c3fb9b8.js"><link rel="prefetch" href="/blog/assets/js/100.84bf5092.js"><link rel="prefetch" href="/blog/assets/js/101.6b905b71.js"><link rel="prefetch" href="/blog/assets/js/102.7ece9162.js"><link rel="prefetch" href="/blog/assets/js/103.01775736.js"><link rel="prefetch" href="/blog/assets/js/104.c9b72bdf.js"><link rel="prefetch" href="/blog/assets/js/105.b7ceaf1e.js"><link rel="prefetch" href="/blog/assets/js/106.5321c092.js"><link rel="prefetch" href="/blog/assets/js/107.dfde808a.js"><link rel="prefetch" href="/blog/assets/js/108.76e55255.js"><link rel="prefetch" href="/blog/assets/js/109.b6b8f78e.js"><link rel="prefetch" href="/blog/assets/js/11.d8db7424.js"><link rel="prefetch" href="/blog/assets/js/110.03440fcf.js"><link rel="prefetch" href="/blog/assets/js/111.7001d092.js"><link rel="prefetch" href="/blog/assets/js/112.2c3ec8a9.js"><link rel="prefetch" href="/blog/assets/js/113.17aec38b.js"><link rel="prefetch" href="/blog/assets/js/114.d5c86b19.js"><link rel="prefetch" href="/blog/assets/js/115.c5e7ed6d.js"><link rel="prefetch" href="/blog/assets/js/116.c48f3f00.js"><link rel="prefetch" href="/blog/assets/js/117.46f33ca4.js"><link rel="prefetch" href="/blog/assets/js/118.891ade5b.js"><link rel="prefetch" href="/blog/assets/js/119.58a54ba4.js"><link rel="prefetch" href="/blog/assets/js/12.b6309f61.js"><link rel="prefetch" href="/blog/assets/js/120.e96a1ea7.js"><link rel="prefetch" href="/blog/assets/js/121.ba217794.js"><link rel="prefetch" href="/blog/assets/js/122.fa395dd6.js"><link rel="prefetch" href="/blog/assets/js/123.8dee52e0.js"><link rel="prefetch" href="/blog/assets/js/124.5964facb.js"><link rel="prefetch" href="/blog/assets/js/125.2b5713d4.js"><link rel="prefetch" href="/blog/assets/js/126.0b020030.js"><link rel="prefetch" href="/blog/assets/js/127.73d8db3a.js"><link rel="prefetch" href="/blog/assets/js/128.e350bccb.js"><link rel="prefetch" href="/blog/assets/js/129.6efe4916.js"><link rel="prefetch" href="/blog/assets/js/13.8df65d8d.js"><link rel="prefetch" href="/blog/assets/js/130.2feb4a2a.js"><link rel="prefetch" href="/blog/assets/js/131.ebf7c589.js"><link rel="prefetch" href="/blog/assets/js/132.2fd4ea82.js"><link rel="prefetch" href="/blog/assets/js/133.e9db689a.js"><link rel="prefetch" href="/blog/assets/js/134.8c37cc25.js"><link rel="prefetch" href="/blog/assets/js/135.ae783483.js"><link rel="prefetch" href="/blog/assets/js/136.92671aff.js"><link rel="prefetch" href="/blog/assets/js/137.0db285b2.js"><link rel="prefetch" href="/blog/assets/js/138.c73abe07.js"><link rel="prefetch" href="/blog/assets/js/139.41626f14.js"><link rel="prefetch" href="/blog/assets/js/14.b950268f.js"><link rel="prefetch" href="/blog/assets/js/140.99fdcd5c.js"><link rel="prefetch" href="/blog/assets/js/141.fbc8e614.js"><link rel="prefetch" href="/blog/assets/js/142.4f34e195.js"><link rel="prefetch" href="/blog/assets/js/143.127a9850.js"><link rel="prefetch" href="/blog/assets/js/144.0f65824d.js"><link rel="prefetch" href="/blog/assets/js/145.1ee8c5fc.js"><link rel="prefetch" href="/blog/assets/js/146.3ba627c8.js"><link rel="prefetch" href="/blog/assets/js/147.09e3708c.js"><link rel="prefetch" href="/blog/assets/js/148.5e218851.js"><link rel="prefetch" href="/blog/assets/js/149.0e52c725.js"><link rel="prefetch" href="/blog/assets/js/15.030ef122.js"><link rel="prefetch" href="/blog/assets/js/150.d3ae11a8.js"><link rel="prefetch" href="/blog/assets/js/151.817b960d.js"><link rel="prefetch" href="/blog/assets/js/152.5a77e7f4.js"><link rel="prefetch" href="/blog/assets/js/153.5bc9a462.js"><link rel="prefetch" href="/blog/assets/js/154.d4c7af79.js"><link rel="prefetch" href="/blog/assets/js/155.dc03710e.js"><link rel="prefetch" href="/blog/assets/js/156.5e872d85.js"><link rel="prefetch" href="/blog/assets/js/157.9e2becea.js"><link rel="prefetch" href="/blog/assets/js/158.a2942e85.js"><link rel="prefetch" href="/blog/assets/js/159.26c63404.js"><link rel="prefetch" href="/blog/assets/js/16.cfb1a53b.js"><link rel="prefetch" href="/blog/assets/js/160.96d3beaa.js"><link rel="prefetch" href="/blog/assets/js/161.c34c5b2e.js"><link rel="prefetch" href="/blog/assets/js/162.45223b4c.js"><link rel="prefetch" href="/blog/assets/js/163.dca039a1.js"><link rel="prefetch" href="/blog/assets/js/164.c188755b.js"><link rel="prefetch" href="/blog/assets/js/165.774591a1.js"><link rel="prefetch" href="/blog/assets/js/166.0bb7199e.js"><link rel="prefetch" href="/blog/assets/js/167.6c729c82.js"><link rel="prefetch" href="/blog/assets/js/168.9ddae43f.js"><link rel="prefetch" href="/blog/assets/js/169.a041747e.js"><link rel="prefetch" href="/blog/assets/js/17.7f17682b.js"><link rel="prefetch" href="/blog/assets/js/171.4b0257b9.js"><link rel="prefetch" href="/blog/assets/js/172.7f4c2d3c.js"><link rel="prefetch" href="/blog/assets/js/173.b3b75dfa.js"><link rel="prefetch" href="/blog/assets/js/174.52d7ea40.js"><link rel="prefetch" href="/blog/assets/js/175.beb33995.js"><link rel="prefetch" href="/blog/assets/js/176.95e06720.js"><link rel="prefetch" href="/blog/assets/js/177.f491f17d.js"><link rel="prefetch" href="/blog/assets/js/178.71c66889.js"><link rel="prefetch" href="/blog/assets/js/179.ca760d60.js"><link rel="prefetch" href="/blog/assets/js/18.cbfdeb09.js"><link rel="prefetch" href="/blog/assets/js/180.b50d733c.js"><link rel="prefetch" href="/blog/assets/js/181.335287be.js"><link rel="prefetch" href="/blog/assets/js/182.8cad2bdb.js"><link rel="prefetch" href="/blog/assets/js/183.37a5fb7a.js"><link rel="prefetch" href="/blog/assets/js/184.e920bd7f.js"><link rel="prefetch" href="/blog/assets/js/185.0ffd8f98.js"><link rel="prefetch" href="/blog/assets/js/186.b9b7e58a.js"><link rel="prefetch" href="/blog/assets/js/187.ee242116.js"><link rel="prefetch" href="/blog/assets/js/188.a7f885d1.js"><link rel="prefetch" href="/blog/assets/js/189.41087ead.js"><link rel="prefetch" href="/blog/assets/js/19.355e9671.js"><link rel="prefetch" href="/blog/assets/js/190.0ff0d636.js"><link rel="prefetch" href="/blog/assets/js/191.b0c298a8.js"><link rel="prefetch" href="/blog/assets/js/192.e1fdc41d.js"><link rel="prefetch" href="/blog/assets/js/193.a12e8cc4.js"><link rel="prefetch" href="/blog/assets/js/194.552a7d72.js"><link rel="prefetch" href="/blog/assets/js/195.65c94003.js"><link rel="prefetch" href="/blog/assets/js/196.7ecad629.js"><link rel="prefetch" href="/blog/assets/js/197.769eb8f4.js"><link rel="prefetch" href="/blog/assets/js/198.417e877e.js"><link rel="prefetch" href="/blog/assets/js/199.c198e821.js"><link rel="prefetch" href="/blog/assets/js/20.925de35d.js"><link rel="prefetch" href="/blog/assets/js/200.aaf0c7da.js"><link rel="prefetch" href="/blog/assets/js/201.b9b528a4.js"><link rel="prefetch" href="/blog/assets/js/202.dc2130c4.js"><link rel="prefetch" href="/blog/assets/js/203.494c16a2.js"><link rel="prefetch" href="/blog/assets/js/204.5451a8b2.js"><link rel="prefetch" href="/blog/assets/js/205.3a9d9143.js"><link rel="prefetch" href="/blog/assets/js/206.8f218f53.js"><link rel="prefetch" href="/blog/assets/js/207.e286efec.js"><link rel="prefetch" href="/blog/assets/js/208.b15e7ceb.js"><link rel="prefetch" href="/blog/assets/js/209.8be13a1b.js"><link rel="prefetch" href="/blog/assets/js/21.73aa97dc.js"><link rel="prefetch" href="/blog/assets/js/210.8af7e1c3.js"><link rel="prefetch" href="/blog/assets/js/211.cf4f7aba.js"><link rel="prefetch" href="/blog/assets/js/212.b1e8078a.js"><link rel="prefetch" href="/blog/assets/js/213.99b7c2dd.js"><link rel="prefetch" href="/blog/assets/js/214.3073fbf3.js"><link rel="prefetch" href="/blog/assets/js/215.7884f71b.js"><link rel="prefetch" href="/blog/assets/js/216.fc4df39d.js"><link rel="prefetch" href="/blog/assets/js/217.dcf694ab.js"><link rel="prefetch" href="/blog/assets/js/218.91ac665b.js"><link rel="prefetch" href="/blog/assets/js/219.04f0e072.js"><link rel="prefetch" href="/blog/assets/js/22.a5e696f3.js"><link rel="prefetch" href="/blog/assets/js/220.ec5aa358.js"><link rel="prefetch" href="/blog/assets/js/221.eeacfb35.js"><link rel="prefetch" href="/blog/assets/js/222.6d68084c.js"><link rel="prefetch" href="/blog/assets/js/223.6d1ff62a.js"><link rel="prefetch" href="/blog/assets/js/224.b1682e38.js"><link rel="prefetch" href="/blog/assets/js/23.e58011e2.js"><link rel="prefetch" href="/blog/assets/js/24.9a66d8cd.js"><link rel="prefetch" href="/blog/assets/js/25.bbfbc411.js"><link rel="prefetch" href="/blog/assets/js/26.0a58cb04.js"><link rel="prefetch" href="/blog/assets/js/27.30ff8122.js"><link rel="prefetch" href="/blog/assets/js/28.1b138f63.js"><link rel="prefetch" href="/blog/assets/js/29.8706dde6.js"><link rel="prefetch" href="/blog/assets/js/30.7354bbdd.js"><link rel="prefetch" href="/blog/assets/js/31.42f329d7.js"><link rel="prefetch" href="/blog/assets/js/32.89b2e87d.js"><link rel="prefetch" href="/blog/assets/js/33.e762c9a2.js"><link rel="prefetch" href="/blog/assets/js/34.c4cc6afc.js"><link rel="prefetch" href="/blog/assets/js/35.a3e5fba6.js"><link rel="prefetch" href="/blog/assets/js/36.03e0ebe8.js"><link rel="prefetch" href="/blog/assets/js/37.ec453e24.js"><link rel="prefetch" href="/blog/assets/js/38.cf1f5fcf.js"><link rel="prefetch" href="/blog/assets/js/39.1156b141.js"><link rel="prefetch" href="/blog/assets/js/40.d33ba184.js"><link rel="prefetch" href="/blog/assets/js/41.2820e583.js"><link rel="prefetch" href="/blog/assets/js/42.c088f38a.js"><link rel="prefetch" href="/blog/assets/js/43.a832abeb.js"><link rel="prefetch" href="/blog/assets/js/44.9391c80d.js"><link rel="prefetch" href="/blog/assets/js/45.a0235304.js"><link rel="prefetch" href="/blog/assets/js/46.9730b825.js"><link rel="prefetch" href="/blog/assets/js/47.56fd5076.js"><link rel="prefetch" href="/blog/assets/js/48.b5374317.js"><link rel="prefetch" href="/blog/assets/js/49.8bb025d5.js"><link rel="prefetch" href="/blog/assets/js/5.32a2e1b6.js"><link rel="prefetch" href="/blog/assets/js/50.8011aa1f.js"><link rel="prefetch" href="/blog/assets/js/51.a915dbc4.js"><link rel="prefetch" href="/blog/assets/js/52.99d2399f.js"><link rel="prefetch" href="/blog/assets/js/53.be187caf.js"><link rel="prefetch" href="/blog/assets/js/54.07b08901.js"><link rel="prefetch" href="/blog/assets/js/55.3ef99688.js"><link rel="prefetch" href="/blog/assets/js/56.9258b8d8.js"><link rel="prefetch" href="/blog/assets/js/57.4762d5e6.js"><link rel="prefetch" href="/blog/assets/js/58.8d1268be.js"><link rel="prefetch" href="/blog/assets/js/59.20eb3b71.js"><link rel="prefetch" href="/blog/assets/js/6.9db196de.js"><link rel="prefetch" href="/blog/assets/js/60.0adc2f64.js"><link rel="prefetch" href="/blog/assets/js/61.7a4bb849.js"><link rel="prefetch" href="/blog/assets/js/62.4b595b7b.js"><link rel="prefetch" href="/blog/assets/js/63.8efe6050.js"><link rel="prefetch" href="/blog/assets/js/64.2daf2555.js"><link rel="prefetch" href="/blog/assets/js/65.01aa6930.js"><link rel="prefetch" href="/blog/assets/js/66.b71e30c2.js"><link rel="prefetch" href="/blog/assets/js/67.b88d5dfc.js"><link rel="prefetch" href="/blog/assets/js/68.0455a3ce.js"><link rel="prefetch" href="/blog/assets/js/69.aac22b54.js"><link rel="prefetch" href="/blog/assets/js/7.c958551b.js"><link rel="prefetch" href="/blog/assets/js/70.513be29f.js"><link rel="prefetch" href="/blog/assets/js/71.dda331fc.js"><link rel="prefetch" href="/blog/assets/js/72.20dc430c.js"><link rel="prefetch" href="/blog/assets/js/73.5046c7ef.js"><link rel="prefetch" href="/blog/assets/js/74.436c2c94.js"><link rel="prefetch" href="/blog/assets/js/75.717953f1.js"><link rel="prefetch" href="/blog/assets/js/76.4898deac.js"><link rel="prefetch" href="/blog/assets/js/77.1417b15d.js"><link rel="prefetch" href="/blog/assets/js/78.d51e77f9.js"><link rel="prefetch" href="/blog/assets/js/79.e7af2572.js"><link rel="prefetch" href="/blog/assets/js/8.d5f2c1ba.js"><link rel="prefetch" href="/blog/assets/js/80.f5d5c456.js"><link rel="prefetch" href="/blog/assets/js/81.e46213a6.js"><link rel="prefetch" href="/blog/assets/js/82.a2b78450.js"><link rel="prefetch" href="/blog/assets/js/83.ec57022e.js"><link rel="prefetch" href="/blog/assets/js/84.1a1e65b2.js"><link rel="prefetch" href="/blog/assets/js/85.453ecac0.js"><link rel="prefetch" href="/blog/assets/js/86.98f2e40a.js"><link rel="prefetch" href="/blog/assets/js/87.56486cd5.js"><link rel="prefetch" href="/blog/assets/js/88.25a76bc5.js"><link rel="prefetch" href="/blog/assets/js/89.0a157175.js"><link rel="prefetch" href="/blog/assets/js/9.952385f9.js"><link rel="prefetch" href="/blog/assets/js/90.5b516e54.js"><link rel="prefetch" href="/blog/assets/js/91.6d74ff97.js"><link rel="prefetch" href="/blog/assets/js/92.3b2d151b.js"><link rel="prefetch" href="/blog/assets/js/93.f20ce1f2.js"><link rel="prefetch" href="/blog/assets/js/94.c3062efe.js"><link rel="prefetch" href="/blog/assets/js/95.206ed12d.js"><link rel="prefetch" href="/blog/assets/js/96.fad1a27d.js"><link rel="prefetch" href="/blog/assets/js/97.23b93196.js"><link rel="prefetch" href="/blog/assets/js/98.a90f6f17.js"><link rel="prefetch" href="/blog/assets/js/99.adc32b70.js"><link rel="prefetch" href="/blog/assets/js/vendors~flowchart.381052ad.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.61668f40.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/icons/apple-touch-icon.png" alt="ä¸€è‘¦" class="logo"> <span class="site-name can-hide">ä¸€è‘¦</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/archives/" class="nav-link">æ—¶é—´è½´</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åŸºç¡€" class="dropdown-title"><!----> <span class="title" style="display:;">åŸºç¡€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/frontend/js/" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/blog/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/blog/frontend/css/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è¿›é˜¶" class="dropdown-title"><!----> <span class="title" style="display:;">è¿›é˜¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/skills/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/blog/skills/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/blog/code/" class="nav-link">æºç </a></li><li class="dropdown-item"><!----> <a href="/blog/more/web3/" class="nav-link">Web3</a></li><li class="dropdown-item"><!----> <a href="/blog/more/" class="nav-link">æ›´å¤š</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¡¹ç›®" class="dropdown-title"><!----> <span class="title" style="display:;">é¡¹ç›®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>PCç«¯</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/project/vue-node-admin/" class="nav-link">vue-node-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-vite-admin.html" class="nav-link">vue3-vite-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-cli-admin.html" class="nav-link">vue3-cli-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-webpack5-admin.html" class="nav-link">vue3-webpack5-admin</a></li><li class="dropdown-subitem"><a href="/blog/project/mono-react-project.html" class="nav-link">teach-react-mono</a></li></ul></li><li class="dropdown-item"><h4>ç§»åŠ¨ç«¯</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/project/mobile-h5/" class="nav-link">å¾®ä¿¡h5</a></li><li class="dropdown-subitem"><a href="/blog/project/mini-program/" class="nav-link">å¾®ä¿¡å°ç¨‹åº</a></li><li class="dropdown-subitem"><a href="/blog/project/mobile/" class="nav-link">ç§»åŠ¨ç«¯å¼€å‘ç¬”è®°</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blog/more/ai/" class="nav-link">AI</a></div><div class="nav-item"><a href="/blog/tool/" class="nav-link router-link-active">å…¶ä»–</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…³äº" class="dropdown-title"><!----> <span class="title" style="display:;">å…³äº</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/about/" class="nav-link">ME</a></li><li class="dropdown-item"><!----> <a href="https://github.com/verneyZhou" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="images/poster03.jpeg"> <div class="blogger-info"><h3></h3> <span>æ˜¯æ—·é‡ï¼Œä¸æ˜¯è½¨é“å“¦ï¼Œå°‘å¹´ã€‚</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/archives/" class="nav-link">æ—¶é—´è½´</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åŸºç¡€" class="dropdown-title"><!----> <span class="title" style="display:;">åŸºç¡€</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/frontend/js/" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/blog/frontend/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/blog/frontend/css/" class="nav-link">CSS</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="è¿›é˜¶" class="dropdown-title"><!----> <span class="title" style="display:;">è¿›é˜¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/skills/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/blog/skills/webpack/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/blog/code/" class="nav-link">æºç </a></li><li class="dropdown-item"><!----> <a href="/blog/more/web3/" class="nav-link">Web3</a></li><li class="dropdown-item"><!----> <a href="/blog/more/" class="nav-link">æ›´å¤š</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="é¡¹ç›®" class="dropdown-title"><!----> <span class="title" style="display:;">é¡¹ç›®</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>PCç«¯</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/project/vue-node-admin/" class="nav-link">vue-node-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-vite-admin.html" class="nav-link">vue3-vite-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-cli-admin.html" class="nav-link">vue3-cli-admin</a></li><li class="dropdown-subitem"><a href="/blog/skills/vue/vue3-webpack5-admin.html" class="nav-link">vue3-webpack5-admin</a></li><li class="dropdown-subitem"><a href="/blog/project/mono-react-project.html" class="nav-link">teach-react-mono</a></li></ul></li><li class="dropdown-item"><h4>ç§»åŠ¨ç«¯</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/blog/project/mobile-h5/" class="nav-link">å¾®ä¿¡h5</a></li><li class="dropdown-subitem"><a href="/blog/project/mini-program/" class="nav-link">å¾®ä¿¡å°ç¨‹åº</a></li><li class="dropdown-subitem"><a href="/blog/project/mobile/" class="nav-link">ç§»åŠ¨ç«¯å¼€å‘ç¬”è®°</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/blog/more/ai/" class="nav-link">AI</a></div><div class="nav-item"><a href="/blog/tool/" class="nav-link router-link-active">å…¶ä»–</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…³äº" class="dropdown-title"><!----> <span class="title" style="display:;">å…³äº</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/about/" class="nav-link">ME</a></li><li class="dropdown-item"><!----> <a href="https://github.com/verneyZhou" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Chrome-DevToolsä½¿ç”¨ç¬”è®°</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/tool/chrome-devtool.html#console" class="sidebar-link">Console</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/tool/chrome-devtool.html#element" class="sidebar-link">Element</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/tool/chrome-devtool.html#network" class="sidebar-link">Network</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/tool/chrome-devtool.html#source" class="sidebar-link">Source</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/tool/chrome-devtool.html#è°ƒè¯•" class="sidebar-link">è°ƒè¯•</a></li><li class="sidebar-sub-header"><a href="/blog/tool/chrome-devtool.html#å…¶ä»–" class="sidebar-link">å…¶ä»–</a></li></ul></li><li><a href="/blog/tool/chrome-devtool.html#performanceæ€§èƒ½åˆ†æ" class="sidebar-link">Performanceæ€§èƒ½åˆ†æ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/tool/chrome-devtool.html#performanceé¢æ¿" class="sidebar-link">Performanceé¢æ¿</a></li><li class="sidebar-sub-header"><a href="/blog/tool/chrome-devtool.html#mainæŒ‡æ ‡åˆ†æ" class="sidebar-link">MainæŒ‡æ ‡åˆ†æ</a></li><li class="sidebar-sub-header"><a href="/blog/tool/chrome-devtool.html#å¯¼èˆªé˜¶æ®µ" class="sidebar-link">å¯¼èˆªé˜¶æ®µ</a></li><li class="sidebar-sub-header"><a href="/blog/tool/chrome-devtool.html#è§£æhtmlæ•°æ®é˜¶æ®µ" class="sidebar-link">è§£æHTMLæ•°æ®é˜¶æ®µ</a></li><li class="sidebar-sub-header"><a href="/blog/tool/chrome-devtool.html#ç»˜åˆ¶é˜¶æ®µ" class="sidebar-link">ç»˜åˆ¶é˜¶æ®µ</a></li><li class="sidebar-sub-header"><a href="/blog/tool/chrome-devtool.html#æ€»ç»“" class="sidebar-link">æ€»ç»“</a></li></ul></li><li><a href="/blog/tool/chrome-devtool.html#renderingé…ç½®" class="sidebar-link">Renderingé…ç½®</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/tool/chrome-devtool.html#é¡µé¢å›¾å±‚layers" class="sidebar-link">é¡µé¢å›¾å±‚Layers</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/tool/chrome-devtool.html#memory" class="sidebar-link">Memory</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/tool/chrome-devtool.html#lighthouse" class="sidebar-link">Lighthouse</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/tool/chrome-devtool.html#æˆªå›¾" class="sidebar-link">æˆªå›¾</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/tool/chrome-devtool.html#å…¶ä»–æŠ€å·§" class="sidebar-link">å…¶ä»–æŠ€å·§</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/tool/chrome-devtool.html#å¤‡æ³¨" class="sidebar-link">å¤‡æ³¨</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/tool/chrome-devtool.html#chrome-devtools-åŸç†" class="sidebar-link">Chrome DevTools åŸç†</a></li><li class="sidebar-sub-header"><a href="/blog/tool/chrome-devtool.html#vscode-debugger" class="sidebar-link">VSCode Debugger</a></li><li class="sidebar-sub-header"><a href="/blog/tool/chrome-devtool.html#æ–­ç‚¹ç±»å‹" class="sidebar-link">æ–­ç‚¹ç±»å‹</a></li></ul></li><li><a href="/blog/tool/chrome-devtool.html#ä¾‹-performanceæ€§èƒ½ä¼˜åŒ–å®è·µ" class="sidebar-link">ä¾‹ï¼šPerformanceæ€§èƒ½ä¼˜åŒ–å®è·µ</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/tool/chrome-devtool.html#æ”¶è—" class="sidebar-link">æ”¶è—</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/tool/chrome-devtool.html#å‚è€ƒ" class="sidebar-link">å‚è€ƒ</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-0c557b5e><div class="articleInfo" data-v-0c557b5e><ul class="breadcrumbs" data-v-0c557b5e><li data-v-0c557b5e><a href="/blog/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-0c557b5e></a></li> <li data-v-0c557b5e><a href="/blog/categories/?category=tool" title="åˆ†ç±»" data-v-0c557b5e>tool</a></li></ul> <div class="info" data-v-0c557b5e><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>é˜¿æ²</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-0c557b5e><a href="javascript:;" data-v-0c557b5e>2023-11-16</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">Chrome-DevToolsä½¿ç”¨ç¬”è®°<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="chrome-devtoolsä½¿ç”¨ç¬”è®°"><a href="#chrome-devtoolsä½¿ç”¨ç¬”è®°" class="header-anchor">#</a> Chrome-DevToolsä½¿ç”¨ç¬”è®°</h1> <blockquote><p>Chromeå¼€å‘è€…å·¥å…·ï¼ˆç®€ç§°DevToolsï¼‰æ˜¯ä¸€ç»„ç½‘é¡µåˆ¶ä½œå’Œè°ƒè¯•çš„å·¥å…·ï¼Œå†…åµŒäºGoogle Chromeæµè§ˆå™¨ä¸­ã€‚DevToolsä½¿å¼€å‘è€…æ›´åŠ æ·±å…¥çš„äº†è§£æµè§ˆå™¨å†…éƒ¨ä»¥åŠä»–ä»¬ç¼–å†™çš„åº”ç”¨ã€‚é€šè¿‡ä½¿ç”¨DevToolsï¼Œå¯ä»¥æ›´åŠ é«˜æ•ˆçš„å®šä½é¡µé¢å¸ƒå±€é—®é¢˜ï¼Œè®¾ç½®JavaScriptæ–­ç‚¹å¹¶ä¸”æ›´å¥½çš„ç†è§£ä»£ç ä¼˜åŒ–ã€‚</p></blockquote> <p><strong>æ‰“å¼€DevToolsï¼š</strong></p> <ul><li>æ–¹æ³•1ï¼šé¡µé¢å•å‡»é¼ æ ‡å³é”® =&gt; ç‚¹å‡»ã€æ£€æŸ¥ã€‘</li> <li>æ–¹æ³•2ï¼šæµè§ˆå™¨å³ä¸Šè§’ã€...ã€‘ =&gt; ã€æ›´å¤šå·¥å…·ã€‘=&gt; ã€å¼€å‘è€…å·¥å…·ã€‘</li> <li>æ–¹æ³•3ï¼šmacå¿«æ·é”®ï¼š<code>command + option+ I</code>æ‰“å¼€DevToolsçš„<code>Performance</code>; <code>command + option+ J</code>æ‰“å¼€<code>Console</code>; <code>command + option+ C</code>æ‰“å¼€<code>Element</code></li></ul> <blockquote><p>Windowsä¸º<code>Ctrl + Shift + ...</code></p></blockquote> <h2 id="console"><a href="#console" class="header-anchor">#</a> Console</h2> <ul><li><p>é”™è¯¯å’Œè­¦å‘Š:</p> <ul><li><code>console.error()</code>æ‰“å°çš„ç»“æœæ˜¯çº¢è‰²çš„ï¼Œ</li> <li><code>console.warn()</code>æ‰“å°çš„ä¿¡æ¯æ˜¯é»„è‰²çš„;</li> <li><code>console.assert()</code>æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°çš„ç»“æœä¸ºfalseï¼Œåˆ™è¯¥æ–¹æ³•ä¼šå°†ç¬¬äºŒä¸ªå‚æ•°è¾“å‡ºåˆ°æ§åˆ¶å°: <code>console.assert(list.length &lt; 500, &quot;count is &gt; 500&quot;)</code>;</li></ul></li> <li><p><code>$_</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šå˜é‡ï¼Œå…¶å€¼å§‹ç»ˆç­‰äºæ§åˆ¶å°ä¸­ä¸Šä¸€æ¬¡æ“ä½œçš„ç»“æœ, æ­¤æŠ€æœ¯æ˜¯è°ƒè¯•ä»£ç çš„ä¾¿æ·æ–¹æ³•~</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token comment">// 3</span>
$_ <span class="token operator">*</span> <span class="token number">3</span> <span class="token comment">// 9</span>
$_   <span class="token comment">//  9</span>
$_ <span class="token operator">+</span> <span class="token number">4</span> <span class="token comment">// 13</span>
</code></pre></div><ul><li><code>$0</code>ä¹Ÿæ˜¯ä¸€ä¸ªç‰¹æ®Šå˜é‡ï¼Œå®ƒå¼•ç”¨â€œå…ƒç´ â€é¢æ¿ä¸­å½“å‰é€‰å®šçš„å…ƒç´ ï¼š</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>$0
<span class="token operator">&lt;</span>img data<span class="token operator">-</span>v<span class="token operator">-</span>5244ef91<span class="token operator">=</span><span class="token string">&quot;&quot;</span> data<span class="token operator">-</span>v<span class="token operator">-</span>03256cc6<span class="token operator">=</span><span class="token string">&quot;&quot;</span> src<span class="token operator">=</span><span class="token string">&quot;.....&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token comment">// å¯ç”¨è¯¥å˜é‡å¿«é€Ÿè·å–domçš„å±æ€§</span>
$0<span class="token punctuation">.</span>offsetHeight
</code></pre></div><blockquote><p><code>$1</code>å¯¹ä¸Šæ¬¡çš„èŠ‚ç‚¹å¼•ç”¨ï¼Œ<code>$2</code>å¯¹ä¸Šä¸Šæ¬¡èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œä¸€ç›´åˆ°<code>$4</code></p></blockquote> <ul><li>ä½¿ç”¨<code>XPath</code>æŸ¥è¯¢DOM: XPathæ˜¯ä¸€ç§æŸ¥è¯¢è¯­è¨€ï¼Œç”¨äºä»DOMæ–‡æ¡£ä¸­æŸ¥æ‰¾nodeï¼Œè¿”å›ç»“æœå¯èƒ½æ˜¯ä¸€ç»„nodeï¼Œå­—ç¬¦ä¸²ï¼Œå¸ƒå°”å€¼æˆ–è€…æ•°å­—ã€‚ä½ å¯ä»¥ç›´æ¥åœ¨DevToolsçš„JavaScriptæ§åˆ¶å°ä¸­ç›´æ¥ä½¿ç”¨XPathæŸ¥è¯¢è¯­å¥ã€‚</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åœ¨æŒ‡å®šçš„frameä¸­æŸ¥æ‰¾imgå…ƒç´ </span>
<span class="token keyword">var</span> frame <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'iframe'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span>document<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
<span class="token function">$x</span><span class="token punctuation">(</span><span class="token string">'//img'</span><span class="token punctuation">,</span> frame<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// $x(xpath, context)ã€‚é€šè¿‡æ‰©å±•å‚æ•°ï¼Œä½ å¯ä»¥é€‰æ‹©ç‰¹å®šä¸Šä¸‹æ–‡é‡Œçš„DOMå…ƒç´ ã€‚</span>
</code></pre></div><ul><li>é€‰æ‹©å…ƒç´ :</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//  $(selector, [startNode])ï¼šå•é€‰æ‹©å™¨, è¿”å›æ»¡è¶³æŒ‡å®šCSSè§„åˆ™çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ­¤æ–¹æ³•ä¸ºdocument.querySelector()çš„ç®€åŒ–ã€‚</span>
<span class="token comment">// ç¬¬äºŒä¸ªå‚æ•°startNodeï¼Œè¯¥å‚æ•°æŒ‡å®šä»ä¸­æœç´¢å…ƒç´ çš„â€œå…ƒç´ â€æˆ–Nodeã€‚æ­¤å‚æ•°çš„é»˜è®¤å€¼ä¸ºdocument</span>

<span class="token comment">//  $$() - è¿”å›æ»¡è¶³æŒ‡å®šCSSè§„åˆ™çš„æ‰€æœ‰å…ƒç´ ï¼Œæ­¤æ–¹æ³•ä¸ºquerySelectorAll()çš„ç®€åŒ–ã€‚</span>
<span class="token comment">//  $x() - è¿”å›æ»¡è¶³æŒ‡å®šXPathçš„æ‰€æœ‰å…ƒç´ ã€‚</span>

<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'code'</span><span class="token punctuation">)</span> <span class="token comment">// Returns the first code element in the document.</span>
<span class="token function">$$</span><span class="token punctuation">(</span><span class="token string">'figure'</span><span class="token punctuation">)</span> <span class="token comment">// Returns an array of all figure elements in the document.</span>
<span class="token function">$x</span><span class="token punctuation">(</span><span class="token string">'html/body/p'</span><span class="token punctuation">)</span> <span class="token comment">// Returns an array of all paragraphs in the document body.</span>
</code></pre></div><ul><li><code>copy</code>å¤åˆ¶å˜é‡ï¼š</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>location <span class="token comment">// æ§åˆ¶å°è¾“å…¥locationæ˜¾ç¤ºç›¸åº”ä¿¡æ¯</span>
<span class="token function">copy</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span> <span class="token comment">// å³å¯å¤åˆ¶ï¼Œä¹‹ååœ¨å…¶ä»–åœ°æ–¹ç²˜è´´å³å¯~</span>
</code></pre></div><blockquote><p>è¯¥copyåŠŸèƒ½ä¸æ˜¯ç”±ECMAScriptå®šä¹‰çš„ï¼Œè€Œæ˜¯ç”±Chromeæä¾›çš„ã€‚ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œä½ å¯ä»¥å°†JavaScriptå˜é‡çš„å€¼å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚</p></blockquote> <ul><li><code>table</code>åˆ—è¡¨åŒ–ï¼š</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> users <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'nice'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'rose'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token keyword">undefined</span>
<span class="token function">table</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span> <span class="token comment">// è¡¨æ ¼åŒ–</span>
console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span>
</code></pre></div><ul><li>æ‰“å°DOMå¯¹è±¡èŠ‚ç‚¹ï¼š<code>console.dir()</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span> <span class="token comment">// æ‰“å°å‡ºçº¯æ ‡ç­¾</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span> <span class="token comment">// è¾“å‡ºDOMæ ‘å¯¹è±¡</span>
</code></pre></div><ul><li>ç»™consoleç¼–ç»„ï¼š<code>console.group()</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">'ç”¨æˆ·åˆ—è¡¨'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'name: å¼ ä¸‰'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'job: ğŸ¶å‰ç«¯'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å†…å±‚</span>
console<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token string">'åœ°å€'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Street: 123 è¡—'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'City: åŒ—äº¬'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'State: åœ¨èŒ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">groupEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç»“æŸå†…å±‚</span>
console<span class="token punctuation">.</span><span class="token function">groupEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç»“æŸå¤–å±‚</span>

</code></pre></div><ul><li>å˜é‡æ‰“å°ï¼š<code>%sã€%oã€%d</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">%</span>sï¼šå­—ç¬¦ä¸²
<span class="token operator">%</span>oï¼šå¯¹è±¡
<span class="token operator">%</span>dï¼šæ•°å­—æˆ–å°æ•°

<span class="token keyword">const</span> text <span class="token operator">=</span> <span class="token string">&quot;æ–‡æœ¬1&quot;</span><span class="token punctuation">;</span><span class="token keyword">const</span> obj<span class="token operator">=</span><span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">æ‰“å°</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>text<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>  <span class="token comment">// æ‰“å°æ–‡æœ¬1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰“å°==%s&quot;</span><span class="token punctuation">,</span> text<span class="token punctuation">)</span> <span class="token comment">// æ‰“å°==æ–‡æœ¬1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ‰“å°===%o'</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰“å°==={a: 1}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ‰“å°====%d'</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰“å°====3</span>
</code></pre></div><ul><li>å¯ä»¥ä½¿ç”¨<code>%c</code>æ ¼å¼ç¬¦ï¼Œæ¥ä¸ºæ§åˆ¶å°å¢åŠ æ ·å¼ï¼š</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'%cBlue! %cRed!'</span><span class="token punctuation">,</span> <span class="token string">'color: blue;'</span><span class="token punctuation">,</span> <span class="token string">'color: red;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;%cThis will be formatted with large, blue text&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;color: blue; font-size: x-large&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><ul><li><p>å¿«é€Ÿæ¸…ç©ºæ§åˆ¶å°å†å²ï¼š<code>clear()</code>æˆ–è€…<code>command + K</code></p></li> <li><p>ä¿ç•™ä¸Šä¸€ä¸ªé¡µé¢çš„consoleè®°å½•ï¼š<code>Console =&gt; å³ä¸Šè§’è®¾ç½®å›¾æ ‡ =&gt; å‹¾é€‰ã€Preserve logã€‘</code></p></li> <li><p>ä½¿ç”¨ <code>console.time()</code> å’Œ <code>console.timeEnd()</code> åˆ†æå¾ªç¯çš„æ€§èƒ½</p></li></ul> <blockquote><p>è°ƒç”¨<code>console.time()</code>å¼€å¯ä¸€ä¸ªè®¡æ—¶å™¨ï¼Œè°ƒç”¨ <code>console.timeEnd()</code>å…³é—­è®¡æ—¶å™¨ï¼Œå¹¶åœ¨ç»ˆç«¯è¾“å‡ºè®¡æ—¶å™¨æ¶ˆè€—çš„æ—¶é—´ã€‚è®¡æ—¶å™¨åœ¨åˆ†æå¾ªç¯è¿™æ ·çš„éå‡½æ•°å†…æ“ä½œçš„æ—¶å€™è¿˜æ˜¯è›®æœ‰ç”¨çš„ã€‚</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">&quot;While loop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">1000000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  i<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">&quot;While loop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">time</span><span class="token punctuation">(</span><span class="token string">&quot;For loop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// For Loop</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">timeEnd</span><span class="token punctuation">(</span><span class="token string">&quot;For loop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><ul><li>ä½¿ç”¨ <code>console.profile()</code> å’Œ <code>console.profileEnd()</code>åˆ†æç¨‹åºæ€§èƒ½</li></ul> <blockquote><p>åœ¨DevToolsçª—å£æ§åˆ¶å°ä¸­ï¼Œè°ƒç”¨ <code>console.profile()</code>å¼€å¯ä¸€ä¸ª<code>JavaScript CPU</code> åˆ†æå™¨.ç»“æŸåˆ†æå™¨ç›´æ¥è°ƒç”¨ <code>console.profileEnd()</code>; å…·ä½“çš„æ€§èƒ½åˆ†æä¼šåœ¨<code>Performance</code>åˆ†æå™¨é¢æ¿ä¸­å±•ç¤º~</p></blockquote> <ul><li>ç›‘å¬äº‹ä»¶ï¼š<code>monitorEvents()</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è¯¥æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦ç›‘å¬çš„å¯¹è±¡ã€‚å¦‚æœæœªæä¾›ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ‰€æœ‰äº‹ä»¶éƒ½ä¼šè¿”å›</span>
<span class="token function">monitorEvents</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">,</span> <span class="token string">'click'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç›‘å¬documentçš„ç‚¹å‡»äº‹ä»¶</span>
<span class="token function">unmonitorEvents</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span> <span class="token comment">// åœæ­¢ç›‘å¬äº‹ä»¶</span>
</code></pre></div><ul><li><p>è·å–æŒ‡å®šå¯¹è±¡çš„ç»‘å®šäº‹ä»¶: <code>getEventListeners(object)</code></p></li> <li><p>ç½®é¡¶ <code>JavaScript</code> è¡¨è¾¾å¼: æ‰“å¼€ Console é¢æ¿ =&gt; ç‚¹å‡»é¢æ¿ä¸Šæ–¹å°çœ¼ç›çš„å›¾æ ‡ï¼Œè¾“å…¥ Expressionï¼Œå°±å¯ä»¥ç½®é¡¶äº†ï¼›</p></li> <li><p>ä¿ç•™ log è®°å½•ï¼š<code>Console =&gt; å³ä¸Šè§’è®¾ç½®å›¾æ ‡ =&gt; å‹¾é€‰Preserve log</code>ï¼›åŒæ ·åœ¨ Network é¢æ¿ä¸‹ä¹Ÿæœ‰è¯¥é€‰é¡¹å¯ä¿ç•™ç½‘ç»œè®°å½•ï¼›</p></li></ul> <h2 id="element"><a href="#element" class="header-anchor">#</a> Element</h2> <ul><li><p>åœ¨â€œå…ƒç´ â€é¢æ¿ä¸­æ‹–æ”¾: Elementä¸­å•å‡»é€‰ä¸­NodeèŠ‚ç‚¹ï¼Œå¯æ‹–æ”¾æ”¹å˜å…¶åœ¨é¡µé¢ä¸­çš„ä½ç½®</p></li> <li><p>è°ƒè¯•å…ƒç´ ä¼ªç±»æ ·å¼ï¼šElement =&gt; é€‰ä¸­NodeèŠ‚ç‚¹ =&gt; Styles, ç‚¹å‡»<code>:hov</code>ï¼Œå‹¾é€‰éœ€è¦æ˜¾ç¤ºçš„ä¼ªç±»ï¼Œæœ‰<code>:hover, :active, :focus, ...</code>ï¼Œè¿™æ ·å°±å¯ä»¥è°ƒè¯•è¿™äº›ä¼ªç±»æ ·å¼äº†~</p></li> <li><p>éšè—å…ƒç´ å¿«æ·æ–¹å¼ï¼šé€‰ä¸­NodeèŠ‚ç‚¹ï¼ŒæŒ‰<code>H</code>é”®å³å¯ï¼›æ­¤æ“ä½œæ˜¯å°†<code>visibility: hidden !important;</code>æ ·å¼æ·»åŠ åˆ°ç›¸åº”çš„å…ƒç´ </p></li> <li><p>å¿«é€Ÿè·å–Domå…ƒç´ å¼•ç”¨ï¼šElement =&gt; é€‰ä¸­å…ƒç´  =&gt; é¼ æ ‡å³é”®ï¼Œ<code>Store as global variable</code>, ä¹‹åå°±ä¼šåœ¨æ§åˆ¶å°æ‰“å°é€‰ä¸­çš„dom</p></li> <li><p>å¼ºåˆ¶è§¦å‘å…ƒç´ çš„<code>hover</code>ç­‰çŠ¶æ€ï¼šElement =&gt; é€‰ä¸­å…ƒç´  =&gt; Force state =&gt; é€‰æ‹©éœ€è¦æ˜¾ç¤ºçš„çŠ¶æ€ï¼Œæœ‰ï¼š<code>:active, :hover, :focus</code>ç­‰çŠ¶æ€ï¼Œè¿™æ ·å°±å¯ä»¥çœ‹åˆ°æŸäº›å…ƒç´ hoverç­‰çŠ¶æ€æ—¶çš„æ ·å¼äº†~</p></li> <li><p>ç»™é€‰ä¸­å…ƒç´ å¿«é€Ÿæ·»åŠ ç±»åï¼šElement =&gt; é€‰ä¸­NodeèŠ‚ç‚¹ =&gt; Styles, ç‚¹å‡»<code>.cls</code>;</p></li> <li><p>æ˜¾ç¤ºå®Œæ•´çš„å¯è®¿é—®æ€§æ ‘è§†å›¾ï¼š</p> <ol><li>ç‚¹å‡»å³ä¸Šè§’è®¾ç½®å›¾æ ‡ =&gt; <code>Experiments</code> =&gt; <code>Enable the Full accessibility tree view in the Elements panel</code>;</li> <li>ä¹‹åé‡å¯DevTool, åœ¨<code>Elements</code>é¢æ¿ä¸­ç‚¹å‡»å³ä¸Šè§’çš„<code>æ— éšœç¢æŒ‰é’®</code>ï¼Œå³å¯å°†å…ƒç´ è§†å›¾æ¨¡å¼åˆ‡æ¢ä¸ºæ— éšœç¢æ ‘è§†å›¾</li></ol></li></ul> <h2 id="network"><a href="#network" class="header-anchor">#</a> Network</h2> <ul><li>é‡æ–°å‘é€ XHR è¯·æ±‚ï¼šæ‰“å¼€ç½‘ç»œé¢æ¿ã€Networkã€‘ =&gt;  å•å‡»ã€XHRã€‘æŒ‰é’®  =&gt; é€‰æ‹©ä½ è¦é‡æ–°å‘é€çš„XHRè¯·æ±‚  =&gt; <code>ã€Replay XHRã€‘</code></li></ul> <blockquote><p>å¦‚æœè¦ä¿®æ”¹å‚æ•°ï¼Œå¯ä»¥<code>ã€Copyã€‘ =&gt; ã€Copy as fetchã€‘</code>ï¼›ç„¶ååœ¨æ§åˆ¶å°ä¿®æ”¹å‚æ•°ï¼Œå›è½¦ç›´æ¥è¯·æ±‚ï¼›</p></blockquote> <ul><li>é˜»æ–­è¯·æ±‚: æ‰“å¼€ç½‘ç»œé¢æ¿ã€Networkã€‘ =&gt;  å•å‡»ã€XHRã€‘æŒ‰é’®  =&gt; é€‰æ‹©ä½ è¦é‡æ–°å‘é€çš„XHRè¯·æ±‚  =&gt; <code>ã€Block request URLã€‘</code>æˆ–<code>Block request domain</code></li></ul> <blockquote><p>å¯ä»¥é˜»æ–­è¯·æ±‚URLå’Œå½“å‰åŸŸåï¼Œé˜»æ–­ååˆ·æ–°é¡µé¢ï¼Œè¯¥æ¥å£å°±ä¼šé£˜çº¢; é€‰æ‹©ä¹‹åä¸‹æ–¹<code>Network request blocking</code>ä¼šæ˜¾ç¤º</p></blockquote> <ul><li>ä¿®æ”¹ç”¨æˆ·ä»£ç†: <code>command + shift + p</code>ï¼Œè¾“å…¥ï¼š<code>network conditions</code>, é€‰æ‹©å³å¯æ‰“å¼€ network conditions é¢æ¿ï¼Œå¯è¿›è¡Œ User Agent é…ç½®ï¼›</li></ul> <blockquote><p>ä¹Ÿå¯é€šè¿‡ç‚¹å‡»<code>Network</code>é¢æ¿ä¸Šæ–¹çš„ç½‘ç»œå›¾æ ‡ï¼Œå‘¼å‡ºè¯¥é¢æ¿~</p></blockquote> <ul><li><p>è‡ªå®šä¹‰<code>network</code>é€Ÿç‡: Networké¢æ¿ä¸Šæ–¹æœ‰ä¸€ä¸ªé»˜è®¤å€¼ä¸º<code>No throtting</code>ä¸‹æ‹‰é€‰æ‹©é¡¹ï¼Œè¿™é‡Œå¯è®¾ç½®ç½‘é€Ÿï¼Œæœ‰ï¼š<code>No throtting / Fast 3G / Slow 3G / Offline</code>ç­‰é€‰é¡¹ï¼Œè¿˜å¯ä»¥é€šè¿‡<code>add</code>è‡ªå®šä¹‰ç½‘é€Ÿä¸ºå¤šå°‘<code>kb/s</code>~</p></li> <li><p>å¿«é€Ÿå¤åˆ¶æ¥å£å±æ€§å€¼: ç‚¹å‡»æ¥å£è¿”å›æ•°æ®çš„æŸä¸€å­—æ®µï¼Œé€‰æ‹©<code>Copy property path</code>å¯å¤åˆ¶å±æ€§è·¯å¾„ï¼›<code>Copy value</code>å¯å¤åˆ¶å±æ€§å€¼ï¼›</p></li></ul> <h2 id="source"><a href="#source" class="header-anchor">#</a> Source</h2> <h3 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="header-anchor">#</a> è°ƒè¯•</h3> <p>ä»£ç åœ¨æŸä¸ªå¹³å°è¿è¡Œï¼ŒæŠŠè¿è¡Œæ—¶çš„çŠ¶æ€é€šè¿‡æŸç§æ–¹å¼æš´éœ²å‡ºæ¥ï¼Œä¼ é€’ç»™å¼€å‘å·¥å…·åš UI çš„å±•ç¤ºå’Œäº¤äº’ï¼Œè¾…åŠ©å¼€å‘è€…æ’æŸ¥é—®é¢˜ã€æ¢³ç†æµç¨‹ã€äº†è§£ä»£ç è¿è¡ŒçŠ¶æ€ç­‰ï¼Œè¿™ä¸ªå°±æ˜¯<strong>è°ƒè¯•</strong>ã€‚</p> <blockquote><p>é¦–å…ˆæœ¬åœ°å¯åŠ¨ä¸€ä¸ªé¡¹ç›®ï¼Œè¿™é‡Œä»¥ Vite é¡¹ç›®ä¸ºä¾‹ï¼›å¯ä»¥æœ¬åœ°ä»£ç æ·»åŠ <code>debugger</code>æ‰“æ–­ç‚¹ï¼Œä¹Ÿå¯ä»¥åœ¨æ§åˆ¶å°<code>Sources</code>å¯¹åº”æºç ä¸­ç‚¹å‡»æ·»åŠ æ–­ç‚¹ï¼Œç„¶ååˆ·æ–°é¡µé¢å°±å¯ä»¥è°ƒè¯•äº†ï¼Œä»£ç ä¼šåœ¨æ–­ç‚¹å¤„æ–­ä½ï¼š</p></blockquote> <img src="/blog/images/tool/tool-dev01.jpg" width="auto" class="zoom-custom-imgs"> <ul><li><p>å³è¾¹æ“ä½œæ åŒºåŸŸçš„æŒ‰é’®ä»å·¦åˆ°å³åˆ†åˆ«ï¼š</p> <ul><li><code>æ¢å¤æ‰§è¡Œ</code>ï¼šè·³è¿‡å½“å‰æ–­ç‚¹ï¼Œç›´æ¥æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ï¼ˆå¦‚æœæœ‰ï¼‰ï¼›</li> <li><code>å•æ­¥æ‰§è¡Œ</code>ï¼šä»å½“å‰æ–­ç‚¹å¼€å§‹ï¼Œä»£ç æŒ‰jsæ‰§è¡Œé¡ºåºä¸€æ­¥æ­¥æ‰§è¡Œï¼›</li> <li><code>è¿›å…¥å‡½æ•°è°ƒç”¨</code>ï¼šæ–¹ä¾¿è¿›å…¥ä¸€äº›ç¬¬ä¸‰æ–¹æºç è¿›è¡Œè°ƒè¯•ï¼›</li> <li><code>è·³å‡ºå‡½æ•°è°ƒç”¨</code>ï¼š</li> <li><code>xx</code></li> <li><code>è®©æ–­ç‚¹å¤±æ•ˆ</code>ï¼šé«˜äº®åè®¾ç½®çš„æ–­ç‚¹å°±ä¼šå¤±æ•ˆï¼›</li></ul></li> <li><p><code>Block</code>ä¼šæ˜¾ç¤ºå½“å‰ä»£ç ä½¿ç”¨å‡½æ•°å˜é‡ä¿¡æ¯ï¼Œ<code>Local</code>æ˜¾ç¤ºå·²ç»åŠ è½½çš„æœ¬åœ°å˜é‡ï¼Œ<code>Global</code>æ˜¯å…¨å±€å˜é‡ï¼›</p></li> <li><p><code>Call stack</code>æ˜¯è°ƒç”¨æ ˆä¿¡æ¯ï¼›</p></li></ul> <h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="header-anchor">#</a> å…¶ä»–</h3> <ul><li>å¿«é€Ÿè°ƒè¯•ä»£ç ç‰‡æ®µï¼šå·¦ä¸Šè§’ é€‰æ‹©<code>&gt;&gt;</code>å›¾æ ‡ï¼Œé€‰æ‹©<code>Snippets</code>ï¼Œ<code>+</code>æ·»åŠ New snippet, å³å¯è¾“å…¥ä»£ç ç‰‡æ®µè¿›è¡Œè°ƒè¯•ï¼š</li></ul> <img src="/blog/images/tool/tool-dev201.jpg" width="auto" class="zoom-custom-imgs"> <ul><li>Local Overrides æœ¬åœ°èµ„æºè¦†ç›–ï¼š</li></ul> <blockquote><p>ä½¿ç”¨æˆ‘ä»¬è‡ªå·±çš„æœ¬åœ°èµ„æºè¦†ç›–ç½‘é¡µæ‰€ä½¿ç”¨çš„èµ„æº; ä½¿ç”¨DevToolsçš„å·¥ä½œåŒºè®¾ç½®æŒä¹…åŒ–ï¼Œå°†æœ¬åœ°çš„æ–‡ä»¶å¤¹æ˜ å°„åˆ°ç½‘ç»œï¼Œåœ¨chromeå¼€å‘è€…åŠŸèƒ½é‡Œé¢å¯¹css æ ·å¼çš„ä¿®æ”¹ï¼Œéƒ½ä¼šç›´æ¥æ”¹åŠ¨æœ¬åœ°æ–‡ä»¶ï¼Œé¡µé¢é‡æ–°åŠ è½½ï¼Œä½¿ç”¨çš„èµ„æºä¹Ÿæ˜¯æœ¬åœ°èµ„æºï¼Œè¾¾åˆ°æŒä¹…åŒ–çš„æ•ˆæœã€‚</p></blockquote> <ol><li>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ä»¥åœ¨æœ¬åœ°æ·»åŠ æ›¿ä»£å†…å®¹ï¼›</li> <li><code>Sources</code> =&gt;  <code>Overrides</code> =&gt; <code>Enable local Overrides</code>, é€‰æ‹©æœ¬åœ°æ–‡ä»¶å¤¹ï¼›</li> <li>æ‰“å¼€<code>Elements</code>ï¼Œç¼–è¾‘æ ·å¼ï¼Œè‡ªåŠ¨ç”Ÿæˆæœ¬åœ°æ–‡ä»¶ï¼›</li> <li>è¿”å›<code>Sources</code>ï¼Œæ£€æŸ¥æ–‡ä»¶ï¼Œç¼–è¾‘æ›´æ”¹ã€‚</li></ol> <h2 id="performanceæ€§èƒ½åˆ†æ"><a href="#performanceæ€§èƒ½åˆ†æ" class="header-anchor">#</a> Performanceæ€§èƒ½åˆ†æ</h2> <blockquote><p>Performanceæ˜¯Googleæµè§ˆå™¨è‡ªå¸¦çš„é¡µé¢æ€§èƒ½æ’ä»¶ï¼Œå¯ä»¥è®°å½•ç«™ç‚¹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­çš„æ€§èƒ½æ•°æ®ï¼Œæœ‰äº†è¿™äº›æ€§èƒ½æ•°æ®ï¼Œæˆ‘ä»¬å°±å¯ä»¥å›æ”¾æ•´ä¸ªé¡µé¢çš„æ‰§è¡Œè¿‡ç¨‹ï¼Œè¿™æ ·å°±æ–¹ä¾¿æˆ‘ä»¬æ¥å®šä½å’Œè¯Šæ–­æ¯ä¸ªæ—¶é—´æ®µå†…é¡µé¢çš„è¿è¡Œæƒ…å†µï¼Œä»è€Œæœ‰æ•ˆå¸®åŠ©æˆ‘ä»¬æ‰¾å‡ºé¡µé¢çš„æ€§èƒ½ç“¶é¢ˆã€‚</p></blockquote> <h3 id="performanceé¢æ¿"><a href="#performanceé¢æ¿" class="header-anchor">#</a> Performanceé¢æ¿</h3> <blockquote><p>è¿™é‡Œä»¥<a href="https://juejin.cn/" target="_blank" rel="noopener noreferrer">æ˜é‡‘é¦–é¡µ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ä¸ºä¾‹åˆ†æä¸‹~</p></blockquote> <img src="/blog/images/tool/zhuawa-performance06.jpg" width="auto" class="zoom-custom-imgs"> <ul><li>å½•åˆ¶ï¼šç‚¹å‡»å¼€å§‹å½•åˆ¶ï¼›</li> <li>é‡åˆ¶ï¼šç‚¹å‡»é‡æ–°åŠ è½½é¡µé¢ï¼Œå¹¶å¼€å§‹å½•åˆ¶ï¼›</li> <li>æ¸…é™¤ï¼šæ¸…é™¤å½•åˆ¶è®°å½•</li> <li>ä¸Šä¼ /ä¸‹è½½ï¼šæ”¯æŒä¸Šä¼ æˆ–ä¸‹è½½recordæ–‡ä»¶ï¼Œä¸‹è½½å¯ä»¥æŠŠå½•åˆ¶ç”Ÿæˆçš„jsonæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ï¼›</li></ul> <blockquote><p>å½•åˆ¶æˆåŠŸåä¼šç”Ÿæˆå¦‚ä¸‹å½•åˆ¶åˆ†ææŠ¥å‘Šï¼š</p></blockquote> <img src="/blog/images/tool/zhuawa-performance07.jpeg" width="auto" class="zoom-custom-imgs"> <div class="custom-block tip"><p class="custom-block-title">é¢œè‰²åˆ’åˆ†</p> <ul><li>è“è‰²ï¼ˆLoadingï¼‰ï¼šç½‘ç»œé€šä¿¡å’ŒHTMLè§£æ</li> <li>é»„è‰²ï¼ˆScriptingï¼‰: Javascriptæ‰§è¡Œ</li> <li>ç´«è‰²ï¼ˆRenderingï¼‰: æ ·å¼è®¡ç®—å’Œå¸ƒå±€ï¼ˆé‡æ’ï¼‰</li> <li>ç»¿è‰²ï¼ˆPaintingï¼‰: æ ·å¼æ›´æ”¹ï¼ˆé‡ç»˜ï¼‰</li> <li>ç°è‰²ï¼ˆOtherï¼‰: å…¶ä»–äº‹ä»¶</li> <li>ç™½è‰²ï¼ˆIdleï¼‰: ç©ºé—²æ—¶é—´</li> <li>çº¢è‰²ï¼ˆLongTasksï¼‰: é•¿ä»»åŠ¡å‡ºç°</li></ul></div> <p><strong>æ¦‚è§ˆé¢æ¿</strong></p> <p>ç”±<strong>é¡µé¢å¸§é€Ÿ (FPS)</strong>ã€CPU èµ„æºæ¶ˆè€—ã€ç½‘ç»œè¯·æ±‚æµé‡ã€V8 å†…å­˜ä½¿ç”¨é‡ (å †å†…å­˜)å‡ é¡¹æŒ‡æ ‡æŒ‰ç…§æ—¶é—´é¡ºåºè®°å½•å˜åŒ–çš„é¢æ¿;</p> <ul><li><strong>æ—¶é—´çº¿</strong>ï¼šæ˜¾ç¤ºå½•åˆ¶æ—¶é•¿ï¼Œå¯ç¼©æ”¾èŒƒå›´ï¼›</li></ul> <blockquote><p>æ¦‚è§ˆé¢æ¿å’Œæ€§èƒ½é¢æ¿éƒ½æ˜¯ä¾èµ–äºæ—¶é—´çº¿çš„ï¼Œå‡å¦‚æˆ‘ä»¬å½•åˆ¶äº†10000æ¯«ç§’ï¼Œé‚£ä¹ˆå®ƒä»¬çš„æ—¶é—´çº¿å°±æ˜¯10000æ¯«ç§’~</p></blockquote> <ul><li><strong>çº¢ç‚¹</strong>ï¼šFPS å›¾è¡¨ä¸Šå‡ºç°äº†çº¢è‰²å—ï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºçº¢è‰²å—é™„è¿‘æ¸²æŸ“å‡ºä¸€å¸§æ‰€éœ€æ—¶é—´è¿‡ä¹…ï¼Œå¸§çš„æ¸²æŸ“æ—¶é—´è¿‡ä¹…ï¼Œå°±æœ‰å¯èƒ½å¯¼è‡´é¡µé¢å¡é¡¿ï¼Œä½ å¯ä»¥ç‚¹å‡»è¯¥çº¢è‰²å—ï¼Œé‚£å°±å¯ä»¥æŠŠæ—¶é—´çº¿èšç„¦åˆ°è¯¥é—®é¢˜åŒºåŸŸã€‚</li></ul> <blockquote><p>çº¢è‰²ä¸‹é¢çš„åŒºåŸŸï¼š<code>CPU èµ„æºæ¶ˆè€—ã€ç½‘ç»œè¯·æ±‚æµé‡ã€V8 å†…å­˜ä½¿ç”¨é‡ (å †å†…å­˜)</code></p></blockquote> <ul><li><strong>Memory</strong>: æ˜¾ç¤º<code>JS, Documents, GPU</code>ç­‰å†…å­˜ä½¿ç”¨æƒ…å†µï¼›</li></ul> <p><strong>æ€§èƒ½é¢æ¿</strong></p> <p>æ¦‚è§ˆé¢æ¿æ˜¯ç”¨æ¥å®šä½åˆ°å¯èƒ½å­˜åœ¨é—®é¢˜çš„æ—¶é—´èŠ‚ç‚¹ï¼Œå¦‚æœéœ€è¦æ›´è¿›ä¸€æ­¥çš„æ•°æ®ï¼Œæ¥åˆ†æå¯¼è‡´æ€§èƒ½é—®é¢˜çš„åŸå› ï¼Œéœ€è¦ä»æ€§èƒ½é¢æ¿å…¥æ‰‹ã€‚æˆ‘ä»¬ä»‹ç»ä¸€ä¸‹æœ‰å“ªäº›å¸¸è§æ€§èƒ½æŒ‡æ ‡é¡¹ï¼š</p> <ul><li><strong>NetworkæŒ‡æ ‡</strong>ï¼šè¯¥æŒ‡æ ‡å±•ç¤ºäº†é¡µé¢ä¸­çš„æ¯ä¸ªç½‘ç»œè¯·æ±‚æ‰€æ¶ˆè€—çš„æ—¶é•¿ï¼Œå¹¶ä»¥ç€‘å¸ƒæµçš„å½¢å¼å±•ç°ã€‚</li></ul> <blockquote><p>ç‚¹å‡»è¯·æ±‚ï¼Œä¸‹æ–¹è¯¦æƒ…é¢æ¿ä¼šå±•ç¤ºå¯¹åº”è¯·æ±‚ä¿¡æ¯ï¼šè“è‰²æ˜¯htmlè¯·æ±‚ã€ç´«è‰²æ˜¯cssè¯·æ±‚ã€é»„è‰²æ˜¯jsè¯·æ±‚ã€ç»¿è‰²æ˜¯å›¾ç‰‡~
<img src="/blog/images/tool/zhuawa-performance08.jpg" width="auto" class="zoom-custom-imgs"></p></blockquote> <ol><li>å·¦ä¾§çš„ä¸€æ¡çº¿ï¼šè¯·æ±‚å‡†å¤‡ï¼›</li> <li>å·¦ä¾§æµ…è‰²åŒºåŸŸï¼šå‘é€è¯·æ±‚ï¼Œå¹¶ç­‰å¾…æœåŠ¡å™¨è¿”å›ï¼›</li> <li>ä¸­é—´æ·±è‰²åŒºåŸŸï¼šè¿”å›å†…å®¹ï¼Œä¸‹è½½ï¼›</li> <li>æœ€å³ä¾§çš„ä¸€æ¡çº¿ï¼šçº¿ç¨‹ç©ºé—²æ—¶é—´ï¼›</li></ol> <ul><li><strong>Frames</strong>ï¼šå¸§ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯æµè§ˆå™¨ç”Ÿæˆæ¯å¸§çš„è®°å½•ï¼›ç‚¹å‡»å¯åœ¨ä¸‹æ–¹çœ‹åˆ°<code>CPU</code>æ¸²æŸ“æ—¶é•¿ç­‰ä¿¡æ¯~</li></ul> <blockquote><p>æˆ‘ä»¬çŸ¥é“é¡µé¢æ‰€å±•ç°å‡ºæ¥çš„ç”»é¢éƒ½æ˜¯ç”±æ¸²æŸ“è¿›ç¨‹ä¸€å¸§ä¸€å¸§æ¸²æŸ“å‡ºæ¥çš„ï¼Œå¸§è®°å½•å°±æ˜¯ç”¨æ¥è®°å½•æ¸²æŸ“è¿›ç¨‹ç”Ÿæˆæ‰€æœ‰å¸§ä¿¡æ¯ï¼ŒåŒ…æ‹¬äº†æ¸²æŸ“å‡ºæ¯å¸§çš„æ—¶é•¿ã€æ¯å¸§çš„å›¾å±‚æ„é€ ç­‰ä¿¡æ¯ï¼Œä½ å¯ä»¥ç‚¹å‡»å¯¹åº”çš„å¸§ï¼Œç„¶ååœ¨è¯¦ç»†ä¿¡æ¯é¢æ¿é‡Œé¢æŸ¥çœ‹å…·ä½“ä¿¡æ¯ã€‚</p></blockquote> <blockquote><p>ç™½è‰²ï¼šæ²¡æœ‰å˜åŒ–; ç»¿è‰²ï¼šæŒ‰é¢„æœŸåŠæ—¶æ¸²æŸ“; é»„è‰²ï¼šæµè§ˆå™¨å°½æœ€å¤§åŠªåŠ›åŠæ—¶å‘ˆç°è‡³å°‘ä¸€äº›è§†è§‰æ›´æ–°ï¼Œæ¯”å¦‚æ»šåŠ¨äº†ä½†ä¸»çº¿ç¨‹æ²¡ç©º; çº¢è‰²ï¼šæ‰å¸§ï¼Œæ— æ³•åœ¨åˆç†çš„æ—¶é—´å†…æ¸²æŸ“å¸§ï¼Œæ¯”å¦‚ï¼š<code>scrollï¼Œresize</code>äº‹ä»¶è§¦å‘è¿‡äºé¢‘ç¹,æµè§ˆå™¨æ¥ä¸åŠå¤„ç†å¯¼è‡´åœ¨ä¸‹ä¸€ä¸ªäº‹ä»¶è¢«è§¦å‘ä¹‹å‰æ— æ³•å®Œæˆ</p></blockquote> <ul><li><p><strong>Animations</strong>: åŠ¨ç”»æ¸²æŸ“åˆ†æï¼›</p></li> <li><p><strong>Timings</strong>ï¼šç”¨æ¥è®°å½•ä¸€äº›å…³é”®çš„æ—¶é—´èŠ‚ç‚¹åœ¨ä½•æ—¶äº§ç”Ÿçš„æ•°æ®ä¿¡æ¯ï¼Œåƒ<code>FPã€LCPã€DOMContentLoadedã€Onload</code> ç­‰äº‹ä»¶äº§ç”Ÿçš„æ—¶é—´ç‚¹ï¼Œå®ƒä»¬ä½“ç°åœ¨åœ¨å‡ æ¡ä¸åŒé¢œè‰²çš„ç«–çº¿ä¸Šã€‚</p></li> <li><p><strong>Main</strong>ï¼š <strong>è®°å½•æ¸²æŸ“ä¸»çº¿ç¨‹çš„ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ï¼Œå¤§éƒ¨åˆ†æµç¨‹ã€Jacvascirptæ‰§è¡Œã€V8åƒåœ¾å›æ”¶ã€å®šæ—¶è®¾ç½®å›è°ƒä»»åŠ¡ç­‰ç­‰ä¹Ÿæ˜¯å‡è·‘åœ¨ä¸»çº¿ç¨‹çš„ï¼Œ æ‰€ä»¥è¿™ä¹Ÿæ˜¯æˆ‘ä»¬æœ€éœ€è¦å…³æ³¨çš„ä¸€ä¸ªæŒ‡æ ‡</strong>ã€‚</p></li> <li><p><strong>Layout shifts</strong>: æ„å¤–å¸ƒå±€åç§»åˆ†æï¼Œè®°å½•é¡µé¢åŠ è½½è¿‡ç¨‹ä¸­å‘ç”Ÿçš„è§†è§‰ä¸ç¨³å®šæ€§</p></li> <li><p><strong>Compositor</strong>ï¼šè®°å½•äº†åˆæˆçº¿ç¨‹çš„ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹</p></li> <li><p><strong>GPU</strong>ï¼š è®°å½•äº† GPU è¿›ç¨‹ä¸»çº¿ç¨‹çš„ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹</p></li> <li><p><strong>Chrome_ChildIOThread</strong>ï¼š æ¸²æŸ“è¿›ç¨‹ç»´æŠ¤ç€ä¸€ä¸ªIOçº¿ç¨‹ï¼Œä¸»è¦ç”¨æ¥æ¥æ”¶ç”¨æˆ·è¾“å…¥äº‹ä»¶ã€ç½‘ç»œäº‹ä»¶ã€è®¾å¤‡ç›¸å…³ç­‰äº‹ä»¶ï¼Œå¦‚æœäº‹ä»¶éœ€è¦æ¸²æŸ“ä¸»çº¿ç¨‹æ¥å¤„ç†ï¼Œé‚£ä¹ˆ IO çº¿ç¨‹è¿˜ä¼šå°†è¿™äº›äº‹ä»¶è½¬å‘ç»™æ¸²æŸ“ä¸»çº¿ç¨‹ã€‚åœ¨æ€§èƒ½é¢æ¿ä¸Šï¼ŒChrome_ChildIOThread æŒ‡æ ‡å¯¹åº”çš„å°±æ˜¯ IO çº¿ç¨‹çš„ä»»åŠ¡è®°å½•ã€‚</p></li></ul> <p><strong>è¯¦æƒ…é¢æ¿</strong></p> <ul><li>Summary: ç»Ÿè®¡è¡¨ï¼Œå±•ç¤ºå½“å‰ä»»åŠ¡å…·ä½“ä¿¡æ¯ï¼›</li> <li>Bttom-Up: ä¼šå±•ç¤ºå½“å‰ä»»åŠ¡çš„æ‰€æœ‰æ´»åŠ¨ï¼ŒæŒ‰æ—¶é—´å€’åºæ’åˆ—ï¼›</li> <li>Call Tree: å½“å‰ä»»åŠ¡çš„æ‰€æœ‰å­ä»»åŠ¡ï¼›</li> <li>Event Log: äº‹ä»¶æ—¥å¿—ï¼Œæ´»åŠ¨åœ¨è®°å½•è¿‡ç¨‹ä¸­å…ˆåé¡ºåº</li></ul> <h3 id="mainæŒ‡æ ‡åˆ†æ"><a href="#mainæŒ‡æ ‡åˆ†æ" class="header-anchor">#</a> MainæŒ‡æ ‡åˆ†æ</h3> <blockquote><p>å…¶ä¸­ Main è¿™éƒ¨åˆ†å°±æ˜¯ç½‘é¡µçš„<strong>ä¸»çº¿ç¨‹</strong>ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œ Event Loop çš„éƒ¨åˆ†ï¼›è¿™å—åŒºåŸŸåŒ…å«äº†æ‰€æœ‰ task æ‰§è¡Œçš„æµç¨‹ï¼Œæ¯ä¸ª task çš„è°ƒç”¨æ ˆã€‚</p></blockquote> <p>Main æŒ‡æ ‡å°±è®°å½•æ¸²æŸ“ä¸»çº¿ä¸Šæ‰€æ‰§è¡Œçš„å…¨éƒ¨ä»»åŠ¡ï¼Œä»¥åŠæ¯ä¸ªä»»åŠ¡çš„è¯¦ç»†æ‰§è¡Œè¿‡ç¨‹ï¼Œæ‰€ä»¥äº†è§£ä»»åŠ¡å’Œè¿‡ç¨‹åœ¨Performanceé¢æ¿çš„ä½“ç°æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</p> <p>Event Loop å°±æ˜¯å¾ªç¯æ‰§è¡Œå®ä»»åŠ¡ã€‚æ¯ä¸ª Task éƒ½æœ‰è‡ªå·±çš„è°ƒç”¨æ ˆï¼Œå¯ä»¥çœ‹åˆ°å‡½æ•°çš„æ‰§è¡Œè·¯å¾„ï¼Œè€—æ—¶ç­‰ä¿¡æ¯ã€‚å›¾ä¸­å®½åº¦ä»£è¡¨äº†è€—æ—¶ï¼Œå¯ä»¥ç›´è§‚çš„é€šè¿‡å—çš„å®½çª„æ¥åˆ†ææ€§èƒ½ã€‚</p> <img src="/blog/images/tool/zhuawa-performance09.jpg" width="auto" class="zoom-custom-imgs"> <p>è§‚å¯Ÿä¸Šå›¾ï¼Œå›¾ä¸Šå‡ æ®µç°è‰²æ¨ªæ¡ï¼Œç°è‰²æ¨ªæ¡å°±å¯¹åº”äº†ä¸€ä¸ªä»»åŠ¡<code>Task</code>ï¼Œç°è‰²é•¿æ¡çš„é•¿åº¦å¯¹åº”äº†ä»»åŠ¡çš„æ‰§è¡Œæ—¶é•¿ã€‚æ¸²æŸ“ä¸»çº¿ç¨‹ä¸Šçš„ä»»åŠ¡éƒ½æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œç°çº¿ä¸‹é¢çš„æ¨ªæ¡å°±æ˜¯ä¸€ä¸ªä¸ª<strong>ä»»åŠ¡çš„è¿‡ç¨‹</strong>, åŒæ ·è¿™äº›æ¨ªæ¡çš„é•¿åº¦å°±ä»£è¡¨è¿™äº›è¿‡ç¨‹æ‰§è¡Œçš„æ—¶é•¿ã€‚</p> <blockquote><p>æˆ‘ä»¬å¯ä»¥æŠŠä»»åŠ¡çœ‹æˆæ˜¯ä¸€ä¸ª Task å‡½æ•°ï¼Œåœ¨æ‰§è¡Œ Task å‡½æ•°çš„è¿‡ç¨‹ä¸­ï¼Œå®ƒä¼šè°ƒç”¨ä¸€ç³»åˆ—çš„å­å‡½æ•°ï¼Œè¿™äº›å­å‡½æ•°å°±æ˜¯æˆ‘ä»¬æ‰€æåˆ°çš„è¿‡ç¨‹ã€‚</p></blockquote> <p>å±•ç¤ºçš„ä¿¡æ¯ä¸­å¾ˆå¤šç§é¢œè‰²ï¼Œè¿™äº›é¢œè‰²ä»£è¡¨ç€ä¸åŒçš„å«ä¹‰ï¼š<strong>ç°è‰²å°±ä»£è¡¨å®ä»»åŠ¡ task; è“è‰²çš„æ˜¯ html çš„ parseï¼Œæ©™è‰²çš„æ˜¯æµè§ˆå™¨å†…éƒ¨çš„ JS; ç´«è‰²æ˜¯æ ·å¼çš„ reflowã€repaintï¼Œç»¿è‰²çš„éƒ¨åˆ†å°±æ˜¯æ¸²æŸ“; å…¶ä½™çš„é¢œè‰²éƒ½æ˜¯ç”¨æˆ· JS çš„æ‰§è¡Œäº†</strong>~</p> <blockquote><p>å³ä¸Šè§’æœ‰çº¢è‰²ä¸‰è§’å½¢è¡¨ç¤ºè¯¥<code>Task</code>æ˜¯ä¸€ä¸ªé•¿ä»»åŠ¡(æ‰§è¡Œè¶…è¿‡<code>50ms</code>), é•¿ä»»åŠ¡è¿‡å¤šä¼šå¯¼è‡´é¡µé¢å‡ºç°å¡é¡¿~</p></blockquote> <blockquote><p>ä¸€èˆ¬ç½‘é¡µåŠ è½½çš„MainæŒ‡æ ‡éƒ½æ¯”è¾ƒå¤æ‚, è¿™é‡Œå†™ä¸€ä¸ªç®€å•çš„é¡µé¢åˆ†æä¸‹ï¼š</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>MainæŒ‡æ ‡åˆ†æ<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
        <span class="token punctuation">.</span>area <span class="token punctuation">{</span>
            <span class="token literal-property property">border</span><span class="token operator">:</span> 2px black solid<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token punctuation">.</span>block <span class="token punctuation">{</span>
            background<span class="token operator">-</span>color<span class="token operator">:</span> green<span class="token punctuation">;</span>
            <span class="token literal-property property">height</span><span class="token operator">:</span> 100px<span class="token punctuation">;</span>
            <span class="token literal-property property">margin</span><span class="token operator">:</span> 10px<span class="token punctuation">;</span>
            <span class="token literal-property property">width</span><span class="token operator">:</span> 100px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;area&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;block&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>br<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>script<span class="token operator">&gt;</span> 
        <span class="token keyword">function</span> <span class="token function">setBlockArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            <span class="token keyword">var</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            el<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">,</span> <span class="token string">'area'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'&lt;div class=&quot;block&quot;&gt;&lt;/div&gt;'</span><span class="token punctuation">;</span>
            document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
        <span class="token function">setBlockArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span>
<span class="token punctuation">{</span><span class="token comment">/* 
é¦–å…ˆé¡µé¢æ¸²æŸ“div;
ç„¶åæ‰§è¡ŒsetBlockAreaæ–¹æ³•ï¼Œå†æ’å…¥ä¸€ä¸ªdiv
 */</span><span class="token punctuation">}</span>
</code></pre></div><blockquote><p>æœ¬åœ°ç›´æ¥åœ¨æµè§ˆå™¨æ‰“å¼€ä¸Šé¢çš„<code>html</code>æ–‡ä»¶åï¼Œæ‰“å¼€æ§åˆ¶å°<code>Performance</code>ï¼Œç‚¹å‡»<code>é‡åˆ¶</code>å½•åˆ¶é¡µé¢é‡æ–°åŠ è½½æµç¨‹ï¼ŒæŸ¥çœ‹MainæŒ‡æ ‡ä¸‹çš„åˆ†æï¼š</p></blockquote> <img src="/blog/images/tool/zhuawa-performance10.jpg" width="auto" class="zoom-custom-imgs"> <p>å¯ä»¥ç‚¹å‡»ä»»æ„è„šæœ¬æ´»åŠ¨æŸ¥çœ‹ï¼Œ<code>anonymous</code>ä»£è¡¨åŒ¿åå‡½æ•°ï¼Œ<code>Summary</code>é¢æ¿ä¸­ä¼šæ˜¾ç¤ºè€—æ—¶æƒ…å†µå’Œå‡½æ•°è°ƒç”¨çš„æ¥æº;</p> <p>æŒ‰è®°å½•æœŸé—´å‘ç”Ÿçš„é¡ºåºæŸ¥çœ‹æ´»åŠ¨ï¼ŒåŒ…æ‹¬åŠ è½½ã€è„šæœ¬ã€æ¸²æŸ“ã€ç»˜åˆ¶ç­‰ï¼Œä¹Ÿæä¾›äº†äº‹ä»¶åå’Œè€—æ—¶æ—¶é•¿æœç´¢è¿‡æ»¤ã€‚</p> <p><code>Call Tree</code>ï¼šè°ƒç”¨æ ‘ï¼Œé¡ºåºæ˜¯ä»ä¸Šåˆ°ä¸‹ï¼Œå’Œ<code>Buttom-Up</code>é¡ºåºç›¸å; bottom-up æ˜¯åˆ—è¡¨å±•ç¤ºï¼Œ call tree æ˜¯æ ‘å½¢å±•ç¤ºï¼›</p> <p><code>SelfTime</code>æŒ‡çš„å½“å‰å‡½æ•°æ‰§è¡Œæ—¶é—´ï¼Œä¸åŒ…æ‹¬å­å‡½æ•°æ‰§è¡Œæ—¶é—´ï¼Œç™¾åˆ†æ¯”æ˜¯å½“å‰æ—¶é—´é™¤ä»¥æ‰€æœ‰<code>SelfTime</code>æ—¶é—´ä¹‹å’Œã€‚</p> <p><code>TotalTime</code>æŒ‡çš„<code>SelfTime</code>å’Œå­å‡½æ•°çš„<code>TotalTime</code>ä¹‹å’Œï¼Œç™¾åˆ†æ¯”æ˜¯å½“å‰æ—¶é—´é™¤ä»¥é¦–ä¸ªå‡½æ•°çš„<code>TotalTime</code>ã€‚</p> <p><code>Activity</code>åˆ—ä¸­çš„é¡¶çº§é¡¹ç›®ï¼Œä¾‹å¦‚<code>Eventã€Paint</code>å’Œ<code>Composite Layers</code>æ˜¯æ ¹æ´»åŠ¨ï¼ŒåµŒå¥—è¡¨ç¤ºè°ƒç”¨å †æ ˆã€‚</p> <p><code>Start Time</code>è¡¨ç¤ºè¯¥æ´»åŠ¨å¼€å§‹çš„æ—¶é—´ç‚¹ï¼Œç›¸å¯¹äºè®°å½•çš„å¼€å§‹æ—¶é—´ã€‚æ¯”å¦‚103.6msï¼Œè¡¨ç¤ºæ´»åŠ¨åœ¨å½•åˆ¶å¼€å§‹å103.6æ¯«ç§’å¼€å§‹ã€‚</p> <ul><li><strong>ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªTaské˜¶æ®µï¼š</strong></li></ul> <ol><li>å¯¼èˆªé˜¶æ®µï¼š</li> <li>è§£æHTMLæ•°æ®é˜¶æ®µï¼ˆDOMè·ŸCSSï¼‰ï¼š</li> <li>ç»˜åˆ¶é˜¶æ®µ</li></ol> <h4 id="å¯¼èˆªé˜¶æ®µ"><a href="#å¯¼èˆªé˜¶æ®µ" class="header-anchor">#</a> å¯¼èˆªé˜¶æ®µ</h4> <blockquote><p>ç‚¹å‡»æ¯ä¸ªTaskï¼Œå‘ç°ä¸‹é¢éƒ½ä¼šæ‰§è¡Œä¸€äº›äº‹ä»¶ï¼Œé¦–å…ˆç‚¹å‡»ç¬¬ä¸€ä¸ªå¯¼èˆªTaskå¹¶æ”¾å¤§ï¼š</p></blockquote> <img src="/blog/images/tool/zhuawa-performance12.jpg" width="auto" class="zoom-custom-imgs"> <p>ä¼šåœ¨ä¸‹æ–¹è¯¦ç»†é¢æ¿çš„<code>Event Log</code>çœ‹åˆ°å…·ä½“çš„æ´»åŠ¨ï¼Œä¾æ¬¡æ‰§è¡Œ<code>pagehide &gt; visibilitychange &gt; webkitvisibilitychange &gt; unload &gt; unloadEventEnd &gt; Send request &gt; Receive response &gt; ...</code>ï¼š</p> <ol><li>é¦–å…ˆæ˜¯è§¦å‘<code>pagehide</code>äº‹ä»¶ï¼Œä¸Šä¸€ä¸ªé¡µé¢éšè—ï¼›ä¹‹åå¸è½½ä¸Šä¸€ä¸ªé¡µé¢ï¼›</li> <li>é¡µé¢å¸è½½å®Œæˆåå‘èµ·è¯·æ±‚ï¼Œæ¥å—å“åº”ä½“ï¼Œæ ‡å¿—å¯¼èˆªç»“æŸï¼ŒåŒæ—¶å¼€å§‹ä¸‹è½½HTMLï¼›</li> <li>æ¥ç€æ¥æ”¶è¿”å›çš„htmlæ–‡æ¡£ï¼ˆRecieve dataï¼‰ï¼›</li></ol> <h4 id="è§£æhtmlæ•°æ®é˜¶æ®µ"><a href="#è§£æhtmlæ•°æ®é˜¶æ®µ" class="header-anchor">#</a> è§£æHTMLæ•°æ®é˜¶æ®µ</h4> <blockquote><p>ç‚¹å‡»ç¬¬äºŒä¸ªTaskï¼Œå‘ç°è¿™ä¸€æ­¥ä¸»è¦æ˜¯è§£ææ¥æ”¶çš„HTMLæ–‡æ¡£~</p></blockquote> <img src="/blog/images/tool/zhuawa-performance13.jpg" width="auto" class="zoom-custom-imgs"> <p>åœ¨è¿™ä¸€æ­¥é¦–å…ˆæ‰§è¡Œ<code>Parse HTML</code>æ–¹æ³•ï¼›åœ¨è¯¥æ–¹æ³•é‡Œä¼šæ‰§è¡Œ<code>Evaluate script</code>æµç¨‹ç¼–è¯‘JSä»£ç ï¼›æ¥ç€æ‰§è¡Œ<code>setBlockArea</code>,ç„¶åå†æ¬¡æ‰§è¡Œ<code>Parse HTML</code>...</p> <p>ä¸Šå›¾ä¸­çš„<code>DCL</code>æ˜¯<code>DOMContentLoaded Event</code>, <code>L</code>æ˜¯<code>Onload event</code>~</p> <h4 id="ç»˜åˆ¶é˜¶æ®µ"><a href="#ç»˜åˆ¶é˜¶æ®µ" class="header-anchor">#</a> ç»˜åˆ¶é˜¶æ®µ</h4> <blockquote><p>DOMç”Ÿæˆåè¿›å…¥ä¸‹ä¸€ä¸ªä»»åŠ¡: ç»˜åˆ¶é˜¶æ®µï¼š</p></blockquote> <img src="/blog/images/tool/zhuawa-performance14.jpg" width="auto" class="zoom-custom-imgs"> <ul><li>Recalculate styleï¼šæ ·å¼è®¡ç®—ï¼›åœ¨<code>DCL</code>äº‹ä»¶åæ‰§è¡Œ~</li></ul> <p>ä¹‹ååœ¨<code>Onload event</code>äº‹ä»¶åæ‰§è¡Œç»˜åˆ¶æ“ä½œï¼š</p> <ul><li>Layout: å¸ƒå±€</li> <li>Pre-paint: é¢„å¤‡ç»˜åˆ¶</li> <li>Paint: ç»˜åˆ¶</li> <li>Layerise</li></ul> <blockquote><p>Paintä¼šåˆ‡åˆ†æˆå¾ˆå¤šç»˜åˆ¶å‘½ä»¤ï¼ŒLayeriseä¼šæŠŠç»˜åˆ¶å‘½ä»¤ç»™åˆ°åˆæˆçº¿ç¨‹å»ç»˜åˆ¶ï¼Œåˆæˆçº¿ç¨‹ä¼šåˆ©ç”¨GPUæ¥æ‰§è¡Œç»˜åˆ¶å‘½ä»¤ï¼›</p></blockquote> <p><strong>å®Œæˆé˜¶æ®µ</strong></p> <p>ç»˜åˆ¶å®Œæˆåï¼Œä¼šæ‰§è¡Œ<code>DOMContentLoaded</code>äº‹ä»¶ï¼Œæ¥ç€æ‰§è¡Œï¼š<code>domCompleteã€readystatechangeã€loadEventStartã€loadã€loadEventEndã€pageshow</code>è¿™äº›äº‹ä»¶~</p> <ul><li><strong>æ€»ç»“å¦‚ä¸‹å›¾ï¼š</strong></li></ul> <img src="/blog/images/tool/zhuawa-performance11.png" width="auto" class="zoom-custom-imgs"> <h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="header-anchor">#</a> æ€»ç»“</h3> <ol><li><p>é€šè¿‡ Networkåˆ†æç½‘ç»œè¯·æ±‚æ—¶é•¿ï¼Œçœ‹ä¸‹æ˜¯å¦æœ‰ä¼˜åŒ–ç©ºé—´ï¼›</p></li> <li><p>é€šè¿‡<code>MainæŒ‡æ ‡</code>ä¸‹æ¯ä¸ª<code>Task</code>çš„<code>Event Log</code>ï¼Œåˆ†ææ¯ä¸ªä»»åŠ¡è¯¦ç»†è¿‡ç¨‹ï¼Œå­ä»»åŠ¡æƒ…å†µï¼›</p></li> <li><p>ç½‘é¡µæ¸²æŸ“æ‰§è¡Œé¡ºåºï¼š<code>rAF(requestAnimationFrame)å›è°ƒ =&gt; å›æµé‡ç»˜(reflowã€repaint) =&gt; æ¸²æŸ“</code>ï¼Œæ„æˆä¸€ä¸ªå®ä»»åŠ¡ï¼Œæ¯ <code>16.7 ms</code>ï¼ˆä¸åˆ·æ–°ç‡æœ‰å…³ï¼‰ æ‰§è¡Œä¸€æ¬¡;</p></li></ol> <blockquote><p>åœ¨ Performance ä¸­å®½åº¦ä»£è¡¨æ—¶é—´ï¼Œè¶…è¿‡ <code>50ms</code> å°±è¢«è®¤ä¸ºæ˜¯ <code>Long Task</code>ï¼Œä¼šè¢«æ ‡çº¢ã€‚å› ä¸ºå¦‚æœ <code>16.7ms</code> æ¸²æŸ“ä¸€å¸§ï¼Œé‚£ 50ms å°±è·¨äº† 3ã€4 å¸§äº†; æˆ‘ä»¬åšæ€§èƒ½åˆ†æï¼Œå°±æ˜¯è¦æ‰¾åˆ°è¿™äº› Long Taskï¼Œç„¶åä¼˜åŒ–æ‰å®ƒã€‚</p></blockquote> <ol start="4"><li><p>Performance å¯ä»¥çœ‹åˆ°ä»£ç æ‰§è¡Œå…¨è²Œï¼Œè€Œæ–­ç‚¹è°ƒè¯•çš„è°ƒç”¨æ ˆåªèƒ½çœ‹åˆ°æŸä¸€æ¡æµç¨‹ã€‚æ‰€ä»¥è°ƒè¯•ä»£ç çš„æ—¶å€™å¯ä»¥ Performance å’Œ Debugger ç»“åˆæ¥çœ‹ã€‚</p></li> <li><p>å› ä¸ºæ¸²æŸ“å’Œ JS æ‰§è¡Œéƒ½åœ¨ä¸»çº¿ç¨‹ï¼Œåœ¨ä¸€ä¸ª Event Loop ä¸­ï¼Œä¼šç›¸äº’é˜»å¡ï¼Œå¦‚æœ JS æœ‰é•¿æ—¶é—´æ‰§è¡Œçš„ Taskï¼Œå°±ä¼šé˜»å¡æ¸²æŸ“ï¼Œå¯¼è‡´é¡µé¢å¡é¡¿ã€‚æ‰€ä»¥ï¼Œæ€§èƒ½åˆ†æä¸»è¦çš„ç›®çš„æ˜¯æ‰¾åˆ° <code>long task</code>ï¼Œä¹‹åæ¶ˆé™¤å®ƒã€‚</p></li></ol> <h2 id="renderingé…ç½®"><a href="#renderingé…ç½®" class="header-anchor">#</a> Renderingé…ç½®</h2> <ol><li><code>cmd + shift + P</code>, è¾“å…¥<code>rendering</code>ï¼Œé€‰æ‹©<code>Show Rendering</code>ï¼Œä¼šåœ¨ä¸‹æ–¹æ‰“å¼€<code>Rendering</code>é¢æ¿ï¼›é‡Œé¢å¯ä»¥å‹¾é€‰ä¸€äº›é€‰é¡¹ï¼š</li> <li>å³ä¸Šè§’<code>...</code>å›¾æ ‡ =&gt; <code>More tools</code> =&gt; <code>Rendering</code></li></ol> <ul><li><p><code>Paint Flashing</code>(ç»˜ç”»é—ªçƒ): é¡µé¢ä¸­éœ€è¦é‡ç»˜çš„åŒºåŸŸä¼šçªæ˜¾æˆç»¿è‰²</p></li> <li><p><code>Layer Shif Regions</code>(å±‚ç§»ä½åŒºåŸŸ): é¡µé¢ä¸­éœ€è¦é‡æ’çš„åŒºåŸŸä¼šçªæ˜¾æˆè“è‰²</p></li> <li><p><code>Scrolling Performance Issues</code>(æ»šåŠ¨æ€§èƒ½é—®é¢˜): é¡µé¢ä¸­å‡æ…¢æ»šåŠ¨é€Ÿåº¦çš„å…ƒç´ ä¼šçªæ˜¾æˆè“ç»¿è‰²ï¼ŒåŒ…æ‹¬è§¦æ‘¸æ»šè½®äº‹ä»¶å¤„ç†ç¨‹åºå’Œå…¶ä»–ä¸»çº¿ç¨‹æ»šåŠ¨æƒ…å†µ</p></li> <li><p><code>Core Web Vitals</code>(æ ¸å¿ƒç½‘ç»œç”Ÿå‘½åŠ›): å‹¾é€‰ä¹‹åå³ä¸Šè§’é¢æ¿ä¸­èƒ½å¤Ÿçœ‹åˆ°å½“å‰ç½‘ç«™çš„ä¸‰å¤§æ ¸å¿ƒæŒ‡æ ‡æ‰€æ¶ˆè€—çš„æ—¶é—´ï¼š</p> <ol><li><code>LCP</code> (Largest Contentful Paint) æ˜¾ç¤ºæœ€å¤§å†…å®¹å…ƒç´ æ‰€éœ€çš„æ—¶é—´ï¼Œè¡¡é‡ç½‘ç«™çš„è½½å…¥æ•ˆç‡</li> <li><code>FID</code> (First Input Delay) é¦–æ¬¡è¾“å…¥å»¶è¿Ÿæ—¶é—´ï¼Œè¡¡é‡ç½‘ç«™äº’åŠ¨æ€§</li> <li><code>CLS</code> (Cumulative Layout Shift) ç´¯è®¡ç‰ˆé¢é…ç½®è½¬ç§»ï¼Œè¡¡é‡ç½‘é¡µç¨³å®šæ€§</li></ol></li></ul> <blockquote><p>é‚£æˆ‘ä»¬æ‹¿åˆ°è¿™äº›æŒ‡æ ‡ï¼Œå†ç»“åˆæµè§ˆå™¨ç›¸å…³æ ‡å‡†å°±èƒ½æœ‰ç›®çš„æ€§çš„åšæ€§èƒ½ä¼˜åŒ–</p></blockquote> <h2 id="é¡µé¢å›¾å±‚layers"><a href="#é¡µé¢å›¾å±‚layers" class="header-anchor">#</a> é¡µé¢å›¾å±‚Layers</h2> <p><code>cmd + shift + P</code>, è¾“å…¥<code>layer</code>ï¼Œé€‰æ‹©<code>Show layers</code>ï¼Œä¼šæ‰“å¼€<code>Layers</code>é¢æ¿:</p> <img src="/blog/images/tool/tool-dev202.jpg" width="auto" class="zoom-custom-imgs"> <p>å·¦è¾¹ä¼šæ˜¾ç¤ºé¡µé¢domå›¾å±‚ä¿¡æ¯ï¼Œå³è¾¹ä¼šæ˜¾ç¤ºå›¾å±‚ç»“æ„ï¼Œæ»šåŠ¨é¡µé¢ï¼Œå›¾å±‚ä¼šåŠ¨æ€æ›´æ–°; ä¸‹æ–¹<code>Details</code>ä¼šæ˜¾ç¤ºå¯¹åº”å›¾å±‚ä¿¡æ¯~</p> <p><code>Slow scroll rects</code>çš„æ„æ€æ˜¯æ…¢é€Ÿç§»åŠ¨çŸ©å½¢ï¼Œå…¶å®å°±æ˜¯å¯¹åº”ä¸Šé¢<code>Rendering</code>ä¸­çš„ç¬¬3ç‚¹ï¼Œå½±å“é¡µé¢æ»šåŠ¨çš„å…ƒç´ ã€‚</p> <blockquote><p>æœ‰æ—¶å€™åœ¨å†™é¡µé¢çš„æ—¶å€™ï¼Œé¡µé¢å‡ºç°æ¨ªå‘æ»šåŠ¨æ¡åˆæ— æ³•å®šä½åˆ°å“ªä¸ªå­é›†å…ƒç´ å®½åº¦è¶…å‡ºäº†ï¼Œè¿™æ—¶å€™å°±å¯ä»¥æ‰“å¼€Layersé¢æ¿æŸ¥çœ‹äº†ï¼Œèƒ½å¿«é€Ÿå®šä½æˆ‘ä»¬çš„cssé—®é¢˜ã€‚</p></blockquote> <h2 id="memory"><a href="#memory" class="header-anchor">#</a> Memory</h2> <ul><li><p>æµ‹è¯•å½“å‰å†…å­˜: <code>Memory</code> =&gt; ç‚¹å‡»<code>Heap snapshot</code>ï¼Œå†ç‚¹å‡»å·¦ä¸Šè§’åœ†åœˆï¼Œè·å–å½“å‰å¿«ç…§; å¯ä»¥çœ‹åˆ°å½“å‰å†…å­˜å ç”¨æƒ…å†µ</p></li> <li><p>æµ‹è¯•å†…å­˜æ³„æ¼: <code>Allocation instrumentation on timeline</code>ï¼Œå†ç‚¹å‡»å·¦ä¸Šè§’åœ†åœˆï¼Œå¼€å§‹è®°å½•å†…å­˜æƒ…å†µ</p></li></ul> <blockquote><p>å¦‚æœå†…å­˜æ³„æ¼ä¼šçœ‹åˆ°å†…å­˜ä¸€ç›´å¢åŠ ï¼Œå¯ä»¥æŸ¥çœ‹å…·ä½“å“ªä¸ªå˜é‡é€ æˆçš„å†…å­˜æ³„éœ²ã€‚</p></blockquote> <ul><li>performanceæŸ¥çœ‹å†…å­˜æ³„éœ²ï¼š <code>Performance</code>, å‹¾é€‰<code>Menory</code>ï¼Œå†å»å½•åˆ¶å³å¯; å¦‚æœå†…å­˜ä¸€ç›´åœ¨å¢åŠ ï¼Œæ²¡æœ‰å¹³ç¨³æˆä¸€æ¡ç›´çº¿å°±è¯´æ˜æœ‰æ³„éœ²äº†ã€‚</li></ul> <h2 id="lighthouse"><a href="#lighthouse" class="header-anchor">#</a> Lighthouse</h2> <blockquote><p>å¾…è¡¥å……...</p></blockquote> <h2 id="æˆªå›¾"><a href="#æˆªå›¾" class="header-anchor">#</a> æˆªå›¾</h2> <ol><li>æ‰“å¼€æ§åˆ¶å° =&gt; ã€...ã€‘ =&gt; ã€Run commandã€‘:</li></ol> <blockquote><p>å¿«é”®é”®ï¼š<code>command + shift + P</code></p></blockquote> <img src="/blog/images/tool/devtool01.jpg" width="auto" class="zoom-custom-imgs"> <ol start="2"><li>è¾“å…¥å…³é”®è¯<code>screen</code>, å¯çœ‹åˆ°æœ‰å››ç§æˆªå±æ–¹å¼~</li></ol> <img src="/blog/images/tool/devtool02.jpg" width="auto" class="zoom-custom-imgs"> <ul><li>Capture area screenshot</li></ul> <blockquote><p>åŒºåŸŸæˆªå±ï¼šé€‰æ‹©ä¹‹åï¼Œé¼ æ ‡ä¼šå˜æˆåå­—æ¶ï¼Œä¹‹åé¼ æ ‡å·¦é”®é€‰ä¸­ä¸€ä¸ªåŒºåŸŸåï¼Œæ¾å¼€é¼ æ ‡å°±ä¼šè‡ªåŠ¨æˆªå–æ‰€é€‰åŒºåŸŸ~</p></blockquote> <ul><li>Capture full size screenshot</li></ul> <blockquote><p>å…¨å°ºå¯¸æˆªå±ï¼šé€‰æ‹©ä¹‹åä¼šæˆªå–é¡µé¢å…¨éƒ¨å†…å®¹ï¼Œé€‚åˆæœ‰æ»šåŠ¨æ¡é¡µé¢çš„æˆªå±~</p></blockquote> <ul><li>Capture node screenshot</li></ul> <blockquote><p>nodeèŠ‚ç‚¹æˆªå±</p></blockquote> <ol><li>æ‰“å¼€æ§åˆ¶å°åï¼Œå…ˆé€‰ä¸­éœ€è¦æˆªå–çš„nodeèŠ‚ç‚¹ï¼š</li></ol> <img src="/blog/images/tool/devtool03.jpg" width="auto" class="zoom-custom-imgs"> <ol start="2"><li>ç„¶åç‚¹å‡»ã€ Capture node screenshotã€‘ å³å¯æˆªå–è¯¥nodeèŠ‚ç‚¹~</li></ol> <ul><li>Capture screenshot</li></ul> <blockquote><p>ç›´æ¥æˆªå–é¡µé¢å¯è§†åŒºåŸŸéƒ¨åˆ†å†…å®¹~</p></blockquote> <h2 id="å…¶ä»–æŠ€å·§"><a href="#å…¶ä»–æŠ€å·§" class="header-anchor">#</a> å…¶ä»–æŠ€å·§</h2> <ul><li><p>è·å–å›¾ç‰‡çš„base64åœ°å€ï¼š<code>Network =&gt; Img =&gt; é€‰ä¸­è¯·æ±‚ =&gt; Preview =&gt; åŒå‡»å›¾ç‰‡ =&gt; ã€Copy image as data URLã€‘</code></p></li> <li><p>é¢œè‰²é€‰æ‹©å™¨ï¼š<code>Element =&gt; é€‰æ‹©æœ‰é¢œè‰²æ ·å¼çš„Dom =&gt; Styles</code>, åœ¨é¢œè‰²æ ·å¼ä¸Šç‚¹å‡»å³å¯å¼¹å‡ºé¢œè‰²é€‰æ‹©å™¨~</p></li></ul> <blockquote><p>é¢œè‰²é€‰æ‹©å™¨å…·æœ‰å„ç§åŠŸèƒ½ï¼Œä¾‹å¦‚: è‰²è°ƒæ§åˆ¶ã€ä½¿ç”¨å¸ç®¡ä»é¡µé¢å…ƒç´ ä¸­é€‰æ‹©é¢œè‰²ã€åˆ‡æ¢è°ƒè‰²æ¿ã€å¯ä»¥åœ¨å½“å‰é¢œè‰²çš„ RGBAã€HSLA å’Œåå…­è¿›åˆ¶è¡¨ç¤ºä¹‹é—´åˆ‡æ¢ã€‚ã€‚ã€‚</p></blockquote> <ul><li>æ£€æŸ¥css/jsçš„ä½¿ç”¨èŒƒå›´: ç‚¹å‡»å³ä¸Šè§’ã€...ã€‘ =&gt; <code>More tools</code> =&gt; <code>Coverage</code> =&gt; ç‚¹å‡»åˆ·æ–°æŒ‰é’®å¼€å§‹é‡æ–°åŠ è½½é¡µé¢ï¼Œä»¥æµ‹è¯•é¡µé¢çš„ä»£ç è¦†ç›–ç‡ï¼›</li></ul> <blockquote><p>å¯ä»¥åœ¨ <code>Coverage</code> é¢æ¿æŸ¥çœ‹é¡µé¢åŠ è½½æ—¶jså’Œcssæœªä½¿ç”¨çš„å¤§å°å’Œç™¾åˆ†æ¯”ï¼Œä»è€Œæ£€æŸ¥å‡ºé¡µé¢ä¸­æ²¡æœ‰ä½¿ç”¨çš„ CSS å’Œ JavaScriptï¼Œä¼˜åŒ–ä»£ç ~</p></blockquote> <ul><li>è°ƒè¯•åŠ¨ç”»ï¼šå³ä¸Šè§’ã€...ã€‘ =&gt; More tools =&gt; Animations</li></ul> <blockquote><p>Chrome DevTools æä¾›äº†æ£€æŸ¥å’Œä¿®æ”¹åŠ¨ç”»çš„åŠŸèƒ½ã€‚å®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ’­æ”¾åŠ¨ç”»ã€ä¿®æ”¹åŠ¨ç”»æ—¶é—´å¹¶åˆ†æç‰¹å®šæ—¶é—´èŒƒå›´å†…çš„è§†å›¾ã€‚</p></blockquote> <ul><li><p>é€‰æ‹©DevToolsè¯­è¨€ï¼š<code>å³ä¸Šè§’è®¾ç½®å›¾æ ‡ =&gt; Preferences =&gt; Language</code>, å¯é€‰æ‹©ä¸åŒçš„è¯­è¨€ï¼›</p></li> <li><p>é€‰æ‹©ç•Œé¢ä¸»é¢˜ï¼š</p> <ol><li><code>å³ä¸Šè§’è®¾ç½®å›¾æ ‡ =&gt; Preferences =&gt; Theme</code>, å¯é€‰æ‹©<code>Light/Dark</code>ä¸åŒä¸»é¢˜ï¼›</li> <li><code>å³ä¸Šè§’... =&gt; Run command</code>æˆ–è€…å¿«æ·é”®ï¼š<code>cmd + shift + P</code>ï¼Œè¾“å…¥ï¼š<code>theme</code>ï¼Œä¹Ÿå¯åˆ‡æ¢ä¸åŒä¸»é¢˜ï¼›</li></ol></li> <li><p>æŸ¥çœ‹é¡µé¢cssæ¦‚è§ˆï¼š<code>cmd + shift + P</code>, è¾“å…¥<code>css</code>ï¼Œé€‰æ‹©<code>Show css overview</code>ï¼Œä¼šåœ¨ä¸‹æ–¹æ‰“å¼€<code>CSS overview</code>é¢æ¿ï¼›</p></li></ul> <blockquote><p>é¢æ¿ä¼šç»Ÿè®¡é¡µé¢ä½¿ç”¨çš„å­—ä½“ã€é¢œè‰²ç­‰ä¿¡æ¯ï¼Œ<code>Unused declarations</code>ä¸­ç‚¹å‡»æ•°å€¼å¯ä»¥çœ‹åˆ°å…·ä½“çš„å…ƒç´ ï¼Œé¼ æ ‡æ”¾ä¸Šå»èƒ½å®šä½åˆ°DOMä½ç½®ã€‚</p></blockquote> <ul><li>æ€§èƒ½ç›‘è§†å™¨: <code>cmd + shift + p</code>ï¼Œè¾“å…¥<code>Show Performance Monitor</code>ï¼Œé€‰æ‹©ï¼Œä¸‹æ–¹å°±ä¼šå‡ºç°<code>Performance Monitor</code>é¢æ¿ï¼›</li></ul> <blockquote><p>å¯ä»¥çœ‹åˆ°ï¼šCPUä½¿ç”¨æƒ…å†µã€JSå†…å­˜å¤§å°ã€DOMèŠ‚ç‚¹æ•°ç­‰éƒ½å¯ä»¥å®æ—¶ç›‘æ§ã€‚</p></blockquote> <ul><li>FPSç›‘æ§ï¼š<code>cmd + shift + p</code>ï¼Œè¾“å…¥<code>fps</code>ï¼Œé€‰æ‹©<code>show frames per second(FPS) meter</code>ï¼Œé¡µé¢å·¦ä¸Šæ–¹ä¼šå‡ºç°å¼¹çª—ï¼Œå±•ç¤ºï¼š<code>Frame Rate, GPU raster, GPU memory</code>ä¿¡æ¯ï¼›</li></ul> <blockquote><p><code>FPS(Frames Per Second)</code>ï¼Œè¡¨ç¤ºæ¯ç§’ä¼ è¾“å¸§æ•°ï¼Œæ˜¯é€Ÿåº¦å•ä½ï¼Œæ˜¯ç”¨æ¥åˆ†æåŠ¨ç”»çš„ä¸€ä¸ªä¸»è¦æ€§èƒ½æŒ‡æ ‡ã€‚ä¸€èˆ¬åœ¨<code>50-60FPS</code>çš„åŠ¨ç”»ä¼šç›¸å½“æµç¨‹ï¼Œ<code>30FPS</code>å°±ä¼šæ„Ÿè§‰å¡é¡¿äº†ã€‚</p></blockquote> <ul><li><p>å…¨å±€æœç´¢ä»£ç ï¼šå³ä¸Šè§’<code>...</code> =&gt; <code>Search</code>, ä¼šè‡ªåŠ¨æ˜¾ç¤º<code>Search</code>é¢æ¿ï¼Œè¾“å…¥å…³é”®å­—å³å¯ï¼Œç‚¹å‡»æœç´¢ç»“æœå³å¯è·³åˆ°å¯¹åº”æ–‡ä»¶çš„ä»£ç </p></li> <li><p>åŒå±æ¨¡å¼ï¼šç‚¹å‡»å³ä¸Šè§’è®¾ç½®å›¾æ ‡ =&gt; <code>Experiments</code> =&gt; å‹¾é€‰<code>Emulation: Support dual-screen mode</code>; ä¹‹ååœ¨<code>Devices</code>ä¸­å‹¾é€‰<code>Surface Duo</code>ï¼Œé‡å¯DevToolï¼›åˆ‡æ¢åˆ°ç§»åŠ¨è®¾å¤‡è°ƒè¯•æ¨¡å¼ï¼Œé€‰æ‹©<code>Surface Duo</code>, å³ä¸Šè§’ç‚¹å‡»åŒå±æ¨¡å¼å›¾æ ‡å³å¯~</p></li></ul> <blockquote><p>å¯¹äºå¼€å‘è¦é€‚é…æŠ˜å å±æ‰‹æœºçš„åº”ç”¨æ˜¯éå¸¸æœ‰ç”¨çš„~</p></blockquote> <h2 id="å¤‡æ³¨"><a href="#å¤‡æ³¨" class="header-anchor">#</a> å¤‡æ³¨</h2> <h3 id="chrome-devtools-åŸç†"><a href="#chrome-devtools-åŸç†" class="header-anchor">#</a> Chrome DevTools åŸç†</h3> <blockquote><p>Chrome DevTools åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œbackend å’Œ frontendï¼š</p></blockquote> <ul><li><p>backend: backend å’Œ Chrome é›†æˆï¼Œå’Œ Js Runtimeï¼Œå†…éƒ¨çš„å¸ƒå±€ã€æ¸²æŸ“å™¨æ·±åº¦ç»‘å®šï¼Œç”¨äºå°†å†…éƒ¨çš„çŠ¶æ€é€šè¿‡åè®®æš´éœ²å‡ºæ¥ã€‚</p></li> <li><p>frontend: frontend æ˜¯ç‹¬ç«‹çš„ï¼Œè´Ÿè´£å¯¹æ¥è°ƒè¯•åè®®ï¼Œåš UI çš„å±•ç¤ºå’Œäº¤äº’ã€‚</p></li></ul> <p>ä¸¤è€…ä¹‹é—´çš„è°ƒè¯•åè®®å«åš <code>Chrome DevTools Protocol</code>ï¼Œç®€ç§° <code>CDP</code>ã€‚</p> <p>ä¼ è¾“åè®®æ•°æ®çš„æ–¹å¼å«åš<strong>ä¿¡é“ï¼ˆmessage channelï¼‰</strong>ï¼Œæœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚ Chrome DevTools åµŒå…¥åœ¨ Chrome é‡Œæ—¶ï¼Œä¸¤è€…é€šè¿‡å…¨å±€çš„å‡½æ•°é€šä¿¡ï¼›å½“ Chrome DevTools è¿œç¨‹è°ƒè¯•æŸä¸ªç›®æ ‡çš„ä»£ç æ—¶ï¼Œ<strong>ä¸¤è€…é€šè¿‡ WebSocket é€šä¿¡</strong>ã€‚</p> <p>frontendã€backendã€è°ƒè¯•åè®®ï¼ˆCDPï¼‰ã€ä¿¡é“ï¼Œè¿™æ˜¯ Chrome DevTools çš„ 4 ä¸ªç»„æˆéƒ¨åˆ†ã€‚</p> <blockquote><p>backend å¯ä»¥æ˜¯ Chromiumï¼Œä¹Ÿå¯ä»¥æ˜¯ Node.js æˆ–è€… V8ï¼Œè¿™äº› JS çš„è¿è¡Œæ—¶éƒ½æ”¯æŒ Chrome DevTools Protocolã€‚</p></blockquote> <p><strong>CDP</strong></p> <p>CDP ç®€å•è®²å°±æ˜¯ä¸€ç»„ APIï¼Œç”¨äºä¸ Chrome DevTools è¿›è¡Œé€šä¿¡ã€‚å®ƒå…è®¸å¼€å‘äººå‘˜ä»¥ç¼–ç¨‹æ–¹å¼æ§åˆ¶ Chromeï¼Œä¾‹å¦‚åœ¨ Chrome ä¸­æ‰“å¼€ä¸€ä¸ªæ–°çš„é€‰é¡¹å¡ï¼ŒåŠ è½½ç½‘é¡µï¼Œè®¾ç½®ç½‘ç»œæ¡ä»¶ç­‰ã€‚CDP å¯ä»¥é€šè¿‡ WebSocket è¿›è¡Œé€šä¿¡ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ HTTP è¯·æ±‚è¿›è¡Œé€šä¿¡ã€‚Chrome DevTools çš„å¤§éƒ¨åˆ†åŠŸèƒ½éƒ½æ˜¯åŸºäº CDP å®ç°çš„ã€‚</p> <blockquote><p><a href="https://github.com/puppeteer/puppeteer" target="_blank" rel="noopener noreferrer">Puppeteer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æ˜¯ä¸€ä¸ªè‘—åçš„è‡ªåŠ¨åŒ–åº“ï¼Œç”¨äºè‡ªåŠ¨åŒ–æ§åˆ¶ Chrome æˆ– Chromium æµè§ˆå™¨ã€‚æœ¬è´¨ä¸Šå°±æ˜¯ä½¿ç”¨ CDP åè®®æ¥ä¸æµè§ˆå™¨è¿›è¡Œé€šä¿¡ï¼Œç›¸å½“äºæ˜¯å¯¹ CDP çš„é«˜çº§å°è£…ç‰ˆã€‚</p></blockquote> <blockquote><p>åŸºäº CDPï¼Œæˆ‘ä»¬å¯ä»¥åšå¾ˆå¤šæœ‰è¶£çš„äº‹ï¼Œæ¯”å¦‚è‡ªå·±æ‰“é€ ä¸€ä¸ªç‹¬äº«ç‰ˆçš„ Devtoolsï¼Œä¹Ÿå¯ä»¥ç›´æ¥åŸºäº Chrome Devtools è¿›è¡Œä¿®æ”¹ï¼Œæ¯”å¦‚å°ç¨‹åºçš„è°ƒè¯•å™¨å°±å¯ä»¥åŸºäº Devtools é¡¹ç›®åšäºŒæ¬¡å°è£…ã€‚</p></blockquote> <h3 id="vscode-debugger"><a href="#vscode-debugger" class="header-anchor">#</a> VSCode Debugger</h3> <ul><li>é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º<code>.vscode/launch.json</code>æ–‡ä»¶ï¼Œæ–°å»ºå®Œæˆåç‚¹å‡»å³ä¸‹è§’ã€æ·»åŠ é…ç½®ã€‘ï¼Œç„¶åé€‰æ‹©ã€Chrome å¯åŠ¨ã€‘ï¼š</li></ul> <img src="/blog/images/tool/tool-dev02.jpg" width="auto" class="zoom-custom-imgs"> <blockquote><p>ä¹‹åå°±ä¼šæ·»åŠ é»˜è®¤é…ç½®, <code>url</code>ä¿®æ”¹ä¸ºé¡¹ç›®æœ¬åœ°å¯åŠ¨åçš„åœ°å€ï¼Œ<code>name</code>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰~</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token comment">// launch.json</span>

<span class="token punctuation">{</span>
    <span class="token property">&quot;configurations&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;chrome&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token string">&quot;launch&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Launch Chrome&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:3037&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;webRoot&quot;</span><span class="token operator">:</span> <span class="token string">&quot;${workspaceFolder}&quot;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>é…ç½®å®Œæˆåï¼Œæ‰“å¼€<code>VSCode</code>å·¦ä¾§<code>Debug</code>çª—å£ï¼Œä¼šå‡ºç°åˆšé…ç½®çš„<code>launch</code>ï¼Œç‚¹å‡»å·¦ä¾§ç»¿è‰²å¯åŠ¨æŒ‰é’®ï¼Œ<code>Chrome</code>æµè§ˆå™¨å³å¯æ–°å¼€ä¸€ä¸ªçª—å£ï¼Œå¯åŠ¨æœåŠ¡ï¼š</li></ul> <img src="/blog/images/tool/tool-dev03.jpg" width="auto" class="zoom-custom-imgs"> <p>è¿™æ—¶é¼ æ ‡æ‚¬æµ®ä»£ç å·¦ä¾§ä¼šå‡ºç°å°çº¢ç‚¹ï¼Œç‚¹å‡»å³å¯æ·»åŠ æ–­ç‚¹ï¼›å·¦ä¸‹ä¾§ä¼šæ˜¾ç¤ºæ·»åŠ çš„æ–­ç‚¹ä¿¡æ¯ï¼›</p> <p>æ“ä½œæ ä»å·¦åˆ°å³åŠŸèƒ½ä¾æ¬¡å¦‚ä¸‹ï¼Œå’Œ <code>Chrome DevTools</code> ç±»ä¼¼ï¼š</p> <ul><li><p><code>ç»§ç»­/æš‚åœ</code>ï¼šè·³è¿‡å½“å‰æ–­ç‚¹ï¼Œç›´æ¥æ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ªæ–­ç‚¹ï¼ˆå¦‚æœæœ‰ï¼‰ï¼›</p></li> <li><p><code>å•æ­¥è·³è¿‡</code>ï¼šä»å½“å‰æ–­ç‚¹å¼€å§‹ï¼Œä»£ç æŒ‰jsæ‰§è¡Œé¡ºåºä¸€æ­¥æ­¥æ‰§è¡Œï¼›</p></li> <li><p><code>å•æ­¥è°ƒè¯•</code>ï¼šè¿›å…¥å‡½æ•°ä½“è°ƒç”¨ï¼›</p></li> <li><p><code>å•æ­¥è·³å‡º</code>ï¼šè·³å‡ºå‡½æ•°</p></li> <li><p><code>é‡å¯</code>ï¼šåˆ·æ–°ï¼Œä»æ–°å¼€å§‹~</p></li> <li><p><code>åœæ­¢</code>ï¼šåœæ­¢è°ƒè¯•ï¼Œå…³é—­chromeçª—å£~</p></li> <li><p>ä»£ç ä¼šæ‰§è¡Œåˆ°æ–­ç‚¹å¤„æ–­ä½ï¼Œæœ¬åœ°å’Œå…¨å±€ä½œç”¨åŸŸçš„å˜é‡ï¼Œè°ƒç”¨æ ˆç­‰éƒ½ä¼šå±•ç¤ºåœ¨å·¦è¾¹; ä¹Ÿå¯ç‚¹å‡»ä¸‹æ–¹ã€è°ƒåˆ¶æ§åˆ¶å°ã€‘æŸ¥çœ‹ä»£ç æ‰“å°ä¿¡æ¯ï¼›</p></li></ul> <blockquote><p>ä¹‹å‰è°ƒè¯•æ˜¯åœ¨ Chrome DevToolsï¼Œå†™ä»£ç åœ¨ VSCodeï¼›è€Œç°åœ¨å†™ä»£ç å’Œè°ƒè¯•éƒ½å¯ä»¥åœ¨ VSCode é‡Œï¼Œå¯ä»¥è¾¹è°ƒè¯•è¾¹å†™ä»£ç ~</p></blockquote> <p>Q: ä¸ºä»€ä¹ˆ <code>Chrome DevTools</code> å’Œ <code>VSCode Debugger</code> éƒ½å¯ä»¥è°ƒè¯•ç½‘é¡µå‘¢ï¼Ÿ</p> <blockquote><p>è¿™æ˜¯å› ä¸ºè°ƒè¯•åè®®æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ CDPã€‚Chrome DevTools å¯ä»¥å¯¹æ¥ CDP æ¥è°ƒè¯•ç½‘é¡µï¼ŒVSCode Debugger ä¹Ÿå¯ä»¥ã€‚VSCode Debugger çš„åŸç†å’Œ Chrome DevTools å·®ä¸å¤šï¼Œä¹Ÿæ˜¯åˆ†ä¸º frontendã€backendã€è°ƒè¯•åè®®è¿™å‡ éƒ¨åˆ†ï¼Œåªä¸è¿‡å®ƒå¤šäº†ä¸€å±‚<strong>é€‚é…å™¨åè®® Debug Adapter Protocol</strong>: å› ä¸º VSCode ä¸æ˜¯ JS ä¸“ç”¨ç¼–è¾‘å™¨ï¼Œå®ƒå¯èƒ½ç”¨æ¥è°ƒè¯• Python ä»£ç ã€Rust ä»£ç ç­‰ç­‰ï¼Œè‡ªç„¶ä¸èƒ½å’ŒæŸä¸€ç§è¯­è¨€çš„è°ƒè¯•åè®®æ·±åº¦è€¦åˆï¼Œæ‰€ä»¥å¤šäº†ä¸€ä¸ªé€‚é…å™¨å±‚ã€‚</p></blockquote> <h3 id="æ–­ç‚¹ç±»å‹"><a href="#æ–­ç‚¹ç±»å‹" class="header-anchor">#</a> æ–­ç‚¹ç±»å‹</h3> <ul><li><strong>å¼‚å¸¸æ–­ç‚¹</strong></li></ul> <p>ä»£ç æŠ›äº†å¼‚å¸¸ï¼Œä½ æƒ³çŸ¥é“åœ¨å“ªæŠ›çš„ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨å¼‚å¸¸æ–­ç‚¹ã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// æ¯”å¦‚ä¸‹é¢ä»£ç ï¼š</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>    
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// add å‡½æ•°é‡ŒæŠ›äº†ä¸ªå¼‚å¸¸ï¼Œä½ æƒ³åœ¨å¼‚å¸¸å¤„æ–­ä½ï¼Œè¿™æ—¶å€™å°±å¯ä»¥åŠ ä¸ªå¼‚å¸¸æ–­ç‚¹</span>
</code></pre></div><blockquote><p>ç¤ºä¾‹ä»£ç æ¯”è¾ƒç®€å•ï¼Œå¾ˆå¤šæ—¶å€™ä»£ç æŠ›äº†é”™ä½ ä¸çŸ¥é“å“ªé‡ŒæŠ›çš„ï¼Œå°±å¯ä»¥ç”¨å¼‚å¸¸æ–­ç‚¹æ¥æ‰¾åŸå› ï¼Œæ–­ä½ä»¥åçœ‹çœ‹è°ƒç”¨æ ˆå•¥çš„</p></blockquote> <ul><li><p>Chrome DevToolsï¼š<code>Breakpoints</code>ä¸­å‹¾é€‰<code>Pause on caught exceptions</code></p></li> <li><p>VSCode: å‹¾é€‰<code>Uncaught Exceptionsï¼ˆæœªæ•è·çš„å¼‚å¸¸ï¼‰</code></p></li></ul> <blockquote><p>å®ƒå¯ä»¥åœ¨æ²¡æœ‰è¢«å¤„ç†çš„é”™è¯¯æˆ–è€… Promise çš„ reject å¤„æ–­ä½;</p></blockquote> <p><code>Caught Exceptionï¼ˆæ•è·çš„å¼‚å¸¸ï¼‰</code> æ˜¯åœ¨è¢« <code>catch</code> å¤„ç†çš„å¼‚å¸¸å‡ºæ–­ä½; <code>Uncaught Exceptions</code> æ›´å¸¸ç”¨ä¸€äº›ã€‚</p> <ul><li><strong>æ¡ä»¶æ–­ç‚¹</strong></li></ul> <blockquote><p>æœ‰çš„æ—¶å€™æˆ‘ä»¬åªæƒ³åœ¨æ»¡è¶³ä¸€å®šæ¡ä»¶çš„æ—¶å€™æ‰æ–­ä½ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨æ¡ä»¶æ–­ç‚¹ï¼Œæ¯”å¦‚forå¾ªç¯ä¸­æ»¡è¶³æŸä¸€æ¡ä»¶æ‰æ–­ç‚¹</p></blockquote> <ul><li><p>VSCode: <code>add Conditional Breakpointï¼ˆæ·»åŠ æ¡ä»¶æ–­ç‚¹ï¼‰</code>, æ·»åŠ è¡¨è¾¾å¼ï¼Œæ»¡è¶³æ¡ä»¶æ‰æ–­ä½</p></li> <li><p><strong>LogPoint</strong></p></li></ul> <blockquote><p>å½“ä½ è§‰å¾—æ–­ä½æ¬¡æ•°å¤ªå¤šäº†ï¼Œå¤ªéº»çƒ¦ï¼Œä¸æƒ³åœ¨æ–­ç‚¹å¤„æ–­ä½ï¼Œä½†å´æƒ³çœ‹ä¸‹è¿™æ—¶å€™çš„å€¼ï¼Œç»å¤§éƒ¨åˆ†åŒå­¦ä¼šé€‰æ‹©<code>console.log</code>ï¼Œä½†å…¶å®æœ‰æ›´å¥½çš„æ–¹å¼: æ·»åŠ ä¸€ä¸ª <code>LogPoint</code></p></blockquote> <p><code>Logpoints</code> ï¼ˆæ—¥å¿—ç‚¹ï¼‰æ˜¯ä¸€ç§å‘æ§åˆ¶å°æä¾›è°ƒè¯•ä¿¡æ¯çš„æ–¹å¼ï¼Œè€Œæ— éœ€ä½¿ç”¨ <code>console.log()</code>ï¼Œè¿™åœ¨çº¿ä¸Šåº”ç”¨è°ƒè¯•æ—¶ä¼šå¾ˆæœ‰ç”¨ã€‚</p> <ul><li><p>Chrome-DevTools: å³é”®å•å‡» DevTools ä¸­çš„ Source é€‰é¡¹å¡ä¸­çš„ä»»ä½•è¡Œå¹¶æŒ‡å®šè¦è®°å½•çš„è¡¨è¾¾å¼æ¥æ·»åŠ æ–°çš„ Logpointã€‚</p></li> <li><p>VSCode: <code>Add Logpointsï¼ˆæ·»åŠ è®°å½•ç‚¹ï¼‰</code></p></li></ul> <blockquote><p>ç›¸è¾ƒäº<code>console.log</code>, ä½¿ç”¨è¯¥åŠŸèƒ½å¯ä»¥å‡å°‘è°ƒè¯•ä»£ç ï¼Œæé«˜ä»£ç çš„æ•´æ´æ€§ã€‚å¹¶ä¸”ï¼Œ<strong>çº¿ä¸Šåº”ç”¨ä¹Ÿå¯ä»¥ç›´æ¥æ·»åŠ æ§åˆ¶å°è¾“å‡º</strong>ã€‚</p></blockquote> <ul><li><strong>DOMæ–­ç‚¹</strong></li></ul> <blockquote><p>æƒ³åœ¨ DOM è¢«ä¿®æ”¹çš„æ—¶å€™æ–­ä½, å¯ä»¥ç”¨DOMæ–­ç‚¹~</p></blockquote> <ul><li>Chrome DevToolsï¼š <code>Element =&gt; é€‰æ‹©NodeèŠ‚ç‚¹ =&gt; Break on =&gt; subtree modifications</code></li></ul> <p>æœ‰ä¸‰ç§æ–­ç‚¹ç±»å‹ï¼šsubtree modificationsï¼ˆå­æ ‘ä¿®æ”¹çš„æ—¶å€™æ–­ä½ï¼‰ã€attribute modificationsï¼ˆå±æ€§ä¿®æ”¹çš„æ—¶å€™æ–­ä½ï¼‰ã€node removalï¼ˆèŠ‚ç‚¹åˆ é™¤çš„æ—¶å€™æ–­ä½ï¼‰ã€‚</p> <blockquote><p>ä¹‹åè¯¥DOMå­˜åœ¨ä¿®æ”¹æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨æ–­ä½~</p></blockquote> <ul><li><strong>Event Listener æ–­ç‚¹</strong></li></ul> <p>è°ƒè¯•äº‹ä»¶å‘ç”Ÿä¹‹åçš„å¤„ç†é€»è¾‘ï¼Œéœ€è¦æ‰¾åˆ°äº‹ä»¶ç›‘å¬å™¨ï¼Œç„¶åæ‰“ä¸ªæ–­ç‚¹</p> <ul><li>Chrome DevToolsï¼š <code>Source =&gt; Event Listener Breakpoints</code></li></ul> <blockquote><p>é‡Œé¢æœ‰å„ç§ç±»å‹äº‹ä»¶ï¼Œå¦‚<code>Keyboard,Mouse,...</code>, å‹¾é€‰å³å¯~</p></blockquote> <ul><li><strong>url è¯·æ±‚æ–­ç‚¹</strong></li></ul> <p>å½“ä½ æƒ³åœ¨æŸä¸ªè¯·æ±‚å‘é€çš„æ—¶å€™æ–­ä½ï¼Œä½†ä½ ä¸çŸ¥é“åœ¨å“ªé‡Œå‘çš„ï¼Œè¿™æ—¶å€™å°±å¯ä»¥ç”¨ url è¯·æ±‚æ–­ç‚¹</p> <ul><li>Chrome DevToolsï¼š <code>Source =&gt; XHR/fetch Breakpoints</code>, æ·»åŠ ï¼›ä¸è¾“å…¥å†…å®¹å°±æ˜¯åœ¨ä»»ä½•è¯·æ±‚å¤„æ–­ä½ï¼Œä½ å¯ä»¥è¾“å…¥å†…å®¹ï¼Œé‚£ä¼šåœ¨ url åŒ…å«è¯¥å†…å®¹çš„è¯·æ±‚å¤„æ–­ä½</li></ul> <blockquote><p>è¿™åœ¨è°ƒè¯•ç½‘ç»œè¯·æ±‚çš„ä»£ç çš„æ—¶å€™ï¼Œæ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</p></blockquote> <h2 id="ä¾‹-performanceæ€§èƒ½ä¼˜åŒ–å®è·µ"><a href="#ä¾‹-performanceæ€§èƒ½ä¼˜åŒ–å®è·µ" class="header-anchor">#</a> ä¾‹ï¼šPerformanceæ€§èƒ½ä¼˜åŒ–å®è·µ</h2> <ul><li>é¦–å…ˆæ–°å»ºä¸€ä¸ª<code>index.html</code>:</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>worker performance optimization<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>worker performance optimization<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ä¸¤ä¸ª script æ ‡ç­¾æ˜¯ä¸¤ä¸ªå®ä»»åŠ¡ï¼Œç¬¬ä¸€ä¸ªå®ä»»åŠ¡çš„è°ƒç”¨æ ˆæ˜¯ aã€bï¼Œç¬¬äºŒä¸ªå®ä»»åŠ¡çš„è°ƒç”¨æ ˆæ˜¯ cã€dã€‚ --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span> <span class="token number">10</span><span class="token operator">*</span><span class="token number">10000</span><span class="token operator">*</span><span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                total <span class="token operator">+=</span> i<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b:'</span><span class="token punctuation">,</span> total<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">d</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">function</span> <span class="token function">d</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span> <span class="token number">1</span><span class="token operator">*</span><span class="token number">10000</span><span class="token operator">*</span><span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                total <span class="token operator">+=</span> i<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'c:'</span><span class="token punctuation">,</span> total<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>ç„¶åç”¨ Performance åˆ†æä¸‹æ‰§è¡Œæµç¨‹ï¼š<code>æœ¬åœ°å¯åŠ¨æœåŠ¡ =&gt; Chromeæµè§ˆå™¨æ‰“å¼€DevTools =&gt; æ‰“å¼€Performanceé¢æ¿ =&gt; reloadï¼Œé‡æ–°åŠ è½½é¡µé¢å¹¶è®°å½•</code>ï¼›</li></ul> <blockquote><p>ç”¨æ— ç—•æ¨¡å¼æ‰“å¼€ chromeï¼Œæ— ç—•æ¨¡å¼ä¸‹æ²¡æœ‰æ’ä»¶ï¼Œåˆ†ææ€§èƒ½ä¸ä¼šå—æ’ä»¶å½±å“~</p></blockquote> <ul><li>è®°å½•ç»“æŸåå¯çœ‹åˆ°è®°å½•ä¿¡æ¯å¦‚ä¸‹ï¼š</li></ul> <img src="/blog/images/tool/tool-dev301.jpg" width="auto" class="zoom-custom-imgs"> <blockquote><p>å¯ä»¥çœ‹åˆ°æœ‰ä¸¤ä¸ª Taskï¼ˆå®ä»»åŠ¡ï¼‰ï¼Œè°ƒç”¨æ ˆåˆ†åˆ«æ˜¯ <code>aã€b</code> å’Œ <code>cã€d</code>;ï¼ˆè¿˜æœ‰ä¸€äº›æµè§ˆå™¨å†…éƒ¨çš„å‡½æ•°ï¼Œæ¯”å¦‚ parseHtmlã€evaluateScript ç­‰ï¼Œè¿™äº›å¯ä»¥å¿½ç•¥ï¼‰</p></blockquote> <ul><li>ä¸¤ä¸ªTaskéƒ½æ—¶<code>long task</code>ï¼Œè€—æ—¶è¾ƒé•¿ï¼›ç‚¹å‡»ç¬¬ä¸€ä¸ªTaskæ—¶ï¼Œä¸‹æ–¹é¢æ¿ä¸­<code>bottom-up</code>ä¼šæ˜¾ç¤ºè°ƒç”¨æ ˆè¯¦æƒ…ï¼›å¯çœ‹åˆ°æ‰§è¡Œ<code>b</code>å‡½æ•°è€—æ—¶è¾ƒé•¿ï¼Œä¹Ÿç‚¹å‡»åé¢çš„æºç åœ°å€è·³è½¬åˆ°æºç ï¼Œå¯çœ‹åˆ°ç›¸åº”çš„æ‰§è¡Œæ—¶é—´ï¼š</li></ul> <img src="/blog/images/tool/tool-dev302.jpg" width="auto" class="zoom-custom-imgs"> <blockquote><p>åŒæ ·åœ¨ç¬¬äºŒä¸ªTaskä¹Ÿå‘ç°è¿™ç§å¾ªç¯ç´¯åŠ è€—æ—¶è¿‡é•¿çš„é—®é¢˜ï¼›</p></blockquote> <p><strong>å› ä¸ºæ¸²æŸ“å’Œ JS æ‰§è¡Œéƒ½åœ¨ä¸»çº¿ç¨‹ï¼Œåœ¨ä¸€ä¸ª Event Loop ä¸­ï¼Œä¼šç›¸äº’é˜»å¡ï¼Œå¦‚æœ JS æœ‰é•¿æ—¶é—´æ‰§è¡Œçš„ Taskï¼Œå°±ä¼šé˜»å¡æ¸²æŸ“ï¼Œå¯¼è‡´é¡µé¢å¡é¡¿ã€‚æ‰€ä»¥ï¼Œæ€§èƒ½åˆ†æä¸»è¦çš„ç›®çš„æ˜¯æ‰¾åˆ° long taskï¼Œä¹‹åæ¶ˆé™¤å®ƒã€‚</strong></p> <p>æ‰€ä»¥ b å’Œ d ä¸¤ä¸ªå‡½æ•°çš„å¾ªç¯ç´¯åŠ è€—æ—¶è¿‡é•¿ï¼Œéœ€è¦ä¼˜åŒ–ã€‚</p> <div class="custom-block tip"><p class="custom-block-title">ä¼˜åŒ–æ–¹æ¡ˆ</p> <ol><li>æŠŠä¸¤ä¸ª long task ä¸­çš„è€—æ—¶é€»è¾‘ï¼ˆå¾ªç¯ç´¯åŠ ï¼‰ç»™å»æ‰æˆ–è€…æ‹†åˆ†æˆå¤šä¸ª taskï¼›</li></ol> <blockquote><p>å¯ä»¥å‚è€ƒ React ä»é€’å½’æ¸²æŸ“ vdom è½¬ä¸ºé“¾è¡¨çš„å¯æ‰“æ–­çš„æ¸²æŸ“ vdom çš„ä¼˜åŒ–ï¼Œä¹Ÿå°±æ˜¯ fiber çš„æ¶æ„ï¼Œå®ƒçš„ç›®çš„ä¹Ÿæ˜¯ä¸ºäº†æ‹†åˆ† long taskã€‚</p></blockquote> <ol start="2"><li>ä¸æ”¾åœ¨ä¸»çº¿ç¨‹è·‘ï¼Œæ”¾åˆ°å…¶ä»–çº¿ç¨‹è·‘, æ¯”å¦‚æµè§ˆå™¨çš„ <code>web worker</code>ï¼›</li></ol></div> <p>å› ä¸ºè¿™é‡Œä»£ç æ¯”è¾ƒç®€å•ï¼Œæ²¡ä»€ä¹ˆå¥½æ‹†åˆ†çš„ï¼Œæ‰€ä»¥é€‰æ‹©ç¬¬äºŒç§æ–¹æ¡ˆ~</p> <ul><li>è¿™é‡Œä¸ºäº†è·Ÿ<code>index.html</code>å¯¹æ¯”ï¼Œæ–°å»º<code>index02.html</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span> worker performance optimization02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>worker performance optimization02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token comment">// å°è£…å‡½æ•°ï¼Œä¼ å…¥ url å’Œæ•°å­—ï¼Œå‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ª worker çº¿ç¨‹ï¼Œé€šè¿‡ postMessage ä¼ é€’ num è¿‡å»ï¼Œå¹¶ä¸”ç›‘å¬ message äº‹ä»¶æ¥æ¥æ”¶è¿”å›çš„æ•°æ®ã€‚</span>
        <span class="token keyword">function</span> <span class="token function">runWorker</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span> num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
                worker<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¼ é€’æ•°æ®</span>
                <span class="token comment">// æ¥æ”¶æ•°æ®</span>
                worker<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token function">resolve</span><span class="token punctuation">(</span>evt<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                worker<span class="token punctuation">.</span>onerror <span class="token operator">=</span> reject<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// æ‰§è¡Œè€—æ—¶ä»»åŠ¡ï¼Œè€—æ—¶é€»è¾‘ç§»åˆ°äº† worker çº¿ç¨‹ä¸­</span>
            <span class="token function">runWorker</span><span class="token punctuation">(</span><span class="token string">'./worker2.js'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token operator">*</span><span class="token number">10000</span><span class="token operator">*</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b:'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">function</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// æ‰§è¡Œè€—æ—¶ä»»åŠ¡</span>
            <span class="token function">runWorker</span><span class="token punctuation">(</span><span class="token string">'./worker.js'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">*</span><span class="token number">10000</span><span class="token operator">*</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'c:'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">function</span> <span class="token function">d</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">c</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">d</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li>åŒæ—¶æ–°å»º<code>worker.js</code>ï¼Œä»£ç å¦‚ä¸‹ï¼š</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token comment">// ç›‘å¬ message äº‹ä»¶, æ¥æ”¶ä¸»çº¿ç¨‹å‘é€çš„æ•°æ®</span>
<span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">evt</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> num <span class="token operator">=</span> evt<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span> num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        total <span class="token operator">+=</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// æ‰§è¡Œå®Œæ¯•ï¼Œå‘ä¸»çº¿ç¨‹å‘é€æ•°æ®</span>
    <span class="token function">postMessage</span><span class="token punctuation">(</span>total<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>å¯ä»¥å†æ–°å»ºä¸€ä¸ª<code>worker02.js</code>ï¼Œä»£ç è·Ÿ<code>worker.js</code>ä¸€æ ·ï¼Œè¿™æ ·æ–¹ä¾¿ç­‰ä¼šå„¿åœ¨<code>Performance</code>ä¸­è¿›è¡Œåˆ†æ~</p></blockquote> <ul><li>ä¹‹åå¯åŠ¨æœåŠ¡ï¼ŒåŒæ ·é‡è½½é¡µé¢ï¼Œå½•åˆ¶<code>record</code>è¿›è¡Œåˆ†æï¼š</li></ul> <img src="/blog/images/tool/tool-dev303.jpg" width="auto" class="zoom-custom-imgs"> <p>ä¼šå‘ç°åœ¨<code>Main</code>ä¸»çº¿ç¨‹ä¸­<code>long task</code>æ¶ˆå¤±äº†ï¼Œå¹¶ä¸”åœ¨ä¸‹é¢å¤šäº†ä¸¤ä¸ª<code>Worker</code>çº¿ç¨‹ï¼›å¹¶ä¸”ä¸»çº¿ç¨‹çš„æ‰§è¡Œæ—¶é—´ä¹Ÿå¤§å¤§å‡å°‘äº†~ï¼</p> <p>è¿™æ ·ï¼Œæˆ‘ä»¬é€šè¿‡æŠŠè®¡ç®—é‡æ‹†åˆ†åˆ° worker çº¿ç¨‹ï¼Œå……åˆ†åˆ©ç”¨äº†å¤šæ ¸ cpu çš„èƒ½åŠ›ï¼Œè§£å†³äº†ä¸»çº¿ç¨‹çš„ long task é—®é¢˜ï¼Œç•Œé¢äº¤äº’ä¼šå¾ˆæµç•…ã€‚</p> <blockquote><p>å‚è€ƒï¼š<a href="https://mp.weixin.qq.com/s/oboA3aOw8BdzvMwMmPMSJg" target="_blank" rel="noopener noreferrer">å¿«é€ŸæŒæ¡ Performance æ€§èƒ½åˆ†æï¼šä¸€ä¸ªçœŸå®çš„ä¼˜åŒ–æ¡ˆä¾‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h2 id="æ”¶è—"><a href="#æ”¶è—" class="header-anchor">#</a> æ”¶è—</h2> <ul><li><a href="https://leeon.gitbooks.io/devtools/content/" target="_blank" rel="noopener noreferrer">Chrome DevToolsä¸­æ–‡æ‰‹å†Œ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://mp.weixin.qq.com/s/GFHeCwMEdGROCCtTv1pHhw" target="_blank" rel="noopener noreferrer">å¦‚ä½•åœ¨ Chrome ä¸­è°ƒè¯• TypeScript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="header-anchor">#</a> å‚è€ƒ</h2> <ul><li><a href="https://mp.weixin.qq.com/s/uuiXyDYJbElkSB6hFbvMOQ" target="_blank" rel="noopener noreferrer">11ä¸ªç¨‹åºå‘˜å¿…é¡»çŸ¥é“çš„å®ç”¨Chrome DevToolså¼€å‘æŠ€å·§<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/7126188054821208100" target="_blank" rel="noopener noreferrer">æµè§ˆå™¨DevToolsä½ çœŸçš„ä¼šç”¨å—?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/7248118049584316472" target="_blank" rel="noopener noreferrer">è„±å‘ç§˜ç±ï¼šå‰ç«¯Chromeè°ƒè¯•æŠ€å·§æœ€å…¨æ±‡æ€»<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/blog/tags/?tag=devtools" title="æ ‡ç­¾">#devtools</a></div> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">12/18/2023, 1:27:23 AM</span></div></div> <div class="page-nav-wapper"><!----> <!----></div></div> <div class="article-list"><div class="article-title"><a href="/blog/archives" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/blog/more/node-deploy.html"><div>
            Vue+Nodeå®ç°å¯è§†åŒ–éƒ¨ç½²å·¥å…·
            <!----></div></a> <span class="date">01-21</span></dt></dl><dl><dd>02</dd> <dt><a href="/blog/tool/vscode-plugins.html"><div>
            VSCodeæ’ä»¶å¼€å‘ç¬”è®°
            <!----></div></a> <span class="date">01-08</span></dt></dl><dl><dd>03</dd> <dt><a href="/blog/skills/vue/vue3-cli-repo.html"><div>
            å¼€å‘ä¸€ä¸ªå¿«é€Ÿæ­å»ºvue3é¡¹ç›®çš„è„šæ‰‹æ¶
            <!----></div></a> <span class="date">12-13</span></dt></dl> <dl><dd></dd> <dt><a href="/blog/archives" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2021-2024
    <span>ä¸€è‹‡ | <a href="https://beian.miit.gov.cn/" target="_blank" style="font-weight:normal"><img src="/blog/images/icp.png" width="20" height="20" alt="å…¬ç½‘å¤‡æ¡ˆ"/>äº¬ICPå¤‡2021006935å·-2</a> </span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          è·Ÿéšç³»ç»Ÿ
        </li><li class="iconfont icon-rijianmoshi">
          æµ…è‰²æ¨¡å¼
        </li><li class="iconfont icon-yejianmoshi">
          æ·±è‰²æ¨¡å¼
        </li><li class="iconfont icon-yuedu">
          é˜…è¯»æ¨¡å¼
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----><!----><!----><div></div></div></div>
    <script src="/blog/assets/js/app.76fa57e6.js" defer></script><script src="/blog/assets/js/3.a2a245ac.js" defer></script><script src="/blog/assets/js/170.b70b623c.js" defer></script><script src="/blog/assets/js/4.245b4373.js" defer></script>
  </body>
</html>
